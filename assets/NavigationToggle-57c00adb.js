import{a5 as e,a6 as a,a9 as c,bA as _,cc as m}from"./index-b516d057.js";import{i as d,e as $,O as B,n as r}from"./jsxFactory-92036771.js";import{e as g}from"./globalCss-94006b67.js";import{t as N}from"./accessibleHandler-e91101b2.js";import"./uuid-709b6c67.js";const n="esri-navigation-toggle",s={base:n,widgetIcon:d.pan2,button:`${n}__button`,activeButton:`${n}__button--active`,panButton:`${n}__button--pan`,rotateButton:`${n}__button--rotate`,isLayoutHorizontal:`${n}--horizontal`};let l=class extends _{constructor(t){super(t),this.navigationMode="pan",this.view=null}initialize(){this.addHandles(m(()=>{var t;return(t=this.view)==null?void 0:t.inputManager},()=>this._setNavigationMode()))}destroy(){this.view=null}get state(){var t,o;return(t=this.view)!=null&&t.ready&&((o=this.view)==null?void 0:o.type)==="3d"?"ready":"disabled"}toggle(){this.state!=="disabled"&&(this.navigationMode=this.navigationMode!=="pan"?"pan":"rotate",this._setNavigationMode())}_setNavigationMode(){var o;const t=(o=this.view)==null?void 0:o.inputManager;t&&(t.primaryDragAction=this.navigationMode==="pan"?"pan":"rotate")}};e([a({readOnly:!0})],l.prototype,"state",null),e([a()],l.prototype,"navigationMode",void 0),e([a()],l.prototype,"view",void 0),l=e([c("esri.widgets.NavigationToggleViewModel")],l);const h=l;let i=class extends B{constructor(t,o){super(t,o),this.iconClass=s.widgetIcon,this.icon=null,this.messages=null,this.viewModel=new h}get label(){var t;return((t=this.messages)==null?void 0:t.widgetLabel)??""}set label(t){this._overrideIfSome("label",t)}set layout(t){t!=="horizontal"&&(t="vertical"),this._set("layout",t)}get view(){return this.viewModel.view}set view(t){this.viewModel.view=t}toggle(){return this.viewModel.toggle()}render(){var v,u;const t=((v=this.viewModel)==null?void 0:v.state)==="disabled",o=((u=this.viewModel)==null?void 0:u.navigationMode)==="pan",w={[g.disabled]:t,[s.isLayoutHorizontal]:this.layout==="horizontal"},y={[s.activeButton]:o},b={[s.activeButton]:!o},M=t?-1:0,p=this.messages.toggle;return r("div",{"aria-label":p,bind:this,class:this.classes(s.base,g.widget,w),onclick:this._toggle,onkeydown:this._toggle,tabIndex:M,title:p},r("div",{class:this.classes(s.button,g.widgetButton,s.panButton,y)},r("span",{class:d.pan})),r("div",{class:this.classes(s.button,g.widgetButton,s.rotateButton,b)},r("span",{class:d.rotate})))}_toggle(){this.toggle()}};e([a()],i.prototype,"iconClass",void 0),e([a()],i.prototype,"icon",void 0),e([a()],i.prototype,"label",null),e([a({value:"vertical"})],i.prototype,"layout",null),e([a(),$("esri/widgets/NavigationToggle/t9n/NavigationToggle")],i.prototype,"messages",void 0),e([a()],i.prototype,"view",null),e([a({type:h})],i.prototype,"viewModel",void 0),e([N()],i.prototype,"_toggle",null),i=e([c("esri.widgets.NavigationToggle")],i);const H=i;export{H as default};
