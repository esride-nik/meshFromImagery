import{a5 as t,a6 as r,a7 as E,ad as u,a9 as d,ae as c,nf as P,dx as D,dA as T,an as k,X as U}from"./index-b516d057.js";import{e as x,n as N,s as B}from"./weather-2eb64924.js";var y;let s=y=class extends c{constructor(e){super(e),this.type="sun",this.date=null,this.directShadowsEnabled=!1,this.displayUTCOffset=null}readDate(e,o){return o.datetime!=null&&new Date(o.datetime)||null}writeDate(e,o,n){o[n]=e.getTime()}readDirectShadowsEnabled(e,o){return!!o.directShadows}writedirectShadowsEnabled(e,o,n){e&&(o[n]=e)}writeDisplayUTCOffset(e,o){e!=null&&(o.displayUTCOffset=e)}clone(){return new y(this.cloneConstructProperties())}cloneConstructProperties(){const e={directShadowsEnabled:this.directShadowsEnabled,displayUTCOffset:this.displayUTCOffset!=null?this.displayUTCOffset:null};return this.date!=null&&(e.date=new Date(this.date.getTime())),e}};t([r({readOnly:!0,type:["sun"],json:{write:!0}})],s.prototype,"type",void 0),t([r({type:Date,json:{type:Number,write:{target:"datetime"}}})],s.prototype,"date",void 0),t([E("date",["datetime"])],s.prototype,"readDate",null),t([u("date")],s.prototype,"writeDate",null),t([r({type:Boolean,json:{default:!1,write:{target:"directShadows"}}})],s.prototype,"directShadowsEnabled",void 0),t([E("directShadowsEnabled",["directShadows"])],s.prototype,"readDirectShadowsEnabled",null),t([u("directShadowsEnabled")],s.prototype,"writedirectShadowsEnabled",null),t([r({type:Number,json:{write:!0}})],s.prototype,"displayUTCOffset",void 0),t([u("displayUTCOffset")],s.prototype,"writeDisplayUTCOffset",null),s=y=t([d("esri.webscene.SunLighting")],s);const h=s;var w;let i=w=class extends c{constructor(e){super(e),this.type="virtual",this.directShadowsEnabled=!1}clone(){return new w(this.cloneConstructProperties())}cloneConstructProperties(){return{directShadowsEnabled:this.directShadowsEnabled}}};t([r({readOnly:!0,type:["virtual"],json:{write:!0}})],i.prototype,"type",void 0),t([r({type:Boolean,json:{default:!1,name:"directShadows",write:!0}})],i.prototype,"directShadowsEnabled",void 0),i=w=t([d("esri.webscene.VirtualLighting")],i);const m=i,M={key:"type",defaultKeyValue:"sun",base:null,typeMap:{sun:h,virtual:m}};let p=class extends c{constructor(o){super(o)}clone(){}};t([r({readOnly:!0,json:{read:!1}})],p.prototype,"type",void 0),p=t([d("esri.webscene.background.Background")],p);const C=p;var b;const L={...P,nonNullable:!0};let l=b=class extends C{constructor(e){super(e),this.type="color",this.color=new T([0,0,0,1])}clone(){return new b(this.cloneProperties())}cloneProperties(){return{color:this.color.clone()}}};t([D({color:"color"},{readOnly:!0})],l.prototype,"type",void 0),t([r(L)],l.prototype,"color",void 0),l=b=t([d("esri.webscene.background.ColorBackground")],l);const V=l,S={base:C,key:"type",typeMap:{color:V}};function A(e){return(o,n,O)=>{if(!o)return o;for(const f in e.typeMap)if(o.type===f){const v=new e.typeMap[f];return v.read(o,O),v}}}const K={types:S,json:{read:A(S),write:{overridePolicy:(e,o,n)=>({enabled:!n||!n.isPresentation})}}};var g;const j="esri.webscene.Environment",X=k.getLogger(j),$=(e,o,n)=>({enabled:!n||!n.isPresentation});let a=g=class extends c{constructor(e){super(e),this.lighting=new h,this.background=null,this.atmosphereEnabled=!0,this.starsEnabled=!0}set weather(e){B(e==null?void 0:e.type,X)&&this._set("weather",e)}clone(){return new g(this.cloneConstructProperties())}cloneConstructProperties(){return{lighting:this.lighting&&this.lighting.type==="virtual"?m.prototype.clone.call(this.lighting):h.prototype.clone.call(this.lighting),background:U(this.background),atmosphereEnabled:this.atmosphereEnabled,starsEnabled:this.starsEnabled,weather:this.weather.clone()}}};t([r({types:M,nonNullable:!0,json:{write:!0}})],a.prototype,"lighting",void 0),t([r(K)],a.prototype,"background",void 0),t([r({type:Boolean,nonNullable:!0,json:{write:{overridePolicy:$}}})],a.prototype,"atmosphereEnabled",void 0),t([r({type:Boolean,nonNullable:!0,json:{write:{overridePolicy:$}}})],a.prototype,"starsEnabled",void 0),t([r({types:x,nonNullable:!0,json:{write:!0},value:new N})],a.prototype,"weather",null),a=g=t([d(j)],a);const F=a;export{m as a,M as i,F as j,V as n,h as p};
