import{u as a}from"./workerHelper-d1cc0cda.js";import{f as d,u as c,p as l,T as p,d as f,m as g}from"./edgeProcessing-82213448.js";import"./InterleavedLayout-d76b0d59.js";import"./index-b516d057.js";import"./types-1305598a.js";import"./glUtil-ce5ee52b.js";import"./enums-bdecffa2.js";import"./VertexElementDescriptor-2925c6af.js";class E{async extract(e){const t=o(e),n=d(t),s=[t.data.buffer];return{result:h(n,s),transferList:s}}async extractComponentsEdgeLocations(e){const t=o(e),n=c(t.data,t.skipDeduplicate,t.indices,t.indicesLength),s=l(n,D,u),r=[];return{result:a(s.regular.instancesData,r),transferList:r}}async extractEdgeLocations(e){const t=o(e),n=c(t.data,t.skipDeduplicate,t.indices,t.indicesLength),s=l(n,w,u),r=[];return{result:a(s.regular.instancesData,r),transferList:r}}}function o(i){return{data:p.createView(i.dataBuffer),indices:i.indicesType==="Uint32Array"?new Uint32Array(i.indices):i.indicesType==="Uint16Array"?new Uint16Array(i.indices):i.indices,indicesLength:i.indicesLength,writerSettings:i.writerSettings,skipDeduplicate:i.skipDeduplicate}}function h(i,e){return e.push(i.regular.lodInfo.lengths.buffer),e.push(i.silhouette.lodInfo.lengths.buffer),{regular:{instancesData:a(i.regular.instancesData,e),lodInfo:{lengths:i.regular.lodInfo.lengths.buffer}},silhouette:{instancesData:a(i.silhouette.instancesData,e),lodInfo:{lengths:i.silhouette.lodInfo.lengths.buffer}},averageEdgeLength:i.averageEdgeLength}}class m{allocate(e){return f.createBuffer(e)}trim(e,t){return e.slice(0,t)}write(e,t,n){e.position0.setVec(t,n.position0),e.position1.setVec(t,n.position1)}}class L{allocate(e){return g.createBuffer(e)}trim(e,t){return e.slice(0,t)}write(e,t,n){e.position0.setVec(t,n.position0),e.position1.setVec(t,n.position1),e.componentIndex.set(t,n.componentIndex)}}const w=new m,D=new L,u={allocate:()=>null,write:()=>{},trim:()=>null};export{E as default};
