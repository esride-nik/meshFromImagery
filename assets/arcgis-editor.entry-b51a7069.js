import{r as s,e as r,h as i,g as o}from"./index-b516d057.js";import{x as a,i as n}from"./index-c227d296-dd1efda8.js";import{r as l,c as d}from"./component-utils-2ebdae59-b855ce5d.js";import{o as h}from"./disconnected-bc5fc8bc-72f6378d.js";const p="",f=class{constructor(t){s(this,t),this.widgetReady=r(this,"widgetReady",7),this.referenceElement=void 0,this.activeWorkflow=void 0,this.allowedWorkflows=void 0,this.labelOptions=void 0,this.layerInfos=void 0,this.snappingOptions=void 0,this.supportingWidgetDefaults=void 0,this.tooltipOptions=void 0,this.position="bottom-left",this.expandable=!1,this.view=void 0,this.widget=void 0}positionWatcher(t){t!==void 0&&this.widget&&typeof this.view!="string"&&this.view.ui.move(this.childElem,t)}allowedWorkflowsWatcher(t){t&&this.widget&&(this.widget.allowedWorkflows=t)}labelOptionsWatcher(t){t&&this.widget&&(this.widget.labelOptions=t)}layerInfosWatcher(t){t&&this.widget&&(this.widget.layerInfos=t)}snappingOptionsWatcher(t){t&&this.widget&&(this.widget.snappingOptions=t)}supportingWidgetDefaultsWatcher(t){t&&this.widget&&(this.widget.supportingWidgetDefaults=t)}tooltipOptionsWatcher(t){t&&this.widget&&(this.widget.tooltipOptions=t)}referenceElementWatcher(t){l(this,t)}viewWatcher(t){t!==void 0&&this.widget&&(this.widget.view=t)}async cancelWorkflow(){var t;return(t=this.widget)==null?void 0:t.cancelWorkflow()}async deleteFeatureFromWorkflow(){var t;return(t=this.widget)==null?void 0:t.deleteFeatureFromWorkflow()}async startCreateFeaturesWorkflowAtFeatureCreation(t){var e;return(e=this.widget)==null?void 0:e.startCreateFeaturesWorkflowAtFeatureCreation(t)}async startCreateFeaturesWorkflowAtFeatureTypeSelection(){var t;return(t=this.widget)==null?void 0:t.startCreateFeaturesWorkflowAtFeatureTypeSelection()}async startUpdateWorkflowAtFeatureEdit(t){var e;return(e=this.widget)==null?void 0:e.startUpdateWorkflowAtFeatureEdit(t)}async startUpdateWorkflowAtFeatureSelection(){var t;return(t=this.widget)==null?void 0:t.startUpdateWorkflowAtFeatureSelection()}async startUpdateWorkflowAtMultipleFeatureSelection(t){var e;return(e=this.widget)==null?void 0:e.startUpdateWorkflowAtMultipleFeatureSelection(t)}async componentDidLoad(){const t=this._createParams(),e=await a(t);this.widget=e,this._addWatchers(),this.widgetReady.emit({widget:this.widget}),d(this)}disconnectedCallback(){h(this)}render(){return this.expandable?i("arcgis-expand",{position:this.position,ref:t=>this.expandElem=t},i("div",{ref:t=>this.childElem=t})):i("div",{ref:t=>this.childElem=t})}async _addWatchers(){const{watch:t}=await n();t(()=>this.widget.activeWorkflow,e=>this.activeWorkflow=e,{initial:!0})}_createParams(){const t={container:this.childElem};return this.allowedWorkflows&&(t.allowedWorkflows=this.allowedWorkflows),this.labelOptions&&(t.labelOptions=this.labelOptions),this.layerInfos&&(t.layerInfos=this.layerInfos),this.snappingOptions&&(t.snappingOptions=this.snappingOptions),this.supportingWidgetDefaults&&(t.supportingWidgetDefaults=this.supportingWidgetDefaults),this.tooltipOptions&&(t.tooltipOptions=this.tooltipOptions),this.view&&(t.view=this.view),t}get el(){return o(this)}static get watchers(){return{position:["positionWatcher"],allowedWorkflows:["allowedWorkflowsWatcher"],labelOptions:["labelOptionsWatcher"],layerInfos:["layerInfosWatcher"],snappingOptions:["snappingOptionsWatcher"],supportingWidgetDefaults:["supportingWidgetDefaultsWatcher"],tooltipOptions:["tooltipOptionsWatcher"],referenceElement:["referenceElementWatcher"],view:["viewWatcher"]}}};f.style=p;export{f as arcgis_editor};
