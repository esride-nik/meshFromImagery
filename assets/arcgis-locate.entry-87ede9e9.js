import{r as n,e as s,h as o,g as a}from"./index-b516d057.js";import{L as c}from"./index-c227d296-dd1efda8.js";import{r as d,c as r}from"./component-utils-2ebdae59-b855ce5d.js";import{o as h}from"./disconnected-bc5fc8bc-72f6378d.js";const g="arcgis-locate{}",l=class{constructor(e){n(this,e),this.widgetReady=s(this,"widgetReady",7),this.locateSuccess=s(this,"locateSuccess",7),this.locateError=s(this,"locateError",7),this.referenceElement=void 0,this.geolocationOptions=void 0,this.goToLocationEnabled=void 0,this.graphic=void 0,this.popupEnabled=void 0,this.scale=void 0,this.position="bottom-left",this.view=void 0,this.widget=void 0,this.useHeadingEnabled=!0}positionWatcher(e){e!==void 0&&this.widget&&typeof this.view!="string"&&this.view.ui.move(this.childElem,e)}geolocationOptionsWatcher(e){e!==void 0&&this.widget&&(this.widget.geolocationOptions=e)}goToLocationEnabledWatcher(e){e!==void 0&&this.widget&&(this.widget.goToLocationEnabled=e)}graphicWatcher(e){e!==void 0&&this.widget&&(this.widget.graphic=e)}popupEnabledWatcher(e){e!==void 0&&this.widget&&(this.widget.popupEnabled=e)}scaleWatcher(e){e!==void 0&&this.widget&&(this.widget.scale=e)}referenceElementWatcher(e){d(this,e)}viewWatcher(e){e!==void 0&&this.widget&&(this.widget.view=e)}useHeadingWatcher(e){this.widget&&(this.widget.useHeadingEnabled=e)}async cancelLocate(){var e;return(e=this.widget)==null?void 0:e.cancelLocate()}async locate(){var e;return(e=this.widget)==null?void 0:e.locate()}async componentDidLoad(){const e=this._createParams(),i=await c(e);this.widget=i,this._proxyEvents(),this.widgetReady.emit({widget:this.widget}),r(this)}disconnectedCallback(){h(this)}render(){return o("div",{ref:e=>this.childElem=e})}_createParams(){const e={container:this.childElem,useHeadingEnabled:this.useHeadingEnabled};return this.geolocationOptions!==void 0&&(e.geolocationOptions=this.geolocationOptions),this.goToLocationEnabled!==void 0&&(e.goToLocationEnabled=this.goToLocationEnabled),this.graphic!==void 0&&(e.graphic=this.graphic),this.popupEnabled!==void 0&&(e.popupEnabled=this.popupEnabled),this.scale!==void 0&&(e.scale=this.scale),this.view&&(e.view=this.view),e}async _proxyEvents(){var e,i;(e=this.widget)==null||e.on("locate",t=>this.locateSuccess.emit(t)),(i=this.widget)==null||i.on("locate-error",t=>this.locateError.emit(t))}get el(){return a(this)}static get watchers(){return{position:["positionWatcher"],geolocationOptions:["geolocationOptionsWatcher"],goToLocationEnabled:["goToLocationEnabledWatcher"],graphic:["graphicWatcher"],popupEnabled:["popupEnabledWatcher"],scale:["scaleWatcher"],referenceElement:["referenceElementWatcher"],view:["viewWatcher"],useHeadingEnabled:["useHeadingWatcher"]}}};l.style=g;export{l as arcgis_locate};
