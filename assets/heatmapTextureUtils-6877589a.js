import{s as l}from"./index-b516d057.js";import{U as b,L as n,G as r,P as c}from"./enums-bdecffa2.js";class E{constructor(a,t,e,o){this.dataType=a,this.samplingMode=t,this.pixelFormat=e,this.internalFormat=o}}function A(i,a){const{textureFloat:t,colorBufferFloat:e}=i.capabilities,o=t==null?void 0:t.textureFloat,R=t==null?void 0:t.textureFloatLinear,m=t==null?void 0:t.textureHalfFloat,F=t==null?void 0:t.textureHalfFloatLinear,h=e==null?void 0:e.textureFloat,f=e==null?void 0:e.textureHalfFloat,p=e==null?void 0:e.floatBlend,u=i.driverTest.floatBufferBlend.result;if(!o&&!m)throw new l("heatmap:missing-texture-float","HeatmapRenderer requires WebGL2 or the WebGL1 extension OES_texture_float or OES_texture_half_float.");if(!h&&!f)throw new l("heatmap:missing-color-buffer-float","HeatmapRenderer requires the WebGL extension EXT_color_buffer_float or EXT_color_buffer_half_float or WEBGL_color_buffer_float.");if(!(p&&u||f))throw new l("heatmap:missing-float-blend","HeatmapRenderer requires the WebGL extension EXT_float_blend or EXT_color_buffer_half_float."+(u?"":" This device claims support for EXT_float_blend, but does not actually support it."));const L=o&&h&&p&&u,w=m&&f,s=R,_=F,d=!!(e!=null&&e.R32F),x=!!(e!=null&&e.R16F);if(L&&(s||!_))return s||a.warnOnce("Missing WebGL extension OES_texture_float_linear. Heatmap quality may be reduced."),new E(b.FLOAT,s?n.LINEAR:n.NEAREST,d?r.RED:r.RGBA,d?c.R32F:r.RGBA);if(w)return _||a.warnOnce("Missing WebGL extension OES_texture_half_float_linear. Heatmap quality may be reduced."),new E(b.HALF_FLOAT,_?n.LINEAR:n.NEAREST,x?r.RED:r.RGBA,x?c.R16F:r.RGBA);throw new l("heatmap:missing-hardware-support","HeatmapRenderer requires WebGL extensions that allow it to render and blend to float or half float textures.")}export{A as n};
