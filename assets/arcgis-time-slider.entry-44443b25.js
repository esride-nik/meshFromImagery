import{r as n,e as s,h as e,g as d}from"./index-b516d057.js";import{_ as h,i as o}from"./index-c227d296-dd1efda8.js";import{r,c as a}from"./component-utils-2ebdae59-b855ce5d.js";import{o as c}from"./disconnected-bc5fc8bc-72f6378d.js";const f="arcgis-time-slider{}",l=class{constructor(i){n(this,i),this.triggerAction=s(this,"triggerAction",7),this.widgetReady=s(this,"widgetReady",7),this.referenceElement=void 0,this.actions=void 0,this.effectiveStops=void 0,this.fullTimeExtent=void 0,this.layout=void 0,this.loop=void 0,this.mode=void 0,this.playRate=void 0,this.stops=void 0,this.tickConfigs=void 0,this.timeExtent=void 0,this.timeVisible=void 0,this.view=void 0,this.position="bottom-left",this.expandable=!1,this.widget=void 0}actionsWatcher(i){i!==void 0&&this.widget&&(this.widget.actions=i)}fullTimeExtentWatcher(i){i!==void 0&&this.widget&&(this.widget.fullTimeExtent=i)}layoutWatcher(i){i!==void 0&&this.widget&&(this.widget.layout=i)}loopWatcher(i){i!==void 0&&this.widget&&(this.widget.loop=i)}modeWatcher(i){i!==void 0&&this.widget&&(this.widget.mode=i)}playRateWatcher(i){i!==void 0&&this.widget&&(this.widget.playRate=i)}stopsWatcher(i){i!==void 0&&this.widget&&(this.widget.stops=i)}tickConfigsWatcher(i){i!==void 0&&this.widget&&(this.widget.tickConfigs=i)}timeExtentWatcher(i){i!==void 0&&this.widget&&(this.widget.timeExtent=i)}timeVisibleWatcher(i){i!==void 0&&this.widget&&(this.widget.timeVisible=i)}positionWatcher(i){i!==void 0&&this.widget&&typeof this.view!="string"&&this.view.ui.move(this.childElem,i)}referenceElementWatcher(i){r(this,i)}viewWatcher(i){i!==void 0&&this.widget&&(this.widget.view=i)}async next(){var i;return(i=this.widget)==null?void 0:i.next()}async play(){var i;return(i=this.widget)==null?void 0:i.play()}async previous(){var i;return(i=this.widget)==null?void 0:i.previous()}async stop(){var i;return(i=this.widget)==null?void 0:i.stop()}async componentDidLoad(){const i=this._createParams(),t=await h(i);this.widget=t,await this._addWatchers(),this._proxyEvents(),this.widgetReady.emit({widget:this.widget}),a(this)}disconnectedCallback(){c(this)}render(){return this.expandable?e("arcgis-expand",{position:this.position,ref:i=>this.expandElem=i},e("div",{ref:i=>this.childElem=i})):e("div",{ref:i=>this.childElem=i})}async _addWatchers(){const{watch:i}=await o();i(()=>this.widget.effectiveStops,t=>this.effectiveStops=t,{initial:!0})}_createParams(){const i={container:this.childElem};return this.actions!==void 0&&(i.actions=this.actions),this.fullTimeExtent!==void 0&&(i.fullTimeExtent=this.fullTimeExtent),this.layout!==void 0&&(i.layout=this.layout),this.loop!==void 0&&(i.loop=this.loop),this.mode!==void 0&&(i.mode=this.mode),this.playRate!==void 0&&(i.playRate=this.playRate),this.stops!==void 0&&(i.stops=this.stops),this.tickConfigs!==void 0&&(i.tickConfigs=this.tickConfigs),this.timeExtent!==void 0&&(i.timeExtent=this.timeExtent),this.timeVisible!==void 0&&(i.timeVisible=this.timeVisible),this.view&&(i.view=this.view),i}async _proxyEvents(){var i;(i=this.widget)==null||i.on("trigger-action",t=>this.triggerAction.emit(t))}get el(){return d(this)}static get watchers(){return{actions:["actionsWatcher"],fullTimeExtent:["fullTimeExtentWatcher"],layout:["layoutWatcher"],loop:["loopWatcher"],mode:["modeWatcher"],playRate:["playRateWatcher"],stops:["stopsWatcher"],tickConfigs:["tickConfigsWatcher"],timeExtent:["timeExtentWatcher"],timeVisible:["timeVisibleWatcher"],position:["positionWatcher"],referenceElement:["referenceElementWatcher"],view:["viewWatcher"]}}};l.style=f;export{l as arcgis_time_slider};
