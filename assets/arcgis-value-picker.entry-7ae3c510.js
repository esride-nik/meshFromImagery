import{r as s,e as i,h as a,g as n}from"./index-b516d057.js";import{a3 as o,i as r}from"./index-c227d296-dd1efda8.js";import{c as h}from"./component-utils-2ebdae59-b855ce5d.js";import{o as c}from"./disconnected-bc5fc8bc-72f6378d.js";const l="arcgis-value-picker{}",d=class{constructor(t){s(this,t),this.widgetReady=i(this,"widgetReady",7),this.valuePickerAnimate=i(this,"valuePickerAnimate",7),this.valuePickerNext=i(this,"valuePickerNext",7),this.valuePickerPause=i(this,"valuePickerPause",7),this.valuePickerPlay=i(this,"valuePickerPlay",7),this.valuePickerPrevious=i(this,"valuePickerPrevious",7),this.referenceElement=void 0,this.view=void 0,this.position="bottom-left",this.expandable=!1,this.widget=void 0,this.canNext=void 0,this.canPlay=void 0,this.canPrevious=void 0,this.caption=void 0,this.component=void 0,this.layout=void 0,this.loop=void 0,this.playRate=void 0,this.values=void 0}positionWatcher(t){t!==void 0&&this.widget&&typeof this.view!="string"&&this.view.ui.move(this.childElem,t)}captionWatcher(t){this.widget.caption=t}componentWatcher(t){this.widget.component=t}layoutWatcher(t){this.widget.layout=t}loopWatcher(t){this.widget.loop=t}playRateWatcher(t){this.widget.playRate=t}async next(){var t;return(t=this.widget)==null?void 0:t.next()}async pause(){var t;return(t=this.widget)==null?void 0:t.pause()}async play(){var t;return(t=this.widget)==null?void 0:t.play()}async previous(){var t;return(t=this.widget)==null?void 0:t.previous()}async componentDidLoad(){const t=this._createParams(),e=await o(t);this.widget=e,await this._addWatchers(),this._proxyEvents(),this.widgetReady.emit({widget:this.widget}),h(this)}disconnectedCallback(){c(this)}render(){return this.expandable?a("arcgis-expand",{position:this.position,ref:t=>this.expandElem=t},a("div",{ref:t=>this.childElem=t})):a("div",{ref:t=>this.childElem=t})}async _addWatchers(){const{watch:t}=await r();t(()=>this.widget.canNext,e=>this.canNext=e,{initial:!0}),t(()=>this.widget.canPlay,e=>this.canPlay=e,{initial:!0}),t(()=>this.widget.canPrevious,e=>this.canPrevious=e,{initial:!0})}_createParams(){const t={container:this.childElem};return this.caption&&(t.caption=this.caption),this.component&&(t.component=this.component),this.layout&&(t.layout=this.layout),this.loop&&(t.loop=this.loop),this.playRate&&(t.playRate=this.playRate),t}_proxyEvents(){this.widget.on("animate",t=>this.valuePickerAnimate.emit(t)),this.widget.on("next",t=>this.valuePickerNext.emit(t)),this.widget.on("pause",t=>this.valuePickerPause.emit(t)),this.widget.on("play",t=>this.valuePickerPlay.emit(t)),this.widget.on("previous",t=>this.valuePickerPrevious.emit(t))}get el(){return n(this)}static get watchers(){return{position:["positionWatcher"],caption:["captionWatcher"],component:["componentWatcher"],layout:["layoutWatcher"],loop:["loopWatcher"],playRate:["playRateWatcher"]}}};d.style=l;export{d as arcgis_value_picker};
