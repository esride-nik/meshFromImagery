import{r,e as i,h as s,g as a}from"./index-b516d057.js";import{O as n,i as d}from"./index-c227d296-dd1efda8.js";import{r as h,c as o}from"./component-utils-2ebdae59-b855ce5d.js";import{o as l}from"./disconnected-bc5fc8bc-72f6378d.js";const c="",m=class{constructor(t){r(this,t),this.printComplete=i(this,"printComplete",7),this.printSubmit=i(this,"printSubmit",7),this.widgetReady=i(this,"widgetReady",7),this.referenceElement=void 0,this.allowedFormats=void 0,this.allowedLayouts=void 0,this.exportedLinks=void 0,this.extraParameters=void 0,this.includeDefaultTemplates=void 0,this.portal=void 0,this.printServiceUrl=void 0,this.templateCustomTextElements=void 0,this.templateOptions=void 0,this.position="bottom-left",this.expandable=!1,this.view=void 0,this.widget=void 0}positionWatcher(t){t!==void 0&&this.widget&&typeof this.view!="string"&&this.view.ui.move(this.childElem,t)}allowedFormatsWatcher(t){t&&this.widget&&(this.widget.allowedFormats=t.split(","))}allowedLayoutsWatcher(t){t&&this.widget&&(this.widget.allowedLayouts=t.split(","))}extraParametersWatcher(t){t&&this.widget&&(this.widget.extraParameters=t)}includeDefaultTemplatesWatcher(t){t&&this.widget&&(this.widget.includeDefaultTemplates=t)}portalWatcher(t){t&&this.widget&&(this.widget.portal=t)}printServiceUrlWatcher(t){t&&this.widget&&(this.widget.printServiceUrl=t)}templateCustomTextElementsWatcher(t){t&&this.widget&&(this.widget.templateCustomTextElements=t)}templateOptionsWatcher(t){t&&this.widget&&(this.widget.templateOptions=t)}referenceElementWatcher(t){h(this,t)}viewWatcher(t){t!==void 0&&this.widget&&(this.widget.view=t)}async componentDidLoad(){const t=this._createParams(),e=await n(t);this.widget=e,await this._addWatchers(),this._proxyEvents(),this.widgetReady.emit({widget:this.widget}),o(this)}disconnectedCallback(){l(this)}render(){return this.expandable?s("arcgis-expand",{position:this.position,ref:t=>this.expandElem=t},s("div",{ref:t=>this.childElem=t})):s("div",{ref:t=>this.childElem=t})}async _addWatchers(){const{watch:t}=await d();t(()=>this.widget.exportedLinks,e=>this.exportedLinks=e,{initial:!0})}_createParams(){const t={container:this.childElem};return this.allowedFormats&&(t.allowedFormats=this.allowedFormats),this.allowedLayouts&&(t.allowedLayouts=this.allowedLayouts),this.view&&(t.view=this.view),t}_proxyEvents(){this.widget.on("complete",t=>this.printComplete.emit(t)),this.widget.on("submit",t=>this.printSubmit.emit(t))}get el(){return a(this)}static get watchers(){return{position:["positionWatcher"],allowedFormats:["allowedFormatsWatcher"],allowedLayouts:["allowedLayoutsWatcher"],extraParameters:["extraParametersWatcher"],includeDefaultTemplates:["includeDefaultTemplatesWatcher"],portal:["portalWatcher"],printServiceUrl:["printServiceUrlWatcher"],templateCustomTextElements:["templateCustomTextElementsWatcher"],templateOptions:["templateOptionsWatcher"],referenceElement:["referenceElementWatcher"],view:["viewWatcher"]}}};m.style=c;export{m as arcgis_print};
