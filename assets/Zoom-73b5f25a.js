import{a5 as o,a6 as e,a9 as m,bA as w,gl as g,b9 as z}from"./index-b516d057.js";import{O,n as p,i as v,e as b}from"./jsxFactory-92036771.js";import{e as d}from"./globalCss-94006b67.js";import{t as f}from"./resources-d4afed0c.js";import{t as C}from"./accessibleHandler-e91101b2.js";import"./uuid-709b6c67.js";let r=class extends O{constructor(){super(...arguments),this.enabled=!0,this.iconClass=null,this.icon=null,this.title=""}render(){const t=this.enabled?0:-1,i={[d.disabled]:!this.enabled,[d.interactive]:this.enabled};return p("div",{bind:this,class:this.classes(d.widgetButton,d.widget,i),onclick:this._triggerAction,onkeydown:this._triggerAction,role:"button",tabIndex:t,title:this.title},p("span",{"aria-hidden":"true",class:this.classes(f.icon,this.iconClass??""),role:"presentation"}),p("span",{class:v.fontFallbackText},this.title))}_triggerAction(){this.action.call(this)}};o([e()],r.prototype,"action",void 0),o([e()],r.prototype,"enabled",void 0),o([e()],r.prototype,"iconClass",void 0),o([e()],r.prototype,"icon",void 0),o([e()],r.prototype,"title",void 0),o([C()],r.prototype,"_triggerAction",null),r=o([m("esri.widgets.IconButton")],r);const _=r;let c=class extends w{get canZoomIn(){var n,s,h;if(!((n=this.view)==null?void 0:n.ready))return!1;const i=(h=(s=this.view)==null?void 0:s.constraints)==null?void 0:h.effectiveMaxScale;return i===0||this._scale>i}get canZoomOut(){var s;const{view:t}=this;if(!(t==null?void 0:t.ready))return!1;const n=(s=t.constraints)==null?void 0:s.effectiveMinScale;return n===0||this._scale<n}get _scale(){var i,n,s;const t=(n=(i=this.view)==null?void 0:i.animation)==null?void 0:n.target;return(t&&"then"in t||t==null?void 0:t.scale)??((s=this.view)==null?void 0:s.scale)??0}};o([e({readOnly:!0})],c.prototype,"canZoomIn",null),o([e({readOnly:!0})],c.prototype,"canZoomOut",null),o([e()],c.prototype,"view",void 0),o([e()],c.prototype,"_scale",null),c=o([m("esri.widgets.Zoom.ZoomConditions2D")],c);const B=c;let u=class extends w{get canZoomIn(){return!!this.view.ready}get canZoomOut(){return!!this.view.ready}};o([e({readOnly:!0})],u.prototype,"canZoomIn",null),o([e({readOnly:!0})],u.prototype,"canZoomOut",null),o([e()],u.prototype,"view",void 0),u=o([m("esri.widgets.Zoom.ZoomConditions3D")],u);const $=u;let l=class extends w{constructor(t){super(t)}destroy(){this.view=null}get canZoomIn(){return this._zoomConditions!=null&&this._zoomConditions.canZoomIn}get canZoomOut(){var t;return this._zoomConditions!=null&&((t=this._zoomConditions)==null?void 0:t.canZoomOut)}get state(){var t;return(t=this.view)!=null&&t.ready?"ready":"disabled"}set view(t){t?t.type==="2d"?this._zoomConditions=new B({view:t}):t.type==="3d"&&(this._zoomConditions=new $({view:t})):this._zoomConditions=null,this._set("view",t)}zoomIn(){if(!this.canZoomIn)return;const t=this.view;t.type==="2d"?t.mapViewNavigation.zoomIn():g(t.goTo({zoomFactor:2}))}zoomOut(){if(!this.canZoomOut)return;const t=this.view;t.type==="2d"?t.mapViewNavigation.zoomOut():g(t.goTo({zoomFactor:.5}))}};o([e()],l.prototype,"_zoomConditions",void 0),o([e()],l.prototype,"canZoomIn",null),o([e()],l.prototype,"canZoomOut",null),o([e({readOnly:!0})],l.prototype,"state",null),o([e()],l.prototype,"view",null),l=o([m("esri.widgets.Zoom.ZoomViewModel")],l);const I=l,y={base:"esri-zoom",widgetIcon:v.zoomInMagnifyingGlass,horizontalLayout:"esri-zoom--horizontal"};let a=class extends O{constructor(t,i){super(t,i),this.iconClass=y.widgetIcon,this.icon=null,this.messages=null,this.viewModel=new I}initialize(){this._zoomInButton=new _({action:this.zoomIn.bind(this),iconClass:v.plus}),this._zoomOutButton=new _({action:this.zoomOut.bind(this),iconClass:v.minus})}destroy(){this._zoomInButton=z(this._zoomInButton),this._zoomOutButton=z(this._zoomOutButton)}get label(){var t;return((t=this.messages)==null?void 0:t.widgetLabel)??""}set label(t){this._overrideIfSome("label",t)}set layout(t){t!=="horizontal"&&(t="vertical"),this._set("layout",t)}set view(t){this.viewModel.view=t}get view(){return this.viewModel.view}render(){const t=this.viewModel,i={[y.horizontalLayout]:this.layout==="horizontal"},{canZoomIn:n,canZoomOut:s}=t;this._zoomInButton.enabled=n,this._zoomOutButton.enabled=s;const{zoomIn:h,zoomOut:Z}=this.messages;return this._zoomInButton.title=h,this._zoomOutButton.title=Z,p("div",{class:this.classes(y.base,d.widget,i)},this._zoomInButton.render(),this._zoomOutButton.render())}zoomIn(){return this.viewModel.zoomIn()}zoomOut(){return this.viewModel.zoomOut()}};o([e()],a.prototype,"iconClass",void 0),o([e()],a.prototype,"icon",void 0),o([e()],a.prototype,"label",null),o([e({value:"vertical"})],a.prototype,"layout",null),o([e(),b("esri/widgets/Zoom/t9n/Zoom")],a.prototype,"messages",void 0),o([e()],a.prototype,"view",null),o([e({type:I})],a.prototype,"viewModel",void 0),a=o([m("esri.widgets.Zoom")],a);const S=a;export{S as default};
