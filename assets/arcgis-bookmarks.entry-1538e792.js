import{r as d,e as i,h as s,g as a}from"./index-b516d057.js";import{o as n,i as r}from"./index-c227d296-dd1efda8.js";import{r as o,c as h}from"./component-utils-2ebdae59-b855ce5d.js";import{o as c}from"./disconnected-bc5fc8bc-72f6378d.js";const f="",l=class{constructor(t){d(this,t),this.bookmarkEdit=i(this,"bookmarkEdit",7),this.bookmarkSelect=i(this,"bookmarkSelect",7),this.widgetReady=i(this,"widgetReady",7),this.referenceElement=void 0,this.bookmarks=void 0,this.defaultCreateOptions=void 0,this.defaultEditOptions=void 0,this.editingEnabled=void 0,this.position="bottom-left",this.expandable=!1,this.view=void 0,this.widget=void 0}positionWatcher(t){t!==void 0&&this.widget&&typeof this.view!="string"&&this.view.ui.move(this.childElem,t)}bookmarksWatcher(t){t!==void 0&&this.widget&&(this.widget.bookmarks=t)}defaultCreateOptionsWatcher(t){t!==void 0&&this.widget&&(this.widget.defaultCreateOptions=t)}defaultEditOptionsWatcher(t){t!==void 0&&this.widget&&(this.widget.defaultEditOptions=t)}editingEnabledWatcher(t){t!==void 0&&this.widget&&(this.widget.editingEnabled=t)}referenceElementWatcher(t){o(this,t)}viewWatcher(t){t!==void 0&&this.widget&&(this.widget.view=t)}async componentDidLoad(){const t=this._createParams(),e=await n(t);this.widget=e,await this._addWatchers(),this._proxyEvents(),this.widgetReady.emit({widget:this.widget}),h(this)}disconnectedCallback(){c(this)}render(){return this.expandable?s("arcgis-expand",{position:this.position,ref:t=>this.expandElem=t},s("div",{ref:t=>this.childElem=t})):s("div",{ref:t=>this.childElem=t})}async _addWatchers(){const{watch:t}=await r();t(()=>this.widget.editingEnabled,e=>this.editingEnabled=e,{initial:!0})}_createParams(){const t={container:this.childElem};return this.view&&(t.view=this.view),this.bookmarks&&(t.bookmarks=this.bookmarks),this.defaultCreateOptions&&(t.defaultCreateOptions=this.defaultCreateOptions),this.defaultEditOptions&&(t.defaultEditOptions=this.defaultEditOptions),this.editingEnabled!==void 0&&(t.editingEnabled=this.editingEnabled),t}_proxyEvents(){this.widget.on("bookmark-edit",t=>this.bookmarkEdit.emit(t)),this.widget.on("bookmark-select",t=>this.bookmarkSelect.emit(t))}get el(){return a(this)}static get watchers(){return{position:["positionWatcher"],bookmarks:["bookmarksWatcher"],defaultCreateOptions:["defaultCreateOptionsWatcher"],defaultEditOptions:["defaultEditOptionsWatcher"],editingEnabled:["editingEnabledWatcher"],referenceElement:["referenceElementWatcher"],view:["viewWatcher"]}}};l.style=f;export{l as arcgis_bookmarks};
