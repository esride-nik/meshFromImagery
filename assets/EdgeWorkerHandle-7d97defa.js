import{g5 as i,g6 as c}from"./index-b516d057.js";import{h as d}from"./WorkerHandle-9433ab9a.js";import{t as a}from"./workerHelper-d1cc0cda.js";import{f as u}from"./edgeProcessing-82213448.js";class p extends d{constructor(t){super("EdgeProcessingWorker","extract",{extract:e=>[e.dataBuffer],extractComponentsEdgeLocations:e=>[e.dataBuffer],extractEdgeLocations:e=>[e.dataBuffer]},t)}async process(t,e,n){if(n)return u(t);const o=await this.invoke(new s(t),e);return this._unpackOutput(o)}async extractEdgeLocations(t,e){const n=await this.invokeMethod("extractEdgeLocations",new s(t),e);return a(n)}async extractComponentsEdgeLocations(t,e){const n=await this.invokeMethod("extractComponentsEdgeLocations",new s(t),e);return a(n)}_unpackOutput(t){return{regular:{instancesData:a(t.regular.instancesData),lodInfo:{lengths:new Float32Array(t.regular.lodInfo.lengths)}},silhouette:{instancesData:a(t.silhouette.instancesData),lodInfo:{lengths:new Float32Array(t.silhouette.lodInfo.lengths)}},averageEdgeLength:t.averageEdgeLength}}}class s{constructor(t){this.dataBuffer=t.data.buffer,this.writerSettings=t.writerSettings,this.skipDeduplicate=t.skipDeduplicate,this.indices=i(t.indices)?t.indices:t.indices.buffer,this.indicesType=i(t.indices)?"Array":c(t.indices)?"Uint32Array":"Uint16Array",this.indicesLength=t.indicesLength}}export{p as a};
