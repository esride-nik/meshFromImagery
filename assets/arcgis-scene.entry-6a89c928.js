import{r as o,e as c,h as r,g as d}from"./index-b516d057.js";import{c as m,R as p,S as w,i as f}from"./index-c227d296-dd1efda8.js";import{d as g}from"./mapping-utils-26beb904-81783ae9.js";const l=".arcgis-scene{padding:0;margin:0;height:100%;width:100%}",v=class{constructor(i){o(this,i),this.viewReady=c(this,"viewReady",7),this.apiKey=void 0,this.itemId=void 0,this.zoom=void 0,this.center=void 0,this.view=void 0,this.disableNavigation=!1}apiKeyWatcher(i){this.config.apiKey=i}itemIdWatcher(i,s){i&&i!==s&&this.loadMap()}async componentWillLoad(){this.config=await m(),this.apiKey&&(this.config.apiKey=this.apiKey),this.itemId&&this.loadMap()}componentDidRender(){this.view&&(this.view.container=this.el)}render(){return r("div",{class:"arcgis-scene",ref:i=>this.el=i})}async loadMap(){const i={};this.itemId&&(i.portalItem={id:this.itemId});const s=await p(i),t={};this.zoom&&(t.zoom=this.zoom),this.center&&(typeof this.center=="string"?t.center=this.center.split(",").map(e=>Number(e)):t.center=this.center);const n=await w({map:s,...t}),{watch:a}=await f();this.view=n,a(()=>this.view.center,e=>{const h=`${e.longitude},${e.latitude}`;this.center=h}),a(()=>this.view.zoom,e=>this.zoom=e),this.disableNavigation&&g(this.view),this.view.when(()=>this.viewReady.emit({view:this.view}))}get hostElem(){return d(this)}static get watchers(){return{apiKey:["apiKeyWatcher"],itemId:["itemIdWatcher"]}}};v.style=l;export{v as arcgis_scene};
