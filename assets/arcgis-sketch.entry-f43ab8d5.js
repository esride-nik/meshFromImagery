import{r as a,e as i,h as s,g as n}from"./index-b516d057.js";import{U as h,i as d,V as o}from"./index-c227d296-dd1efda8.js";import{r,c}from"./component-utils-2ebdae59-b855ce5d.js";import{o as p}from"./disconnected-bc5fc8bc-72f6378d.js";const l="arcgis-sketch{}",f=class{constructor(t){a(this,t),this.sketchCreate=i(this,"sketchCreate",7),this.sketchDelete=i(this,"sketchDelete",7),this.sketchRedo=i(this,"sketchRedo",7),this.sketchUndo=i(this,"sketchUndo",7),this.sketchUpdate=i(this,"sketchUpdate",7),this.widgetReady=i(this,"widgetReady",7),this.referenceElement=void 0,this.activeTool=void 0,this.availableCreateTools=void 0,this.createGraphic=void 0,this.creationMode=void 0,this.defaultCreateOptions=void 0,this.defaultUpdateOptions=void 0,this.labelOptions=void 0,this.layer=void 0,this.layout=void 0,this.snappingOptions=void 0,this.tooltipOptions=void 0,this.updateGraphics=void 0,this.view=void 0,this.position="bottom-left",this.expandable=!1,this.widget=void 0}availableCreateToolsWatcher(t){t!==void 0&&this.widget&&(this.widget.availableCreateTools=t)}creationModeWatcher(t){t!==void 0&&this.widget&&(this.widget.creationMode=t)}defaultCreateOptionsWatcher(t){t!==void 0&&this.widget&&(this.widget.defaultCreateOptions=t)}defaultUpdateOptionsWatcher(t){t!==void 0&&this.widget&&(this.widget.defaultUpdateOptions=t)}labelOptionsWatcher(t){t!==void 0&&this.widget&&(this.widget.labelOptions=t)}layerWatcher(t){t!==void 0&&this.widget&&(this.widget.layer=t)}layoutWatcher(t){t!==void 0&&this.widget&&(this.widget.layout=t)}snappingOptionsWatcher(t){t!==void 0&&this.widget&&(this.widget.snappingOptions=t)}tooltipOptionsWatcher(t){t!==void 0&&this.widget&&(this.widget.tooltipOptions=t)}positionWatcher(t){t!==void 0&&this.widget&&typeof this.view!="string"&&this.view.ui.move(this.childElem,t)}referenceElementWatcher(t){r(this,t)}viewWatcher(t){var e;t!==void 0&&this.widget&&(this.widget.view=t,(e=this.widget.view.map)==null||e.add(this.layer))}async componentDidLoad(){const t=await this._createParams(),e=await h(t);this.widget=e,await this._addWatchers(),this.widgetReady.emit({widget:this.widget}),c(this)}disconnectedCallback(){p(this)}render(){return this.expandable?s("arcgis-expand",{position:this.position,ref:t=>this.expandElem=t},s("div",{ref:t=>this.childElem=t})):s("div",{ref:t=>this.childElem=t})}async _addWatchers(){const{watch:t}=await d();t(()=>this.widget.activeTool,e=>this.activeTool=e,{initial:!0}),t(()=>this.widget.createGraphic,e=>this.createGraphic=e,{initial:!0}),t(()=>this.widget.updateGraphics,e=>this.updateGraphics=e,{initial:!0})}async _createParams(){const t={title:"Sketch Layer",creationMode:"update"};this.layer=await o(t);const e={container:this.childElem,layer:this.layer};return this.view&&(e.view=this.view),this.availableCreateTools&&(e.availableCreateTools=this.availableCreateTools),this.creationMode&&(e.creationMode=this.creationMode),this.defaultCreateOptions&&(e.defaultCreateOptions=this.defaultCreateOptions),this.defaultUpdateOptions&&(e.defaultUpdateOptions=this.defaultUpdateOptions),this.labelOptions&&(e.labelOptions=this.labelOptions),this.layout&&(e.layout=this.layout),this.snappingOptions&&(e.snappingOptions=this.snappingOptions),this.tooltipOptions&&(e.tooltipOptions=this.tooltipOptions),e}get el(){return n(this)}static get watchers(){return{availableCreateTools:["availableCreateToolsWatcher"],creationMode:["creationModeWatcher"],defaultCreateOptions:["defaultCreateOptionsWatcher"],defaultUpdateOptions:["defaultUpdateOptionsWatcher"],labelOptions:["labelOptionsWatcher"],layer:["layerWatcher"],layout:["layoutWatcher"],snappingOptions:["snappingOptionsWatcher"],tooltipOptions:["tooltipOptionsWatcher"],position:["positionWatcher"],referenceElement:["referenceElementWatcher"],view:["viewWatcher"]}}};f.style=l;export{f as arcgis_sketch};
