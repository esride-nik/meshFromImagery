import{bg as Io,cb as N,a5 as u,a6 as p,a9 as J,aB as Ot,aD as fe,gV as As,fU as Ss,oD as ti,gY as xs,cq as Es,an as Rt,eW as je,cs as Po,lu as To,b4 as qt,bA as tn,V as G,eU as sn,cd as ve,bh as rn,iu as mt,lG as Oo,s as Ee,X as Ro,eH as nn,ap as ii,dm as Fo,iN as No,kl as zo,oE as Mo,gl as ko,b3 as Do,lF as Lo,km as si,_ as ri,oF as Is,h1 as Ps}from"./index-b516d057.js";import{U as Te,i as W,e as Re,O as on,n as O,Q as Ho,r as $o}from"./jsxFactory-92036771.js";import{n as Bo}from"./layerViewUtils-6ebe90f4.js";import{h as an,c as re}from"./ButtonMenu-86226b21.js";import{o as Vo}from"./editableLayers-856f2cb4.js";import{q as jo}from"./FieldInput-8449e312.js";import{p as ni}from"./uriUtils-dead790b.js";import{C as Go}from"./DatePicker-ccc9fd8a.js";import{T as Uo}from"./TimePicker-9d85cfd9.js";import{e as ln}from"./globalCss-94006b67.js";import{c as qo}from"./AttachmentQuery-bede5a71.js";import{e as Wo}from"./Heading-92f210ca.js";import"./uuid-709b6c67.js";import"./utils-1a995f8e.js";import"./basemapUtils-6ec10a55.js";import"./Basemap-8d62c69e.js";import"./loadAll-5e767cfa.js";import"./writeUtils-e226a8aa.js";import"./featureUtils-73b624d6.js";import"./featureFormUtils-24147792.js";import"./Popover-ca6b0b13.js";import"./accessibleHandler-e91101b2.js";const ft="esri-column",gt={menuContainer:`${ft}__menu-container`,sorter:`${ft}__sorter`,headerContent:`${ft}__header-content`,headerLabel:`${ft}__header-label`},Ts={keyboardSort1:"Enter",keyboardSort2:"Spacebar"};let C=class extends Io.EventedAccessor{constructor(e){super(e),this._menuContainer=document.createElement("div"),this.activeRowIndex=null,this.autoWidth=!1,this.cellValueFormatFunction=({value:t})=>Te.sanitize(t),this.flexGrow=1,this.footerRenderFunction=null,this.frozen=!1,this.grid=null,this.header=null,this.headerRenderFunction=t=>{const{root:i}=t;if(this.removeCellContent(i),i.classList.add(gt.headerContent),this.sortable)this.headerSorterRenderFunction(t);else{const r=document.createElement("div");r.classList.add(gt.headerLabel),r.textContent=this.label,i.appendChild(r)}this.headerMenuEnabled&&this.headerMenuRenderFunction(t)},this.headerMenuRenderFunction=({root:t})=>{var i,r;(r=(i=this.menu)==null?void 0:i.items)!=null&&r.length&&t.appendChild(this._menuContainer)},this.headerSorterRenderFunction=({root:t})=>{var a;const{label:i,sortElement:r}=this;if(!r)return void(t.textContent=i);r.textContent!==i&&r.setAttribute("textContent",i),t.appendChild(r);const n=(a=this.grid)==null?void 0:a.getSlotElementByName(t.slot),o=n==null?void 0:n.parentElement;o&&!o.onkeydown&&(o.onkeydown=({key:l})=>{l!==Ts.keyboardSort1&&l!==Ts.keyboardSort2||r.click()})},this.hidden=!1,this.headerMenuEnabled=!0,this.initialSortPriority=null,this.menu=null,this.menuConfig=null,this.messages=null,this.messagesCommon=null,this.messagesURIUtils=null,this.path=null,this.renderFunction=({root:t,column:i,rowData:r})=>{const n=this.getCellValue(i,r),o=this.cellValueFormatFunction({column:i,rowData:r,value:n});t.innerHTML!==o&&(t.innerHTML=o)},this.resizable=!0,this.sortable=!0,this.textAlign="start",this.timeZone=null,this.timeZoneName=null,this.width=200}initialize(){const{messages:e,path:t}=this;this._set("sortElement",this.createSortElement()),this.sortElement.setAttribute("path",t??""),this._menuContainer.classList.add(gt.menuContainer),this.menu=new an({label:e==null?void 0:e.options,iconClass:W.handleHorizontal,...this.menuConfig}),this.menu.container=this._menuContainer,this.menu.set("items",this.getMenuItems()),this.addHandles([N(()=>this.hidden,()=>{var i;return(i=this.menu)==null?void 0:i.set("open",!1)}),N(()=>this.path,i=>{this.sortElement&&this.sortElement.path!==i&&this.sortElement.setAttribute("path",i??"")})])}destroy(){var e;(e=this.menu)==null||e.destroy()}set direction(e){this.sortable&&(this.sortElement&&(e?this.sortElement.direction!==e&&this.sortElement.setAttribute("direction",e):this.sortElement.removeAttribute("direction")),this._set("direction",e))}get direction(){return this._get("direction")||null}get label(){return Te.sanitize(this.header??this.path??"")}getMenuItems(){const{menuConfig:e,sortable:t}=this,i=e==null?void 0:e.items,r=this.getSortMenuItems(),n=[];return t&&n.push(...r),i!=null&&i.length&&n.push(...i),n.length?n:null}getSortMenuItems(){const{messages:e}=this;return[{selected:this.direction==="asc",iconClass:W.arrowUp,label:e==null?void 0:e.sortAsc,autoCloseMenu:!0,clickFunction:()=>this.set("direction",this.direction!=="asc"?"asc":null)},{selected:this.direction==="desc",iconClass:W.arrowDown,label:e==null?void 0:e.sortDesc,autoCloseMenu:!0,clickFunction:()=>this.set("direction",this.direction!=="desc"?"desc":null)}]}getCellValue(e,t){return(t==null?void 0:t.item[e==null?void 0:e.path])??""}createSortElement(){const{direction:e,label:t,path:i,initialSortPriority:r}=this,n=document.createElement("vaadin-grid-sorter");return n.classList.add(gt.sorter),n.setAttribute("path",i??""),n.setAttribute("title",t),n.textContent=t,e&&n.setAttribute("direction",e),r!=null&&(n._initialOrder=r),n.addEventListener("direction-changed",()=>{this.direction!==n.direction&&this._set("direction",n.direction)}),n}removeCellContent(e){if(e)for(;e.firstChild;)try{e.removeChild(e.firstChild)}catch{}}};u([p()],C.prototype,"activeRowIndex",void 0),u([p()],C.prototype,"autoWidth",void 0),u([p()],C.prototype,"cellValueFormatFunction",void 0),u([p()],C.prototype,"direction",null),u([p()],C.prototype,"flexGrow",void 0),u([p()],C.prototype,"footerRenderFunction",void 0),u([p()],C.prototype,"frozen",void 0),u([p()],C.prototype,"grid",void 0),u([p()],C.prototype,"header",void 0),u([p()],C.prototype,"headerRenderFunction",void 0),u([p()],C.prototype,"headerMenuRenderFunction",void 0),u([p()],C.prototype,"headerSorterRenderFunction",void 0),u([p()],C.prototype,"hidden",void 0),u([p()],C.prototype,"headerMenuEnabled",void 0),u([p({constructOnly:!0})],C.prototype,"initialSortPriority",void 0),u([p({readOnly:!0})],C.prototype,"label",null),u([p()],C.prototype,"menu",void 0),u([p()],C.prototype,"menuConfig",void 0),u([p()],C.prototype,"messages",void 0),u([p()],C.prototype,"messagesCommon",void 0),u([p()],C.prototype,"messagesURIUtils",void 0),u([p()],C.prototype,"path",void 0),u([p()],C.prototype,"renderFunction",void 0),u([p()],C.prototype,"resizable",void 0),u([p()],C.prototype,"sortable",void 0),u([p({readOnly:!0})],C.prototype,"sortElement",void 0),u([p()],C.prototype,"textAlign",void 0),u([p()],C.prototype,"timeZone",void 0),u([p()],C.prototype,"timeZoneName",void 0),u([p()],C.prototype,"width",void 0),C=u([J("esri.widgets.FeatureTable.Grid.Column")],C);const Wt=C,Yo={attachmentsColumn:"esri-feature-table__column--attachments"};let ae=class extends Wt{constructor(s){super(s),this.header="",this.path="EsriFeatureTableAttachmentsColumn",this.renderFunction=({root:e,rowData:t})=>{const i=this._countFromItem(t==null?void 0:t.item).toString();e.innerHTML=`<div class="${Yo.attachmentsColumn}">${i}</div>`},this.sortable=!1,this.textAlign="center"}_countFromItem(s){var e;return((e=s==null?void 0:s.attachments)==null?void 0:e.length)||0}};u([p({constructOnly:!0})],ae.prototype,"header",void 0),u([p({readOnly:!0})],ae.prototype,"path",void 0),u([p()],ae.prototype,"renderFunction",void 0),u([p({readOnly:!0})],ae.prototype,"sortable",void 0),u([p({readOnly:!0})],ae.prototype,"textAlign",void 0),ae=u([J("esri.widgets.FeatureTable.AttachmentsColumn")],ae);const Zo=ae,Os="esri-editor-column__cell-input",Rs={input:Os,inputContainer:`${Os}--container`},Fs={showInput:"Enter",hideInput:"Escape"};let M=class extends Wt{constructor(s){super(s),this.activeEditInfo=null,this.cellValueValidatorFunction=({oldValue:e,value:t})=>e!==t,this.editable=!1,this.inputRenderFunction=({root:e,column:t,rowData:i})=>{var a,l;if((a=this.activeEditInfo)!=null&&a.updating||!this.editable)return;const r=this.getCellValue(t,i),n=this.createInputElement({root:e,column:t,rowData:i,value:r});this._set("activeEditInfo",{column:t,input:n,root:e,rowData:i,updating:!0,oldValue:r});const o=this.createInputContainer();o.appendChild(n),this.removeCellContent(e),e.appendChild(o),n.focus(),n instanceof HTMLInputElement&&n.select(),(l=this.grid)==null||l.notifyResize()},this.loadingMessage="",this.inputType="text",this.maxLength=null,this.parseInputValueFunction=({input:e})=>e.value,this.renderFunction=e=>{var c;const{root:t,column:i,rowData:r}=e,{activeEditInfo:n}=this;if(n&&n.updating)return;const o=this.getCellValue(i,r),a=this.cellValueFormatFunction({column:i,rowData:r,value:o});t.onclick=()=>t.focus(),t.ondblclick=()=>this.inputRenderFunction(e),t.ontouchend=()=>this.inputRenderFunction(e);const l=(c=this.grid)==null?void 0:c.getSlotElementByName(t.slot),d=l==null?void 0:l.parentElement;d&&!d.onkeydown&&(d.onkeydown=_=>{_.key!==Fs.showInput||this.activeEditInfo||this.inputRenderFunction(e),_.key===Fs.hideInput&&this.activeEditInfo&&this.cancel()}),o!=null&&a!=null?t.title=a.toString():t.title&&t.removeAttribute("title");const h=ni(this.messagesURIUtils,a);(a==null?void 0:a.toString())!==t.innerHTML&&h!==t.innerHTML&&(t.innerHTML=h)},this.required=!1,this.store=null,this.updateRowItemFunction=({rowData:e,column:t,value:i})=>{Ot(e),e.item[t.path]=i},this.updateStoreItemFunction=async({rowData:e,column:t,value:i})=>{var r;Ot(e),await((r=this.store)==null?void 0:r.updateItem({index:e.index,name:t.path,value:i}))}}cancel(){var a;const{activeEditInfo:s}=this;if(!s)return;const{column:e,root:t,rowData:i,oldValue:r}=s;this._set("activeEditInfo",null);const n=this.cellValueFormatFunction({column:e,rowData:i,value:r}),o=ni(this.messagesURIUtils,n);t.innerHTML=o,(a=this.grid)==null||a.notifyResize()}createInputContainer(){const s=document.createElement("div");return s.classList.add(Rs.inputContainer),s}createInputElement({value:s}){const e=document.createElement("input");return e.classList.add(Rs.input),this.maxLength!=null&&(e.maxLength=this.maxLength),e.type=this.inputType,e.value=s,e.onblur=()=>{e.onblur=null,this.submit()},e}async submit(){var a,l;const{activeEditInfo:s}=this;if(!s)return;const{column:e,input:t,root:i,rowData:r,oldValue:n}=s,o=this.parseInputValueFunction({input:t,column:e,rowData:r});if(!this.cellValueValidatorFunction({value:o,oldValue:n,column:e,rowData:r}))this.cancel();else{i.innerHTML=this.loadingMessage,(a=this.grid)==null||a.notifyResize();try{await this.updateStoreItemFunction({rowData:r,column:e,value:o}),this.updateRowItemFunction({rowData:r,column:e,value:o});const d=this.getCellValue(e,r),h=this.cellValueFormatFunction({column:e,rowData:r,value:d});d!=null&&h!=null?i.title=h.toString():i.title&&i.removeAttribute("title");const c=ni(this.messagesURIUtils,h);i.innerHTML=c,this.emit("value-change",{column:e,rowData:r,value:d}),this._set("activeEditInfo",null),(l=this.grid)==null||l.notifyResize()}catch{this.cancel()}}}};u([p({readOnly:!0})],M.prototype,"activeEditInfo",void 0),u([p()],M.prototype,"cellValueValidatorFunction",void 0),u([p()],M.prototype,"editable",void 0),u([p()],M.prototype,"inputRenderFunction",void 0),u([p({constructOnly:!0})],M.prototype,"loadingMessage",void 0),u([p()],M.prototype,"inputType",void 0),u([p()],M.prototype,"maxLength",void 0),u([p()],M.prototype,"parseInputValueFunction",void 0),u([p()],M.prototype,"renderFunction",void 0),u([p()],M.prototype,"required",void 0),u([p()],M.prototype,"store",void 0),u([p()],M.prototype,"updateRowItemFunction",void 0),u([p()],M.prototype,"updateStoreItemFunction",void 0),M=u([J("esri.widgets.FeatureTable.Grid.EditorColumn")],M);const Jo=M,Xo={cancelEdit:"Escape"},ge="esri-field-column",ne={headerContent:`${ge}__header-content`,headerLabel:`${ge}__header-label`,input:`${ge}__cell-input`,inputContainer:`${ge}__cell__input-container`,dateInputContainer:`${ge}__cell__date-input-container`,dateInputWrapper:`${ge}__cell__date-input-wrapper`,button:`${ge}__button`},Qo=qt("short-date-short-time"),Ko=qt("short-date"),Ns={useGrouping:!0,maximumFractionDigits:20};let x=class extends Jo{constructor(e){super(e),this._inputField=null,this.cellValueFormatFunction=({rowData:t,value:i})=>{var a,l,d;if(this.formatFunction){const{template:h,field:c}=this;return this.formatFunction({template:h,field:c,value:Te.sanitize(i)})}if(i===null)return"&nbsp;";const{field:r}=this,n=(a=t==null?void 0:t.item)==null?void 0:a.feature,o=this._getDomainForFeature(n);if(o){const h=this._getComputedDomain(i,o);if(r.type==="date"&&o.type==="range")return this._formatDateValueForDisplay(r,h);if(fe(r)&&o.type==="range"){const c=(l=this.template)==null?void 0:l.format,_=c?As(c):Ns;return Ss(parseFloat(i),_)}return ti.has(r.type)?o.type==="range"?Te.sanitize(xs(r,h)):Te.sanitize(h):h}if(r.type==="date"||ti.has(r.type))return this._formatDateValueForDisplay(r,i);if(fe(r)){const h=(d=this.template)==null?void 0:d.format,c=h?As(h):Ns;return Ss(parseFloat(i),c)}return Te.sanitize(i)},this.cellValueValidatorFunction=({oldValue:t,value:i})=>{const{_inputField:r,field:n}=this;return!(r&&!r.valid)&&(!this.required||i!=null&&i!=="")&&(fe(n)&&Es(n,i)?(Rt.getLogger(this).warn("value-exceeds-valid-range","Field value exceeds valid range. Attempted edit was rejected."),!1):t!==i)},this.editingEnabled=!1,this.expressionInfos=null,this.field=null,this.formatFunction=null,this.headerRenderFunction=t=>{const{root:i}=t,{editable:r,editingEnabled:n,headerMenuEnabled:o,sortable:a}=this;if(this.removeCellContent(i),i.classList.add(ne.headerContent),n&&!r&&i.appendChild(this.createLockedElement()),a)this.headerSorterRenderFunction(t);else{const l=document.createElement("div");l.classList.add(ne.headerLabel),l.textContent=this.label,i.appendChild(l)}o&&this.headerMenuRenderFunction(t)},this.inputRenderFunction=({root:t,column:i,rowData:r})=>{var d,h;if((d=this.activeEditInfo)!=null&&d.updating||!this.editable)return;const n=this.getCellValue(i,r),{field:o}=this;if(fe(o)&&Es(o,n))return void Rt.getLogger(this).warn("value-exceeds-valid-range","Field value is beyond supported limit. Editing is disabled for this field value.");const a=this.createInputElement({root:t,column:i,rowData:r,value:n});if(this._set("activeEditInfo",{column:i,input:a,root:t,rowData:r,updating:!0,oldValue:n}),this.field.type==="date")return void this._renderDateEditors(n,t,a);const l=this.createInputContainer();l.appendChild(a),this.removeCellContent(t),t.appendChild(l),a.focus(),a instanceof HTMLInputElement&&a.select(),(h=this.grid)==null||h.notifyResize()},this.layer=null,this.parseInputValueFunction=({input:t})=>{const i=this._inputField;if(!i)return null;const r=t.value,{dataType:n,required:o}=i;return o||r!==""?n==="number"||n==="date"?parseFloat(r):n==="text"?r.trim():r:null},this.store=null,this.template=null,this.updateRowItemFunction=({rowData:t,column:i,value:r})=>{t&&(t.item.feature.attributes[i.path]=r)},this.updateStoreItemFunction=async({rowData:t,column:i,value:r})=>{if(!t||!this.store)return;const n=t.item.objectId,o=this.store.getObjectIdIndex(n)??t.index;await this.store.updateItem({index:o,name:i.path,value:r})}}get alias(){var e;return(e=this.field)==null?void 0:e.alias}get defaultValue(){var e;return(e=this.field)==null?void 0:e.defaultValue}get description(){var e,t;return((e=this.template)==null?void 0:e.description)??((t=this.field)==null?void 0:t.description)??null}get editable(){const{editingEnabled:e,field:t,layer:i,template:r}=this;if(t==null||i==null)return!1;const n=Vo(i),o=je(i),a=o==null?void 0:o.operations.supportsUpdate;return!!(t.editable&&n&&a)&&!ti.has(t.type)&&(e?(r==null?void 0:r.editable)!==!1:!!(r!=null&&r.editable))}get header(){var e;return((e=this.template)==null?void 0:e.label)||this.alias||this.path||null}get hidden(){const{template:e}=this;return(e==null?void 0:e.visible)===!1||this._get("hidden")||!1}set hidden(e){this._set("hidden",e)}get loadingMessage(){var e;return((e=this.messages)==null?void 0:e.loading)||"..."}get maxLength(){const{field:e,template:t}=this,i=(e==null?void 0:e.length)??-1,r=t!=null&&t.input&&"maxLength"in t.input?t.input.maxLength:null;return r!=null&&!isNaN(r)&&r>=-1&&(i===-1||r<=i)?r:i}get minLength(){const{template:e,maxLength:t}=this,i=e!=null&&e.input&&"minLength"in e.input?e.input.minLength:null;return t&&i<=t?i:null}get name(){var e;return(e=this.field)==null?void 0:e.name}get nullable(){var e;return((e=this.field)==null?void 0:e.nullable)??!1}get path(){var e;return(e=this.field)==null?void 0:e.name}get required(){const{field:e,template:t}=this,i=e==null?void 0:e.nullable,r=t==null?void 0:t.required;return this.editable&&(!i||r===!0)}get sortable(){var e;return((e=this.template)==null?void 0:e.sortable)!==!1}createInputElement({rowData:e,value:t}){const i=e==null?void 0:e.item;if(!(i!=null&&i.feature))return null;this._inputField=this._setUpInputField(i.feature,t);const{field:r,maxLength:n,minLength:o,required:a}=this,{domain:l}=this._inputField;let d;(l==null?void 0:l.type)==="coded-value"?(d=this._createSelectElement(t,l.codedValues.map(({code:_,name:g})=>({value:_,name:g})),this._inputField),d.onchange=()=>{d.onblur=null,c()}):(d=document.createElement("input"),d.type=fe(r)?"number":"text",n>-1&&(d.maxLength=n),o>0&&(d.minLength=o)),d.classList.add(ne.input),d.value=t,d.required=a;let h=!1;d.onkeydown=_=>{h=_.key===Xo.cancelEdit},d.onblur=()=>{d.onblur=null,c()};const c=()=>{h?this.cancel():this.submit(),this._inputField=null};return d}createInputContainer(){const e=document.createElement("div");return e.classList.add(ne.inputContainer),e}createLockedElement(){const e=document.createElement("div");return e.classList.add(W.locked),e}getCellValue({path:e},t){var i,r,n;return((n=(r=(i=t==null?void 0:t.item)==null?void 0:i.feature)==null?void 0:r.attributes)==null?void 0:n[e])??null}_formatDateValueForDisplay(e,t){const{timeZone:i,timeZoneName:r}=this;return t!=null?xs(e,t,{...this._getDateFormatOptions(),timeZone:i??void 0,timeZoneName:r??void 0}):null}_renderDateEditors(e,t,i){var q;const{messagesCommon:r,template:n,timeZone:o}=this,a=e?new Date(e):new Date(Date.now()),l=new Go({dateInputEnabled:!0,timeZone:o,value:a}),d=new Uo({timeZone:o,value:a});i.value=a.getTime().toString();let h=!e;const c=()=>{h=!0;const H=this._getCombinedDateTime(l.value,d.value);i.value=H.getTime().toString()},_=()=>{h?this.submit():this.cancel()},g=()=>{i.value=null,this.submit()};N(()=>[l.value,d.value],()=>c());const m=document.createElement("div"),y=document.createElement("div");l.container=m,d.container=y;const w=document.createElement("button");w.classList.add(ne.button,W.save),w.onclick=()=>_(),w.title=r==null?void 0:r.save;const b=document.createElement("button");b.classList.add(ne.button,W.trash),b.onclick=()=>g(),b.title=r==null?void 0:r.clear;const E=document.createElement("div");E.classList.add(ne.dateInputWrapper),E.appendChild(m),(!n||n!=null&&n.input&&n.input.type==="datetime-picker"&&n.input.includeTime!==!1)&&E.appendChild(y);const T=document.createElement("div");T.classList.add(ne.dateInputContainer),T.appendChild(E),T.appendChild(w),T.appendChild(b),l.when(()=>{var se;const H=l._inputOrButtonNode;H&&(H.onblur=De=>{const I=De.relatedTarget;I&&I.className.includes("esri-date-picker")||l.close(!1)}),(se=this.grid)==null||se.notifyResize()}),d.when(()=>{var H;return(H=this.grid)==null?void 0:H.notifyResize()}),this.removeCellContent(t),t.appendChild(T),(q=this.grid)==null||q.notifyResize()}_createSelectElement(e,t,i){let r=!1;const n=t.map(a=>{a.value===e&&(r=!0);const l=document.createElement("option");return l.text=a.name,l.value=a.value,l});if(e!=null&&e!==""&&!r){const a=document.createElement("option");a.text=e,a.value=e,n.unshift(a)}if(!i.required&&i.value==null){const a=document.createElement("option");a.value="",n.unshift(a)}const o=document.createElement("select");return n.forEach(a=>o.add(a)),o.value=e,o}_setUpInputField(e,t){const{field:i,layer:r}=this,n=new jo({feature:e,initialFeature:e.clone(),field:i,layer:r});return n.set("value",t),n}_isDomainCompatible(e){const{field:t}=this;if(e&&e.type==="coded-value"){const i=typeof e.codedValues[0].code;if(i==="string"&&Po(t)||i==="number"&&fe(t))return!0}return!(!e||e.type!=="range"||!fe(t))}_getDomainForFeature(e){var l;const{layer:t,name:i,template:r}=this;if(!t||t.type==="wfs"||t.type==="geojson"||t.type==="csv")return null;if(r!=null&&r.domain&&this._isDomainCompatible(r.domain))return r.domain;const{typeIdField:n}=t,o=n===i,a=this.field.domain;return o&&!a?new To({name:"__internal-type-based-coded-value-domain__",codedValues:(l=t.types)==null?void 0:l.map(({id:d,name:h})=>({code:d,name:h}))}):n&&i!=null&&t.getFieldDomain(i,{feature:e})||a}_getComputedDomain(e,t){if(!t)return null;if(t.type==="range")return e;if(t.type==="coded-value"){const i=t.codedValues.filter(r=>r.hasOwnProperty("code")&&r.code===e);return i&&i.length?i[0].name:e}return null}_getCombinedDateTime(e,t){return new Date(e.getFullYear(),e.getMonth(),e.getDate(),t.getHours(),t.getMinutes(),t.getSeconds())}_getDateFormatOptions(){var i;const{template:e}=this,t=(i=e==null?void 0:e.format)==null?void 0:i.dateFormat;return t?qt(t):e!=null&&e.input&&"includeTime"in e.input&&e.input.includeTime===!1?Ko:Qo}};u([p({readOnly:!0})],x.prototype,"alias",null),u([p()],x.prototype,"cellValueFormatFunction",void 0),u([p()],x.prototype,"cellValueValidatorFunction",void 0),u([p({readOnly:!0})],x.prototype,"defaultValue",null),u([p({readOnly:!0})],x.prototype,"description",null),u([p({readOnly:!0})],x.prototype,"editable",null),u([p()],x.prototype,"editingEnabled",void 0),u([p()],x.prototype,"expressionInfos",void 0),u([p()],x.prototype,"field",void 0),u([p()],x.prototype,"formatFunction",void 0),u([p({readOnly:!0})],x.prototype,"header",null),u([p()],x.prototype,"hidden",null),u([p()],x.prototype,"headerRenderFunction",void 0),u([p()],x.prototype,"inputRenderFunction",void 0),u([p()],x.prototype,"layer",void 0),u([p({readOnly:!0})],x.prototype,"loadingMessage",null),u([p()],x.prototype,"maxLength",null),u([p()],x.prototype,"minLength",null),u([p({readOnly:!0})],x.prototype,"name",null),u([p({readOnly:!0})],x.prototype,"nullable",null),u([p()],x.prototype,"parseInputValueFunction",void 0),u([p({readOnly:!0})],x.prototype,"path",null),u([p({readOnly:!0})],x.prototype,"required",null),u([p()],x.prototype,"sortable",null),u([p()],x.prototype,"store",void 0),u([p()],x.prototype,"template",void 0),u([p()],x.prototype,"updateRowItemFunction",void 0),u([p()],x.prototype,"updateStoreItemFunction",void 0),x=u([J("esri.widgets.FeatureTable.FieldColumn")],x);const zs=x;let $=class extends tn{constructor(s){super(s),this.cellClassNameGenerator=null,this.columnReorderingEnabled=!0,this.columns=new G,this.dataProvider=async({page:e,pageSize:t},i)=>{const{store:r}=this;i&&(r?i(await r.fetchItems({page:e,pageSize:t})):i&&i([]))},this.multiSortEnabled=!1,this.pageSize=50,this.rowDetailsRenderer=null,this.store=null}get highlightIds(){return this._get("highlightIds")||new G}set highlightIds(s){Array.isArray(s)?this._set("highlightIds",new G(s)):this._set("highlightIds",s)}get size(){var s;return((s=this.store)==null?void 0:s.count)||0}get state(){const{store:s}=this;return s&&s.state!=="disabled"?s.state==="loading"?"loading":s.state==="loaded"?"loaded":"ready":"disabled"}closeColumnMenus(){var s;(s=this.columns)==null||s.forEach(e=>{e.menu&&e.menu.open&&e.menu.set("open",!1)})}sortColumn(s,e){const t=this.findColumn(s);t&&(t.direction=e)}hideColumn(s){const e=this.findColumn(s);(e==null?void 0:e.hidden)===!1&&(e.hidden=!0)}showColumn(s){const e=this.findColumn(s);e!=null&&e.hidden&&(e.hidden=!1)}showAllColumns(){var s;(s=this.columns)==null||s.forEach(e=>{e.hidden&&(e.hidden=!1)})}findColumn(s){const e=[];return this.columns.forEach(t=>{var i;e.push(t),"columns"in t&&((i=t.columns)==null||i.forEach(r=>e.push(r)))}),e.find(t=>t.path===s)}getRowItemAt(s){var e;return(e=this.store)==null?void 0:e.getLocalItemAt(s)}refresh(){this.store&&(this.store.reset(),this.store.load())}};u([p()],$.prototype,"cellClassNameGenerator",void 0),u([p()],$.prototype,"columnReorderingEnabled",void 0),u([p()],$.prototype,"columns",void 0),u([p()],$.prototype,"dataProvider",void 0),u([p()],$.prototype,"highlightIds",null),u([p()],$.prototype,"multiSortEnabled",void 0),u([p()],$.prototype,"pageSize",void 0),u([p()],$.prototype,"rowDetailsRenderer",void 0),u([p({readOnly:!0})],$.prototype,"size",null),u([p()],$.prototype,"store",void 0),u([p({readOnly:!0})],$.prototype,"state",null),$=u([J("esri.widgets.FeatureTable.Grid.GridViewModel")],$);const dn=$;let ea=class extends HTMLElement{static get version(){return"1.6.1"}};customElements.define("vaadin-lumo-styles",ea);let oi,ai=null,Ms=window.HTMLImports&&window.HTMLImports.whenReady||null;function ks(s){requestAnimationFrame(function(){Ms?Ms(s):(ai||(ai=new Promise(e=>{oi=e}),document.readyState==="complete"?oi():document.addEventListener("readystatechange",()=>{document.readyState==="complete"&&oi()})),ai.then(function(){s&&s()}))})}const Ds="__seenByShadyCSS",yt="__shadyCSSCachedStyle";let Ft=null,Ye=null,le=class{constructor(){this.customStyles=[],this.enqueued=!1,ks(()=>{window.ShadyCSS.flushCustomStyles&&window.ShadyCSS.flushCustomStyles()})}enqueueDocumentValidation(){!this.enqueued&&Ye&&(this.enqueued=!0,ks(Ye))}addCustomStyle(e){e[Ds]||(e[Ds]=!0,this.customStyles.push(e),this.enqueueDocumentValidation())}getStyleForCustomStyle(e){if(e[yt])return e[yt];let t;return t=e.getStyle?e.getStyle():e,t}processStyles(){const e=this.customStyles;for(let t=0;t<e.length;t++){const i=e[t];if(i[yt])continue;const r=this.getStyleForCustomStyle(i);if(r){const n=r.__appliedElement||r;Ft&&Ft(n),i[yt]=n}}return e}};le.prototype.addCustomStyle=le.prototype.addCustomStyle,le.prototype.getStyleForCustomStyle=le.prototype.getStyleForCustomStyle,le.prototype.processStyles=le.prototype.processStyles,Object.defineProperties(le.prototype,{transformCallback:{get:()=>Ft,set(s){Ft=s}},validateCallback:{get:()=>Ye,set(s){let e=!1;Ye||(e=!0),Ye=s,e&&this.enqueueDocumentValidation()}}});const Ei=/(?:^|[;\s{]\s*)(--[\w-]*?)\s*:\s*(?:((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};{])+)|\{([^}]*)\}(?:(?=[;\s}])|$))/gi,Nt=/(?:^|\W+)@apply\s*\(?([^);\n]*)\)?/gi,ta=/@media\s(.*)/;function Ii(s,e){for(let t in e)t===null?s.style.removeProperty(t):s.style.setProperty(t,e[t])}function hn(s,e){const t=window.getComputedStyle(s).getPropertyValue(e);return t?t.trim():""}function ia(s){const e=Nt.test(s)||Ei.test(s);return Nt.lastIndex=0,Ei.lastIndex=0,e}const Yt=!(window.ShadyDOM&&window.ShadyDOM.inUse);let Xi,et;function Ls(s){Xi=(!s||!s.shimcssproperties)&&(Yt||!!(!navigator.userAgent.match(/AppleWebKit\/601|Edge\/15/)&&window.CSS&&CSS.supports&&CSS.supports("box-shadow","0 0 0 var(--foo)")))}window.ShadyCSS&&window.ShadyCSS.cssBuild!==void 0&&(et=window.ShadyCSS.cssBuild);const cn=!!(window.ShadyCSS&&window.ShadyCSS.disableRuntime);window.ShadyCSS&&window.ShadyCSS.nativeCss!==void 0?Xi=window.ShadyCSS.nativeCss:window.ShadyCSS?(Ls(window.ShadyCSS),window.ShadyCSS=void 0):Ls(window.WebComponents&&window.WebComponents.flags);const Qi=Xi,bt=new le;window.ShadyCSS||(window.ShadyCSS={prepareTemplate(s,e,t){},prepareTemplateDom(s,e){},prepareTemplateStyles(s,e,t){},styleSubtree(s,e){bt.processStyles(),Ii(s,e)},styleElement(s){bt.processStyles()},styleDocument(s){bt.processStyles(),Ii(document.body,s)},getComputedStyleValue:(s,e)=>hn(s,e),flushCustomStyles(){},nativeCss:Qi,nativeShadow:Yt,cssBuild:et,disableRuntime:cn}),window.ShadyCSS.CustomStyleInterface=bt,window.JSCompiler_renameProperty=function(s,e){return s};let vt,B,sa=/(url\()([^)]*)(\))/g,ra=/(^\/[^\/])|(^#)|(^[\w-\d]*:)/;function Ze(s,e){if(s&&ra.test(s)||s==="//")return s;if(vt===void 0){vt=!1;try{const t=new URL("b","http://a");t.pathname="c%20d",vt=t.href==="http://a/c%20d"}catch{}}if(e||(e=document.baseURI||window.location.href),vt)try{return new URL(s,e).href}catch{return s}return B||(B=document.implementation.createHTMLDocument("temp"),B.base=B.createElement("base"),B.head.appendChild(B.base),B.anchor=B.createElement("a"),B.body.appendChild(B.anchor)),B.base.href=e,B.anchor.href=s,B.anchor.href||s}function Ki(s,e){return s.replace(sa,function(t,i,r,n){return i+"'"+Ze(r.replace(/["']/g,""),e)+"'"+n})}function es(s){return s.substring(0,s.lastIndexOf("/")+1)}const ts=!window.ShadyDOM||!window.ShadyDOM.inUse;!window.ShadyCSS||window.ShadyCSS.nativeCss;const na=ts&&"adoptedStyleSheets"in Document.prototype&&"replaceSync"in CSSStyleSheet.prototype&&(()=>{try{const s=new CSSStyleSheet;s.replaceSync("");const e=document.createElement("div");return e.attachShadow({mode:"open"}),e.shadowRoot.adoptedStyleSheets=[s],e.shadowRoot.adoptedStyleSheets[0]===s}catch{return!1}})();let oa=window.Polymer&&window.Polymer.rootPath||es(document.baseURI||window.location.href),zt=window.Polymer&&window.Polymer.sanitizeDOMValue||void 0,aa=window.Polymer&&window.Polymer.setPassiveTouchGestures||!1,Ne=window.Polymer&&window.Polymer.strictTemplatePolicy||!1,la=window.Polymer&&window.Polymer.allowTemplateFromDomModule||!1,tt=window.Polymer&&window.Polymer.legacyOptimizations||!1,un=window.Polymer&&window.Polymer.legacyWarnings||!1,da=window.Polymer&&window.Polymer.syncInitialRender||!1,Pi=window.Polymer&&window.Polymer.legacyUndefined||!1,ha=window.Polymer&&window.Polymer.orderedComputed||!1,Hs=window.Polymer&&window.Polymer.removeNestedTemplates||!1,pn=window.Polymer&&window.Polymer.fastDomIf||!1,Ti=window.Polymer&&window.Polymer.suppressTemplateNotifications||!1,wt=window.Polymer&&window.Polymer.legacyNoObservedAttributes||!1,ca=window.Polymer&&window.Polymer.useAdoptedStyleSheetsWithBuiltCSS||!1,is={},_n={};function $s(s,e){is[s]=_n[s.toLowerCase()]=e}function Bs(s){return is[s]||_n[s.toLowerCase()]}function ua(s){s.querySelector("style")&&console.warn("dom-module %s has style outside template",s.id)}class ze extends HTMLElement{static get observedAttributes(){return["id"]}static import(e,t){if(e){let i=Bs(e);return i&&t?i.querySelector(t):i}return null}attributeChangedCallback(e,t,i,r){t!==i&&this.register()}get assetpath(){if(!this.__assetpath){const e=window.HTMLImports&&HTMLImports.importForElement?HTMLImports.importForElement(this)||document:this.ownerDocument,t=Ze(this.getAttribute("assetpath")||"",e.baseURI);this.__assetpath=es(t)}return this.__assetpath}register(e){if(e=e||this.id){if(Ne&&Bs(e)!==void 0)throw $s(e,null),new Error(`strictTemplatePolicy: dom-module ${e} re-registered`);this.id=e,$s(e,this),ua(this)}}}ze.prototype.modules=is,customElements.define("dom-module",ze);const pa="link[rel=import][type~=css]",_a="include",Vs="shady-unscoped";function ss(s){return ze.import(s)}function js(s){const e=Ki((s.body?s.body:s).textContent,s.baseURI),t=document.createElement("style");return t.textContent=e,t}function ma(s){const e=s.trim().split(/\s+/),t=[];for(let i=0;i<e.length;i++)t.push(...fa(e[i]));return t}function fa(s){const e=ss(s);if(!e)return console.warn("Could not find style data in module named",s),[];if(e._styles===void 0){const t=[];t.push(...ns(e));const i=e.querySelector("template");i&&t.push(...rs(i,e.assetpath)),e._styles=t}return e._styles}function rs(s,e){if(!s._styles){const t=[],i=s.content.querySelectorAll("style");for(let r=0;r<i.length;r++){let n=i[r],o=n.getAttribute(_a);o&&t.push(...ma(o).filter(function(a,l,d){return d.indexOf(a)===l})),e&&(n.textContent=Ki(n.textContent,e)),t.push(n)}s._styles=t}return s._styles}function ga(s){let e=ss(s);return e?ns(e):[]}function ns(s){const e=[],t=s.querySelectorAll(pa);for(let i=0;i<t.length;i++){let r=t[i];if(r.import){const n=r.import,o=r.hasAttribute(Vs);if(o&&!n._unscopedStyle){const a=js(n);a.setAttribute(Vs,""),n._unscopedStyle=a}else n._style||(n._style=js(n));e.push(o?n._unscopedStyle:n._style)}}return e}function ya(s){let e=s.trim().split(/\s+/),t="";for(let i=0;i<e.length;i++)t+=ba(e[i]);return t}function ba(s){let e=ss(s);if(e&&e._cssText===void 0){let t=wa(e),i=e.querySelector("template");i&&(t+=va(i,e.assetpath)),e._cssText=t||null}return e||console.warn("Could not find style data in module named",s),e&&e._cssText||""}function va(s,e){let t="";const i=rs(s,e);for(let r=0;r<i.length;r++){let n=i[r];n.parentNode&&n.parentNode.removeChild(n),t+=n.textContent}return t}function wa(s){let e="",t=ns(s);for(let i=0;i<t.length;i++)e+=t[i].textContent;return e}const Gs="include",Ca=window.ShadyCSS.CustomStyleInterface;class Aa extends HTMLElement{constructor(){super(),this._style=null,Ca.addCustomStyle(this)}getStyle(){if(this._style)return this._style;const e=this.querySelector("style");if(!e)return null;this._style=e;const t=e.getAttribute(Gs);return t&&(e.removeAttribute(Gs),e.textContent=ya(t)+e.textContent),this.ownerDocument!==window.document&&window.document.head.appendChild(this),this._style}}window.customElements.define("custom-style",Aa);const Us=document.createElement("template");Us.innerHTML=`<custom-style>
  <style>
    html {
      /* Base (background) */
      --lumo-base-color: #FFF;

      /* Tint */
      --lumo-tint-5pct: hsla(0, 0%, 100%, 0.3);
      --lumo-tint-10pct: hsla(0, 0%, 100%, 0.37);
      --lumo-tint-20pct: hsla(0, 0%, 100%, 0.44);
      --lumo-tint-30pct: hsla(0, 0%, 100%, 0.5);
      --lumo-tint-40pct: hsla(0, 0%, 100%, 0.57);
      --lumo-tint-50pct: hsla(0, 0%, 100%, 0.64);
      --lumo-tint-60pct: hsla(0, 0%, 100%, 0.7);
      --lumo-tint-70pct: hsla(0, 0%, 100%, 0.77);
      --lumo-tint-80pct: hsla(0, 0%, 100%, 0.84);
      --lumo-tint-90pct: hsla(0, 0%, 100%, 0.9);
      --lumo-tint: #FFF;

      /* Shade */
      --lumo-shade-5pct: hsla(214, 61%, 25%, 0.05);
      --lumo-shade-10pct: hsla(214, 57%, 24%, 0.1);
      --lumo-shade-20pct: hsla(214, 53%, 23%, 0.16);
      --lumo-shade-30pct: hsla(214, 50%, 22%, 0.26);
      --lumo-shade-40pct: hsla(214, 47%, 21%, 0.38);
      --lumo-shade-50pct: hsla(214, 45%, 20%, 0.5);
      --lumo-shade-60pct: hsla(214, 43%, 19%, 0.61);
      --lumo-shade-70pct: hsla(214, 42%, 18%, 0.72);
      --lumo-shade-80pct: hsla(214, 41%, 17%, 0.83);
      --lumo-shade-90pct: hsla(214, 40%, 16%, 0.94);
      --lumo-shade: hsl(214, 35%, 15%);

      /* Contrast */
      --lumo-contrast-5pct: var(--lumo-shade-5pct);
      --lumo-contrast-10pct: var(--lumo-shade-10pct);
      --lumo-contrast-20pct: var(--lumo-shade-20pct);
      --lumo-contrast-30pct: var(--lumo-shade-30pct);
      --lumo-contrast-40pct: var(--lumo-shade-40pct);
      --lumo-contrast-50pct: var(--lumo-shade-50pct);
      --lumo-contrast-60pct: var(--lumo-shade-60pct);
      --lumo-contrast-70pct: var(--lumo-shade-70pct);
      --lumo-contrast-80pct: var(--lumo-shade-80pct);
      --lumo-contrast-90pct: var(--lumo-shade-90pct);
      --lumo-contrast: var(--lumo-shade);

      /* Text */
      --lumo-header-text-color: var(--lumo-contrast);
      --lumo-body-text-color: var(--lumo-contrast-90pct);
      --lumo-secondary-text-color: var(--lumo-contrast-70pct);
      --lumo-tertiary-text-color: var(--lumo-contrast-50pct);
      --lumo-disabled-text-color: var(--lumo-contrast-30pct);

      /* Primary */
      --lumo-primary-color: hsl(214, 90%, 52%);
      --lumo-primary-color-50pct: hsla(214, 90%, 52%, 0.5);
      --lumo-primary-color-10pct: hsla(214, 90%, 52%, 0.1);
      --lumo-primary-text-color: var(--lumo-primary-color);
      --lumo-primary-contrast-color: #FFF;

      /* Error */
      --lumo-error-color: hsl(3, 100%, 61%);
      --lumo-error-color-50pct: hsla(3, 100%, 60%, 0.5);
      --lumo-error-color-10pct: hsla(3, 100%, 60%, 0.1);
      --lumo-error-text-color: hsl(3, 92%, 53%);
      --lumo-error-contrast-color: #FFF;

      /* Success */
      --lumo-success-color: hsl(145, 80%, 42%); /* hsl(144,82%,37%); */
      --lumo-success-color-50pct: hsla(145, 76%, 44%, 0.55);
      --lumo-success-color-10pct: hsla(145, 76%, 44%, 0.12);
      --lumo-success-text-color: hsl(145, 100%, 32%);
      --lumo-success-contrast-color: #FFF;
    }
  </style>
</custom-style><dom-module id="lumo-color">
  <template>
    <style>
      [theme~="dark"] {
        /* Base (background) */
        --lumo-base-color: hsl(214, 35%, 21%);

        /* Tint */
        --lumo-tint-5pct: hsla(214, 65%, 85%, 0.06);
        --lumo-tint-10pct: hsla(214, 60%, 80%, 0.14);
        --lumo-tint-20pct: hsla(214, 64%, 82%, 0.23);
        --lumo-tint-30pct: hsla(214, 69%, 84%, 0.32);
        --lumo-tint-40pct: hsla(214, 73%, 86%, 0.41);
        --lumo-tint-50pct: hsla(214, 78%, 88%, 0.5);
        --lumo-tint-60pct: hsla(214, 82%, 90%, 0.6);
        --lumo-tint-70pct: hsla(214, 87%, 92%, 0.7);
        --lumo-tint-80pct: hsla(214, 91%, 94%, 0.8);
        --lumo-tint-90pct: hsla(214, 96%, 96%, 0.9);
        --lumo-tint: hsl(214, 100%, 98%);

        /* Shade */
        --lumo-shade-5pct: hsla(214, 0%, 0%, 0.07);
        --lumo-shade-10pct: hsla(214, 4%, 2%, 0.15);
        --lumo-shade-20pct: hsla(214, 8%, 4%, 0.23);
        --lumo-shade-30pct: hsla(214, 12%, 6%, 0.32);
        --lumo-shade-40pct: hsla(214, 16%, 8%, 0.41);
        --lumo-shade-50pct: hsla(214, 20%, 10%, 0.5);
        --lumo-shade-60pct: hsla(214, 24%, 12%, 0.6);
        --lumo-shade-70pct: hsla(214, 28%, 13%, 0.7);
        --lumo-shade-80pct: hsla(214, 32%, 13%, 0.8);
        --lumo-shade-90pct: hsla(214, 33%, 13%, 0.9);
        --lumo-shade: hsl(214, 33%, 13%);

        /* Contrast */
        --lumo-contrast-5pct: var(--lumo-tint-5pct);
        --lumo-contrast-10pct: var(--lumo-tint-10pct);
        --lumo-contrast-20pct: var(--lumo-tint-20pct);
        --lumo-contrast-30pct: var(--lumo-tint-30pct);
        --lumo-contrast-40pct: var(--lumo-tint-40pct);
        --lumo-contrast-50pct: var(--lumo-tint-50pct);
        --lumo-contrast-60pct: var(--lumo-tint-60pct);
        --lumo-contrast-70pct: var(--lumo-tint-70pct);
        --lumo-contrast-80pct: var(--lumo-tint-80pct);
        --lumo-contrast-90pct: var(--lumo-tint-90pct);
        --lumo-contrast: var(--lumo-tint);

        /* Text */
        --lumo-header-text-color: var(--lumo-contrast);
        --lumo-body-text-color: var(--lumo-contrast-90pct);
        --lumo-secondary-text-color: var(--lumo-contrast-70pct);
        --lumo-tertiary-text-color: var(--lumo-contrast-50pct);
        --lumo-disabled-text-color: var(--lumo-contrast-30pct);

        /* Primary */
        --lumo-primary-color: hsl(214, 86%, 55%);
        --lumo-primary-color-50pct: hsla(214, 86%, 55%, 0.5);
        --lumo-primary-color-10pct: hsla(214, 90%, 63%, 0.1);
        --lumo-primary-text-color: hsl(214, 100%, 70%);
        --lumo-primary-contrast-color: #FFF;

        /* Error */
        --lumo-error-color: hsl(3, 90%, 63%);
        --lumo-error-color-50pct: hsla(3, 90%, 63%, 0.5);
        --lumo-error-color-10pct: hsla(3, 90%, 63%, 0.1);
        --lumo-error-text-color: hsl(3, 100%, 67%);

        /* Success */
        --lumo-success-color: hsl(145, 65%, 42%);
        --lumo-success-color-50pct: hsla(145, 65%, 42%, 0.5);
        --lumo-success-color-10pct: hsla(145, 65%, 42%, 0.1);
        --lumo-success-text-color: hsl(145, 85%, 47%);
      }

      html {
        color: var(--lumo-body-text-color);
        background-color: var(--lumo-base-color);
      }

      [theme~="dark"] {
        color: var(--lumo-body-text-color);
        background-color: var(--lumo-base-color);
      }

      h1,
      h2,
      h3,
      h4,
      h5,
      h6 {
        color: var(--lumo-header-text-color);
      }

      a {
        color: var(--lumo-primary-text-color);
      }

      blockquote {
        color: var(--lumo-secondary-text-color);
      }

      code,
      pre {
        background-color: var(--lumo-contrast-10pct);
        border-radius: var(--lumo-border-radius-m);
      }
    </style>
  </template>
</dom-module><dom-module id="lumo-color-legacy">
  <template>
    <style include="lumo-color">
      :host {
        color: var(--lumo-body-text-color) !important;
        background-color: var(--lumo-base-color) !important;
      }
    </style>
  </template>
</dom-module>`,document.head.appendChild(Us.content);const qs=document.createElement("template");qs.innerHTML=`<custom-style>
  <style>
    @font-face {
      font-family: 'lumo-icons';
      src: url(data:application/font-woff;charset=utf-8;base64,d09GRgABAAAAABEcAAsAAAAAIiwAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAABHU1VCAAABCAAAADsAAABUIIslek9TLzIAAAFEAAAAQwAAAFZAIUuKY21hcAAAAYgAAAD4AAADrsCU8d5nbHlmAAACgAAAC2MAABd4h9To2WhlYWQAAA3kAAAAMAAAADZa/6SsaGhlYQAADhQAAAAdAAAAJAbpA35obXR4AAAONAAAABAAAACspBAAAGxvY2EAAA5EAAAAWAAAAFh55IAsbWF4cAAADpwAAAAfAAAAIAFKAXBuYW1lAAAOvAAAATEAAAIuUUJZCHBvc3QAAA/wAAABKwAAAelm8SzVeJxjYGRgYOBiMGCwY2BycfMJYeDLSSzJY5BiYGGAAJA8MpsxJzM9kYEDxgPKsYBpDiBmg4gCACY7BUgAeJxjYGS+yDiBgZWBgamKaQ8DA0MPhGZ8wGDIyAQUZWBlZsAKAtJcUxgcXjG+0mIO+p/FEMUcxDANKMwIkgMABn8MLQB4nO3SWW6DMABF0UtwCEnIPM/zhLK8LqhfXRybSP14XUYtHV9hGYQwQBNIo3cUIPkhQeM7rib1ekqnXg981XuC1qvy84lzojleh3puxL0hPjGjRU473teloEefAUNGjJkwZcacBUtWrNmwZceeA0dOnLlw5cadB09elPGhGf+j0NTI/65KfXerT6JhqKnpRKtgOpuqaTrtKjPUlqHmhto21I7pL6i6hlqY3q7qGWrfUAeGOjTUkaGODXViqFNDnRnq3FAXhro01JWhrg11Y6hbQ90Z6t5QD4Z6NNSToZ4N9WKoV0O9GerdUB+G+jTUl6GWRvkL24BkEXictVh9bFvVFb/nxvbz+7Rf/N6zHcd2bCfP+Wgc1Z9N0jpNnEL6kbRVS6HA2hQYGh9TGR1CbCqa2rXrWOkQE/sHNJgmtZvoVNZqE1B1DNHxzTQxCehUTYiJTQyENui0qSLezr3PduyQfgmRWOfde8+9551z7rnn/O4jLoJ/bRP0UaKQMLFJjpBAvphLZC3Dk0ok7WBzR2/upJs7Ryw/nfFbln/uuN/apCvwrKLrSvUqRufbm5pn0fs0w4gYxnGVP6qHnO4bWiDQGQgwtS6lm3lB3QoX1M2vwEmuzirF39y+Es2+DJ8d1pkyqBIqoze3D1+Zz4DrFoazxI8dWwMrDlZ2DMqQAR9AROsJU+2cmlTPazTco52F1xTa2a2+K8vvq92dVHmtLoPeQX/AZPRYGthDYOeZjBjKoFsVGulR3lWU95WeCK44qHU7MhWUGUKZDT3oKUcG2GWuh+EDDfUYA/jhAhl0TOsJNYSEu7mQmi3UzfXwZKA4BsVsHLXQYGgRW95uEtpJ1Vfn9XiLriRBlFEqxsDjA09yCNUoQxxwd7KWSTt2y3GTKiflqHRSoWZc3m11Wa/fJdFgXD4sSYfleJBKd8GMz7J8dZn/cGRCcKGDnA2Ge3fKzcvlnTDNthGWLXzX/WaXtUAmRgeLlHSr30r0G9UTXMb0AtmwzOoy73fkSlHZkduw/TYuU9cAD4YutPoxTTsA3797wVr4Z/1NC5zARHr4vtxJjxIfiZMhMkbWk+14BnJZKwqGZwDfswLyxWDSg11rFLJF7Nopxjd1h1/QOT+oezgfu3Yq+Hk+duf5x+40o1GTkaIgikK/IEnC6aYxCUBaZJSN4XTYFjU/YMNIKqJwhDGOCCI8FDXnXmXjtGhGJyShqjAOnBOkW2JG9S7GgYeMWAU5JzhnWmBOaOM+CKEPoqSfFDC2Unq+DLlUgUVUFFLZGJg6jtlojsdsa8kPObPuJdi5dnBdBsLJMGTWDa4t2JvtwuPo9s+Y86suv/W33QG1rAaOAUV+vx4K6f2D04PVKlC7WLSrZzAi45ZV6lIC7WoXqmRyvUqoVwrzUoVsIjeTXWQv+RH5GTlBXiB/In8ln0IbBCAFOajAJrgZYyOHWqOfUe/aHjI12R6OQo1jCgt215l+4f6XPb+0MNou0V+43n2F77tSfRb24d7zitgnKmvYHs69zugaPvBwv6ioXkb2LdL65Atw51uLkXlu1bhMMRcXSPcYoqKIRlh34lQP8/5JbuUFye4vxD6/6MxFF11C0uVLr9Ulgw44tS3pMViNLUExbycFgLIct+QDMibRimx1ydUz8FXZiuOIDBOMVX2nUZc+huNE5XUJ81uiJoiabwqaVF0uacKbau/pl4R2VW0XXlJra6boVrYG646TF5NYzwy4vjENVrDlcNpZPl8DH6XX8XWCx0mvWVZY6KFLrvsY66/zPict5FnxaNUR/juvZCM3TvD60E2W1tZizbXTPDuabcm0nbbzpWKpmA1ayBQ8giedLUM+A0kNjBjQjmuYz7YrgIXYvmF63ZLBwSXrpn9Tb9wwdd/U1H0PMQK3XcO8ul3WT7PyPPdpy0TemKxNRcJNauiXJnnUDpUppQWs4SnUIy0EESGYqJYQLGHxzaGWwVIaS6Y7mQFM8ZjYDQ3axjf61SWjU33JwOZA1pwaG1L9mzf71aHRdX1JHw6Fp0aXhNwbqyeGNg4NbdzGCBxoz4ZXjy4Nu69Zr6sDY6vMrLU5nA1P8JkbdWXJ6ERfMryvNh1JfQ9+T4dIhGvK9w3dxjBBzatsQ/MlOHVIDnYpDz6odAXlQ01t2Pa5Iafd8MMpxAeDKP0C6CjgVLT5osB6icUx01lWjXxzT/GyRF2welEM5Z/7jG3VjQ1SrNn5IbyzOG5dobB3/QHxyZvsXcoz8IoEwS7plCg+zxHQk424q9BfEpkESJbFHQusDBSWFkuBkoPO0kLKwRVYjxGXlHTcTDQMJ/H6TX9afkO7mnraTO1feTnZAXLu4cp7HAXMmNG1yeFk9TgS/NHhZR/4QoBTr/ZB+6hCgyl15Nq1UbN6nE1/ZnP1U2cizCBpvs8cJQZJ4LkYx5N/yZPAUZNQQ0V4f3BQllWrK3YRzl30dOT6RVn2upNur6woSa8CqpdT/aKnBM4o3jNur9d9xqtUT6veBEt9Ca9at+ERzEEhUkR8sa5mQ4aVvJoVeEA8zI4ei5mULXFGyU7z/6TAeYLVcpzSWZY8PYYF5yrTV60sT0+XV141vX++Wf16V2bFeGVPZXxFpkvyeKTWLlzfW0mnKxsY6Y3294/0998SCfX1blm5pbcvFGlq/r07MRAMhYIDiW5JFKWW3vdrEpCsZSJG+om7Zu/PSScZJhNkLbmW5Wsr12pWqW5zKtlwRS4bFOxUw17mCzy6lskCDl1WYOGWDYrADrMA7BDDweWWNd5koiJnR1dz+ytLP2q0SqPB1lnK2ccB7RYe4FSoPks3iB3t4txTSHctb2sy1ivk0pvHuCNm6w1f6wxv3+OCgN78LqdQnUVh7R0oTAp0zOf2rbW770Vu5C2dIyGdTnHo8zSji7dppj0USoVCz+lhRMTh53Teq9VbGfbjuSbAooSdXayY4PYHg374C6f7gl1B/DXuJ4/QXxOBdJFJspFsI3egpoWUUCjlTIFnNYNl+ZyZKmBeYKGHkD1QyDlhaKbKwKcIJqJ4TLJ2OmdY/JWXae4DdGBw8HZ7eXcgFF2zr2SoalDry5iKqoa0Puhe3hPQ2s3elTYM+MI+n3rK0KgL7/La3GeMLt6m7u912vGnvtORiIa0qBmhqVi+XW9XNBmqb8eVgKzIHfGI5bNoG7X0UCzeISmqIcO/nY8FH7U8avX9fx/ST+hx0sezPw9Qy8Mum3GWf2N4Uy/yIYGVBXbJHWIZp7dfTcptdMTr9Qmq7DaiK/ukqCL4kt4RUfS5XPnMtmT22/mQFqF7emSqtrlu8SVElxDRJrZODkpuwe0VfTfjdEp1f7A7v+fozNBXUJ/6WTuK2TtFlpFVZAZ3LcFvUi1Z2p2YT+EMAkGJVStOzLTAPg4IqWIAlzRSjOBkl2zxj3TKycpzT/MnvX3uaSMWM+gU0rkXjohhefVRMaps3/kLMSKv23lT23uxQrkQjyOJleMDsdhAnD6ZGElWZ5MjCXzCE/hkWX+WF4knzGhVOyK2eQZekV3eyo0zL8kuYWCnDCvjjhAkcTPOBDXVdoav3HVcFnQjLvtV9S2p0zA6JegPwMQxt+yFb3ll9zGlq/5dRKb3cEyQYoaNYpharJ7xCB7AWxsLY3jjZXY0XsZj0Wjwc9I6PP/dKABnCZaqHpaZEACxk4ZeLZSKNgZABl+lYQX1sJQOSX3n6r410evcoud5JeAGUXVP9H1tZOKejTq4Ono0z0erro1FrnOpohva1d/hTdtVsQdKN5W9RlT3NjD0nznyKNTgKAMfWNWcyodV0IGLPIHOF0o4JyqufaK4z6WIIzuGh3d8c8cwQg8ER+OVxyrjdm8vNuhts4LoOihGxIMuUdgzwiYN7xhh1+oZnJNuTG7gQZvu4XWZ9GAZZjGEubwePqYhtKDTH+9VQkl17/iGybsnJ+8+sKtyPrcll9ty65Zsdst/9iqpEKh7M5VdBxh3csOdNc6tW3I1uyM1PzOXegSOrLFsFNI2O27M+TF2ApnN9MUv5ud6LjxIvEQnHRzxIu4IsA9MLFkJn2tcZoZ7ON7dXe7ujrc8HrusPKamlqXwd77lQUuLpilau4PUMapueBb7irU4RoUXEYXuVuIGlRGmOp+2lNkaRPVziOqmlaZvaqG4dFgSj0jxEJWrv12IUWntmw+rfQarRE0Aph4ocI6nlUlGqs+u3/+T/ethW62PpHp2eHbZstnh/wOO95yDAHicY2BkYGAA4pmJ6QHx/DZfGbiZXwBFGGpUNzQi6P+vmacy3QJyORiYQKIANoULVXicY2BkYGAO+p8FJF8wAAHzVAZGBlSgDQBW9gNvAAAAeJxjYGBgYH4xNDAAzwQmjwAAAAAATgCaAOgBCgEsAU4BcAGaAcQB7gIaApwC6ASaBLwE1gTyBQ4FKgV6BdAF/gZEBmYGtgcYB5AIGAhSCGoI/glGCb4J2goECjwKggq4CvALUAuWC7x4nGNgZGBg0GZMYRBlAAEmIOYCQgaG/2A+AwAYlAG8AHicbZE9TsMwGIbf9A/RSggEYmHxAgtq+jN2ZGj3Dt3T1GlTOXHkuBW9AyfgEByCgTNwCA7BW/NJlVBtyd/jx+8XKwmAa3whwnFE6Ib1OBq44O6Pm6Qb4Rb5QbiNHh6FO/RD4S6eMRHu4RaaT4halzR3eBVu4Apvwk36d+EW+UO4jXt8Cnfov4W7WOBHuIen6MXsCtvPU1vWc73emcSdxIkW2tW5LdUoHp7kTJfaJV6v1PKg6v167H2mMmcLNbWl18ZYVTm71amPN95Xk8EgEx+ntoDBDgUs+siRspaoMef7rukNEriziXNuwS7Hmoe9wggxv+e55IzJMqQTeNYV00scuNbY8+YxrUfGfcaMZb/CNPQe04bT0lThbEuT0sfYhK6K/23Amf3Lx+H24hcj4GScAAAAeJxtjtlugzAQRbkJUEJIuu/7vqR8lGNPAcWx0YAb5e/LklR96EgenSufGY038PqKvf9rhgGG8BEgxA4ijBBjjAQTTLGLPezjAIc4wjFOcIoznOMCl7jCNW5wizvc4wGPeMIzXvCKN7zjAzN8eonQRWZSSaYmjvug6ase98hFltexMJmmVNmV2WBvdNgZUc+ujAWzXW3UDnu1w43asStHc8GpzAXX/py0jqTQZJTgkcxJLpaCF0lD32xNt+43tAsn29Dft02uDKS2cjGUNgsk26qK2lFthYoU27INPqmiDqg5goe0pqR5qSoqMdek/CUZFywL46rEsiImleqiqoMyt4baXlu/1GLdNFf5zbcNmdr1YUWCZe47o+zUmb/DoStbw3cVsef9ALjjiPQA) format('woff');
      font-weight: normal;
      font-style: normal;
    }

    html {
      --lumo-icons-align-center: "\\ea01";
      --lumo-icons-align-left: "\\ea02";
      --lumo-icons-align-right: "\\ea03";
      --lumo-icons-angle-down: "\\ea04";
      --lumo-icons-angle-left: "\\ea05";
      --lumo-icons-angle-right: "\\ea06";
      --lumo-icons-angle-up: "\\ea07";
      --lumo-icons-arrow-down: "\\ea08";
      --lumo-icons-arrow-left: "\\ea09";
      --lumo-icons-arrow-right: "\\ea0a";
      --lumo-icons-arrow-up: "\\ea0b";
      --lumo-icons-bar-chart: "\\ea0c";
      --lumo-icons-bell: "\\ea0d";
      --lumo-icons-calendar: "\\ea0e";
      --lumo-icons-checkmark: "\\ea0f";
      --lumo-icons-chevron-down: "\\ea10";
      --lumo-icons-chevron-left: "\\ea11";
      --lumo-icons-chevron-right: "\\ea12";
      --lumo-icons-chevron-up: "\\ea13";
      --lumo-icons-clock: "\\ea14";
      --lumo-icons-cog: "\\ea15";
      --lumo-icons-cross: "\\ea16";
      --lumo-icons-download: "\\ea17";
      --lumo-icons-dropdown: "\\ea18";
      --lumo-icons-edit: "\\ea19";
      --lumo-icons-error: "\\ea1a";
      --lumo-icons-eye: "\\ea1b";
      --lumo-icons-eye-disabled: "\\ea1c";
      --lumo-icons-menu: "\\ea1d";
      --lumo-icons-minus: "\\ea1e";
      --lumo-icons-ordered-list: "\\ea1f";
      --lumo-icons-phone: "\\ea20";
      --lumo-icons-photo: "\\ea21";
      --lumo-icons-play: "\\ea22";
      --lumo-icons-plus: "\\ea23";
      --lumo-icons-redo: "\\ea24";
      --lumo-icons-reload: "\\ea25";
      --lumo-icons-search: "\\ea26";
      --lumo-icons-undo: "\\ea27";
      --lumo-icons-unordered-list: "\\ea28";
      --lumo-icons-upload: "\\ea29";
      --lumo-icons-user: "\\ea2a";
    }
  </style>
</custom-style>`,document.head.appendChild(qs.content);const Ws=document.createElement("template");Ws.innerHTML=`<custom-style>
  <style>
    html {
      --lumo-size-xs: 1.625rem;
      --lumo-size-s: 1.875rem;
      --lumo-size-m: 2.25rem;
      --lumo-size-l: 2.75rem;
      --lumo-size-xl: 3.5rem;

      /* Icons */
      --lumo-icon-size-s: 1.25em;
      --lumo-icon-size-m: 1.5em;
      --lumo-icon-size-l: 2.25em;
      /* For backwards compatibility */
      --lumo-icon-size: var(--lumo-icon-size-m);
    }
  </style>
</custom-style>`,document.head.appendChild(Ws.content);const Ys=document.createElement("template");Ys.innerHTML=`<custom-style>
  <style>
    html {
      /* Square */
      --lumo-space-xs: 0.25rem;
      --lumo-space-s: 0.5rem;
      --lumo-space-m: 1rem;
      --lumo-space-l: 1.5rem;
      --lumo-space-xl: 2.5rem;

      /* Wide */
      --lumo-space-wide-xs: calc(var(--lumo-space-xs) / 2) var(--lumo-space-xs);
      --lumo-space-wide-s: calc(var(--lumo-space-s) / 2) var(--lumo-space-s);
      --lumo-space-wide-m: calc(var(--lumo-space-m) / 2) var(--lumo-space-m);
      --lumo-space-wide-l: calc(var(--lumo-space-l) / 2) var(--lumo-space-l);
      --lumo-space-wide-xl: calc(var(--lumo-space-xl) / 2) var(--lumo-space-xl);

      /* Tall */
      --lumo-space-tall-xs: var(--lumo-space-xs) calc(var(--lumo-space-xs) / 2);
      --lumo-space-tall-s: var(--lumo-space-s) calc(var(--lumo-space-s) / 2);
      --lumo-space-tall-m: var(--lumo-space-m) calc(var(--lumo-space-m) / 2);
      --lumo-space-tall-l: var(--lumo-space-l) calc(var(--lumo-space-l) / 2);
      --lumo-space-tall-xl: var(--lumo-space-xl) calc(var(--lumo-space-xl) / 2);
    }
  </style>
</custom-style>`,document.head.appendChild(Ys.content);const Zs=document.createElement("template");Zs.innerHTML=`<custom-style>
  <style>
    html {
      /* Border radius */
      --lumo-border-radius-s: 0.25em; /* Checkbox, badge, date-picker year indicator, etc */
      --lumo-border-radius-m: var(--lumo-border-radius, 0.25em); /* Button, text field, menu overlay, etc */
      --lumo-border-radius-l: 0.5em; /* Dialog, notification, etc */
      --lumo-border-radius: 0.25em; /* Deprecated */

      /* Shadow */
      --lumo-box-shadow-xs: 0 1px 4px -1px var(--lumo-shade-50pct);
      --lumo-box-shadow-s: 0 2px 4px -1px var(--lumo-shade-20pct), 0 3px 12px -1px var(--lumo-shade-30pct);
      --lumo-box-shadow-m: 0 2px 6px -1px var(--lumo-shade-20pct), 0 8px 24px -4px var(--lumo-shade-40pct);
      --lumo-box-shadow-l: 0 3px 18px -2px var(--lumo-shade-20pct), 0 12px 48px -6px var(--lumo-shade-40pct);
      --lumo-box-shadow-xl: 0 4px 24px -3px var(--lumo-shade-20pct), 0 18px 64px -8px var(--lumo-shade-40pct);

      /* Clickable element cursor */
      --lumo-clickable-cursor: default;
    }
  </style>
</custom-style>`,document.head.appendChild(Zs.content);const Js=document.createElement("template");Js.innerHTML=`<custom-style>
  <style>
    html {
      /* Font families */
      --lumo-font-family: -apple-system, BlinkMacSystemFont, "Roboto", "Segoe UI", Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";

      /* Font sizes */
      --lumo-font-size-xxs: .75rem;
      --lumo-font-size-xs: .8125rem;
      --lumo-font-size-s: .875rem;
      --lumo-font-size-m: 1rem;
      --lumo-font-size-l: 1.125rem;
      --lumo-font-size-xl: 1.375rem;
      --lumo-font-size-xxl: 1.75rem;
      --lumo-font-size-xxxl: 2.5rem;

      /* Line heights */
      --lumo-line-height-xs: 1.25;
      --lumo-line-height-s: 1.375;
      --lumo-line-height-m: 1.625;
    }

  </style>
</custom-style><dom-module id="lumo-typography">
  <template>
    <style>
      html {
        font-family: var(--lumo-font-family);
        font-size: var(--lumo-font-size, var(--lumo-font-size-m));
        line-height: var(--lumo-line-height-m);
        -webkit-text-size-adjust: 100%;
        -webkit-font-smoothing: antialiased;
        -moz-osx-font-smoothing: grayscale;
      }

      /* Can’t combine with the above selector because that doesn’t work in browsers without native shadow dom */
      :host {
        font-family: var(--lumo-font-family);
        font-size: var(--lumo-font-size, var(--lumo-font-size-m));
        line-height: var(--lumo-line-height-m);
        -webkit-text-size-adjust: 100%;
        -webkit-font-smoothing: antialiased;
        -moz-osx-font-smoothing: grayscale;
      }

      small,
      [theme~="font-size-s"] {
        font-size: var(--lumo-font-size-s);
        line-height: var(--lumo-line-height-s);
      }

      [theme~="font-size-xs"] {
        font-size: var(--lumo-font-size-xs);
        line-height: var(--lumo-line-height-xs);
      }

      h1,
      h2,
      h3,
      h4,
      h5,
      h6 {
        font-weight: 600;
        line-height: var(--lumo-line-height-xs);
        margin-top: 1.25em;
      }

      h1 {
        font-size: var(--lumo-font-size-xxxl);
        margin-bottom: 0.75em;
      }

      h2 {
        font-size: var(--lumo-font-size-xxl);
        margin-bottom: 0.5em;
      }

      h3 {
        font-size: var(--lumo-font-size-xl);
        margin-bottom: 0.5em;
      }

      h4 {
        font-size: var(--lumo-font-size-l);
        margin-bottom: 0.5em;
      }

      h5 {
        font-size: var(--lumo-font-size-m);
        margin-bottom: 0.25em;
      }

      h6 {
        font-size: var(--lumo-font-size-xs);
        margin-bottom: 0;
        text-transform: uppercase;
        letter-spacing: 0.03em;
      }

      p,
      blockquote {
        margin-top: 0.5em;
        margin-bottom: 0.75em;
      }

      a {
        text-decoration: none;
      }

      a:hover {
        text-decoration: underline;
      }

      hr {
        display: block;
        align-self: stretch;
        height: 1px;
        border: 0;
        padding: 0;
        margin: var(--lumo-space-s) calc(var(--lumo-border-radius-m) / 2);
        background-color: var(--lumo-contrast-10pct);
      }

      blockquote {
        border-left: 2px solid var(--lumo-contrast-30pct);
      }

      b,
      strong {
        font-weight: 600;
      }

      /* RTL specific styles */

      blockquote[dir="rtl"] {
        border-left: none;
        border-right: 2px solid var(--lumo-contrast-30pct);
      }

    </style>
  </template>
</dom-module>`,document.head.appendChild(Js.content);const Xs=typeof window<"u"&&window.customElements!=null&&window.customElements.polyfillWrapFlushCallback!==void 0,os=(s,e,t=null)=>{for(;e!==t;){const i=e.nextSibling;s.removeChild(e),e=i}},X=`{{lit-${String(Math.random()).slice(2)}}}`,mn=`<!--${X}-->`,Qs=new RegExp(`${X}|${mn}`),Ge="$lit$";class fn{constructor(e,t){this.parts=[],this.element=t;const i=[],r=[],n=document.createTreeWalker(t.content,133,null,!1);let o=0,a=-1,l=0;const{strings:d,values:{length:h}}=e;for(;l<h;){const c=n.nextNode();if(c!==null){if(a++,c.nodeType===1){if(c.hasAttributes()){const _=c.attributes,{length:g}=_;let m=0;for(let y=0;y<g;y++)Ks(_[y].name,Ge)&&m++;for(;m-- >0;){const y=d[l],w=Oi.exec(y)[2],b=w.toLowerCase()+Ge,E=c.getAttribute(b);c.removeAttribute(b);const T=E.split(Qs);this.parts.push({type:"attribute",index:a,name:w,strings:T}),l+=T.length-1}}c.tagName==="TEMPLATE"&&(r.push(c),n.currentNode=c.content)}else if(c.nodeType===3){const _=c.data;if(_.indexOf(X)>=0){const g=c.parentNode,m=_.split(Qs),y=m.length-1;for(let w=0;w<y;w++){let b,E=m[w];if(E==="")b=ue();else{const T=Oi.exec(E);T!==null&&Ks(T[2],Ge)&&(E=E.slice(0,T.index)+T[1]+T[2].slice(0,-Ge.length)+T[3]),b=document.createTextNode(E)}g.insertBefore(b,c),this.parts.push({type:"node",index:++a})}m[y]===""?(g.insertBefore(ue(),c),i.push(c)):c.data=m[y],l+=y}}else if(c.nodeType===8)if(c.data===X){const _=c.parentNode;c.previousSibling!==null&&a!==o||(a++,_.insertBefore(ue(),c)),o=a,this.parts.push({type:"node",index:a}),c.nextSibling===null?c.data="":(i.push(c),a--),l++}else{let _=-1;for(;(_=c.data.indexOf(X,_+1))!==-1;)this.parts.push({type:"node",index:-1}),l++}}else n.currentNode=r.pop()}for(const c of i)c.parentNode.removeChild(c)}}const Ks=(s,e)=>{const t=s.length-e.length;return t>=0&&s.slice(t)===e},gn=s=>s.index!==-1,ue=()=>document.createComment(""),Oi=/([ \x09\x0a\x0c\x0d])([^\0-\x1F\x7F-\x9F "'>=/]+)([ \x09\x0a\x0c\x0d]*=[ \x09\x0a\x0c\x0d]*(?:[^ \x09\x0a\x0c\x0d"'`<>=]*|"[^"]*|'[^']*))$/,as=133;function yn(s,e){const{element:{content:t},parts:i}=s,r=document.createTreeWalker(t,as,null,!1);let n=Je(i),o=i[n],a=-1,l=0;const d=[];let h=null;for(;r.nextNode();){a++;const c=r.currentNode;for(c.previousSibling===h&&(h=null),e.has(c)&&(d.push(c),h===null&&(h=c)),h!==null&&l++;o!==void 0&&o.index===a;)o.index=h!==null?-1:o.index-l,n=Je(i,n),o=i[n]}d.forEach(c=>c.parentNode.removeChild(c))}const Sa=s=>{let e=s.nodeType===11?0:1;const t=document.createTreeWalker(s,as,null,!1);for(;t.nextNode();)e++;return e},Je=(s,e=-1)=>{for(let t=e+1;t<s.length;t++){const i=s[t];if(gn(i))return t}return-1};function xa(s,e,t=null){const{element:{content:i},parts:r}=s;if(t==null)return void i.appendChild(e);const n=document.createTreeWalker(i,as,null,!1);let o=Je(r),a=0,l=-1;for(;n.nextNode();)for(l++,n.currentNode===t&&(a=Sa(e),t.parentNode.insertBefore(e,t));o!==-1&&r[o].index===l;){if(a>0){for(;o!==-1;)r[o].index+=a,o=Je(r,o);return}o=Je(r,o)}}const Ea=new WeakMap,Ia=s=>typeof s=="function"&&Ea.has(s),er={},tr={};class Ri{constructor(e,t,i){this.__parts=[],this.template=e,this.processor=t,this.options=i}update(e){let t=0;for(const i of this.__parts)i!==void 0&&i.setValue(e[t]),t++;for(const i of this.__parts)i!==void 0&&i.commit()}_clone(){const e=Xs?this.template.element.content.cloneNode(!0):document.importNode(this.template.element.content,!0),t=[],i=this.template.parts,r=document.createTreeWalker(e,133,null,!1);let n,o=0,a=0,l=r.nextNode();for(;o<i.length;)if(n=i[o],gn(n)){for(;a<n.index;)a++,l.nodeName==="TEMPLATE"&&(t.push(l),r.currentNode=l.content),(l=r.nextNode())===null&&(r.currentNode=t.pop(),l=r.nextNode());if(n.type==="node"){const d=this.processor.handleTextExpression(this.options);d.insertAfterNode(l.previousSibling),this.__parts.push(d)}else this.__parts.push(...this.processor.handleAttributeExpressions(l,n.name,n.strings,this.options));o++}else this.__parts.push(void 0),o++;return Xs&&(document.adoptNode(e),customElements.upgrade(e)),e}}const ir=window.trustedTypes&&trustedTypes.createPolicy("lit-html",{createHTML:s=>s}),Pa=` ${X} `;class Ta{constructor(e,t,i,r){this.strings=e,this.values=t,this.type=i,this.processor=r}getHTML(){const e=this.strings.length-1;let t="",i=!1;for(let r=0;r<e;r++){const n=this.strings[r],o=n.lastIndexOf("<!--");i=(o>-1||i)&&n.indexOf("-->",o+1)===-1;const a=Oi.exec(n);t+=a===null?n+(i?Pa:mn):n.substr(0,a.index)+a[1]+a[2]+Ge+a[3]+X}return t+=this.strings[e],t}getTemplateElement(){const e=document.createElement("template");let t=this.getHTML();return ir!==void 0&&(t=ir.createHTML(t)),e.innerHTML=t,e}}const Oa=s=>s===null||!(typeof s=="object"||typeof s=="function"),Ra=s=>Array.isArray(s)||!(!s||!s[Symbol.iterator]);class ls{constructor(e){this.value=void 0,this.__pendingValue=void 0,this.options=e}appendInto(e){this.startNode=e.appendChild(ue()),this.endNode=e.appendChild(ue())}insertAfterNode(e){this.startNode=e,this.endNode=e.nextSibling}appendIntoPart(e){e.__insert(this.startNode=ue()),e.__insert(this.endNode=ue())}insertAfterPart(e){e.__insert(this.startNode=ue()),this.endNode=e.endNode,e.endNode=this.startNode}setValue(e){this.__pendingValue=e}commit(){if(this.startNode.parentNode===null)return;for(;Ia(this.__pendingValue);){const t=this.__pendingValue;this.__pendingValue=er,t(this)}const e=this.__pendingValue;e!==er&&(Oa(e)?e!==this.value&&this.__commitText(e):e instanceof Ta?this.__commitTemplateResult(e):e instanceof Node?this.__commitNode(e):Ra(e)?this.__commitIterable(e):e===tr?(this.value=tr,this.clear()):this.__commitText(e))}__insert(e){this.endNode.parentNode.insertBefore(e,this.endNode)}__commitNode(e){this.value!==e&&(this.clear(),this.__insert(e),this.value=e)}__commitText(e){const t=this.startNode.nextSibling,i=typeof(e=e??"")=="string"?e:String(e);t===this.endNode.previousSibling&&t.nodeType===3?t.data=i:this.__commitNode(document.createTextNode(i)),this.value=e}__commitTemplateResult(e){const t=this.options.templateFactory(e);if(this.value instanceof Ri&&this.value.template===t)this.value.update(e.values);else{const i=new Ri(t,e.processor,this.options),r=i._clone();i.update(e.values),this.__commitNode(r),this.value=i}}__commitIterable(e){Array.isArray(this.value)||(this.value=[],this.clear());const t=this.value;let i,r=0;for(const n of e)i=t[r],i===void 0&&(i=new ls(this.options),t.push(i),r===0?i.appendIntoPart(this):i.insertAfterPart(t[r-1])),i.setValue(n),i.commit(),r++;r<t.length&&(t.length=r,this.clear(i&&i.endNode))}clear(e=this.startNode){os(this.startNode.parentNode,e.nextSibling,this.endNode)}}let Fa=!1;function Na(s){let e=it.get(s.type);e===void 0&&(e={stringsArray:new WeakMap,keyString:new Map},it.set(s.type,e));let t=e.stringsArray.get(s.strings);if(t!==void 0)return t;const i=s.strings.join(X);return t=e.keyString.get(i),t===void 0&&(t=new fn(s,s.getTemplateElement()),e.keyString.set(i,t)),e.stringsArray.set(s.strings,t),t}(()=>{try{const s={get capture(){return Fa=!0,!1}};window.addEventListener("test",s,s),window.removeEventListener("test",s,s)}catch{}})();const it=new Map,Oe=new WeakMap,za=(s,e,t)=>{let i=Oe.get(e);i===void 0&&(os(e,e.firstChild),Oe.set(e,i=new ls(Object.assign({templateFactory:Na},t))),i.appendInto(e)),i.setValue(s),i.commit()};typeof window<"u"&&(window.litHtmlVersions||(window.litHtmlVersions=[])).push("1.4.1");const bn=(s,e)=>`${s}--${e}`;let Mt=!0;window.ShadyCSS===void 0?Mt=!1:window.ShadyCSS.prepareTemplateDom===void 0&&(console.warn("Incompatible ShadyCSS version detected. Please update to at least @webcomponents/webcomponentsjs@2.0.2 and @webcomponents/shadycss@1.3.1."),Mt=!1);const Ma=s=>e=>{const t=bn(e.type,s);let i=it.get(t);i===void 0&&(i={stringsArray:new WeakMap,keyString:new Map},it.set(t,i));let r=i.stringsArray.get(e.strings);if(r!==void 0)return r;const n=e.strings.join(X);if(r=i.keyString.get(n),r===void 0){const o=e.getTemplateElement();Mt&&window.ShadyCSS.prepareTemplateDom(o,s),r=new fn(e,o),i.keyString.set(n,r)}return i.stringsArray.set(e.strings,r),r},ka=["html","svg"],Da=s=>{ka.forEach(e=>{const t=it.get(bn(e,s));t!==void 0&&t.keyString.forEach(i=>{const{element:{content:r}}=i,n=new Set;Array.from(r.querySelectorAll("style")).forEach(o=>{n.add(o)}),yn(i,n)})})},vn=new Set,La=(s,e,t)=>{vn.add(s);const i=t?t.element:document.createElement("template"),r=e.querySelectorAll("style"),{length:n}=r;if(n===0)return void window.ShadyCSS.prepareTemplateStyles(i,s);const o=document.createElement("style");for(let d=0;d<n;d++){const h=r[d];h.parentNode.removeChild(h),o.textContent+=h.textContent}Da(s);const a=i.content;t?xa(t,o,a.firstChild):a.insertBefore(o,a.firstChild),window.ShadyCSS.prepareTemplateStyles(i,s);const l=a.querySelector("style");if(window.ShadyCSS.nativeShadow&&l!==null)e.insertBefore(l.cloneNode(!0),e.firstChild);else if(t){a.insertBefore(o,a.firstChild);const d=new Set;d.add(o),yn(t,d)}},Ha=(s,e,t)=>{if(!t||typeof t!="object"||!t.scopeName)throw new Error("The `scopeName` option is required.");const i=t.scopeName,r=Oe.has(e),n=Mt&&e.nodeType===11&&!!e.host,o=n&&!vn.has(i),a=o?document.createDocumentFragment():e;if(za(s,a,Object.assign({templateFactory:Ma(i)},t)),o){const l=Oe.get(a);Oe.delete(a);const d=l.value instanceof Ri?l.value.template:void 0;La(i,a,d),os(e,e.firstChild),e.appendChild(a),Oe.set(e,l)}!r&&n&&window.ShadyCSS.styleElement(e.host)};window.JSCompiler_renameProperty=(s,e)=>s;const Fi={toAttribute(s,e){switch(e){case Boolean:return s?"":null;case Object:case Array:return s==null?s:JSON.stringify(s)}return s},fromAttribute(s,e){switch(e){case Boolean:return s!==null;case Number:return s===null?null:Number(s);case Object:case Array:return JSON.parse(s)}return s}},wn=(s,e)=>e!==s&&(e==e||s==s),li={attribute:!0,type:String,converter:Fi,reflect:!1,hasChanged:wn},di=1,hi=4,ci=8,ui=16,Ni="finalized";class Cn extends HTMLElement{constructor(){super(),this.initialize()}static get observedAttributes(){this.finalize();const e=[];return this._classProperties.forEach((t,i)=>{const r=this._attributeNameForProperty(i,t);r!==void 0&&(this._attributeToPropertyMap.set(r,i),e.push(r))}),e}static _ensureClassProperties(){if(!this.hasOwnProperty(JSCompiler_renameProperty("_classProperties",this))){this._classProperties=new Map;const e=Object.getPrototypeOf(this)._classProperties;e!==void 0&&e.forEach((t,i)=>this._classProperties.set(i,t))}}static createProperty(e,t=li){if(this._ensureClassProperties(),this._classProperties.set(e,t),t.noAccessor||this.prototype.hasOwnProperty(e))return;const i=typeof e=="symbol"?Symbol():`__${e}`,r=this.getPropertyDescriptor(e,i,t);r!==void 0&&Object.defineProperty(this.prototype,e,r)}static getPropertyDescriptor(e,t,i){return{get(){return this[t]},set(r){const n=this[e];this[t]=r,this.requestUpdateInternal(e,n,i)},configurable:!0,enumerable:!0}}static getPropertyOptions(e){return this._classProperties&&this._classProperties.get(e)||li}static finalize(){const e=Object.getPrototypeOf(this);if(e.hasOwnProperty(Ni)||e.finalize(),this[Ni]=!0,this._ensureClassProperties(),this._attributeToPropertyMap=new Map,this.hasOwnProperty(JSCompiler_renameProperty("properties",this))){const t=this.properties,i=[...Object.getOwnPropertyNames(t),...typeof Object.getOwnPropertySymbols=="function"?Object.getOwnPropertySymbols(t):[]];for(const r of i)this.createProperty(r,t[r])}}static _attributeNameForProperty(e,t){const i=t.attribute;return i===!1?void 0:typeof i=="string"?i:typeof e=="string"?e.toLowerCase():void 0}static _valueHasChanged(e,t,i=wn){return i(e,t)}static _propertyValueFromAttribute(e,t){const i=t.type,r=t.converter||Fi,n=typeof r=="function"?r:r.fromAttribute;return n?n(e,i):e}static _propertyValueToAttribute(e,t){if(t.reflect===void 0)return;const i=t.type,r=t.converter;return(r&&r.toAttribute||Fi.toAttribute)(e,i)}initialize(){this._updateState=0,this._updatePromise=new Promise(e=>this._enableUpdatingResolver=e),this._changedProperties=new Map,this._saveInstanceProperties(),this.requestUpdateInternal()}_saveInstanceProperties(){this.constructor._classProperties.forEach((e,t)=>{if(this.hasOwnProperty(t)){const i=this[t];delete this[t],this._instanceProperties||(this._instanceProperties=new Map),this._instanceProperties.set(t,i)}})}_applyInstanceProperties(){this._instanceProperties.forEach((e,t)=>this[t]=e),this._instanceProperties=void 0}connectedCallback(){this.enableUpdating()}enableUpdating(){this._enableUpdatingResolver!==void 0&&(this._enableUpdatingResolver(),this._enableUpdatingResolver=void 0)}disconnectedCallback(){}attributeChangedCallback(e,t,i){t!==i&&this._attributeToProperty(e,i)}_propertyToAttribute(e,t,i=li){const r=this.constructor,n=r._attributeNameForProperty(e,i);if(n!==void 0){const o=r._propertyValueToAttribute(t,i);if(o===void 0)return;this._updateState=this._updateState|ci,o==null?this.removeAttribute(n):this.setAttribute(n,o),this._updateState=this._updateState&~ci}}_attributeToProperty(e,t){if(this._updateState&ci)return;const i=this.constructor,r=i._attributeToPropertyMap.get(e);if(r!==void 0){const n=i.getPropertyOptions(r);this._updateState=this._updateState|ui,this[r]=i._propertyValueFromAttribute(t,n),this._updateState=this._updateState&~ui}}requestUpdateInternal(e,t,i){let r=!0;if(e!==void 0){const n=this.constructor;i=i||n.getPropertyOptions(e),n._valueHasChanged(this[e],t,i.hasChanged)?(this._changedProperties.has(e)||this._changedProperties.set(e,t),i.reflect!==!0||this._updateState&ui||(this._reflectingProperties===void 0&&(this._reflectingProperties=new Map),this._reflectingProperties.set(e,i))):r=!1}!this._hasRequestedUpdate&&r&&(this._updatePromise=this._enqueueUpdate())}requestUpdate(e,t){return this.requestUpdateInternal(e,t),this.updateComplete}async _enqueueUpdate(){this._updateState=this._updateState|hi;try{await this._updatePromise}catch{}const e=this.performUpdate();return e!=null&&await e,!this._hasRequestedUpdate}get _hasRequestedUpdate(){return this._updateState&hi}get hasUpdated(){return this._updateState&di}performUpdate(){if(!this._hasRequestedUpdate)return;this._instanceProperties&&this._applyInstanceProperties();let e=!1;const t=this._changedProperties;try{e=this.shouldUpdate(t),e?this.update(t):this._markUpdated()}catch(i){throw e=!1,this._markUpdated(),i}e&&(this._updateState&di||(this._updateState=this._updateState|di,this.firstUpdated(t)),this.updated(t))}_markUpdated(){this._changedProperties=new Map,this._updateState=this._updateState&~hi}get updateComplete(){return this._getUpdateComplete()}_getUpdateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._updatePromise}shouldUpdate(e){return!0}update(e){this._reflectingProperties!==void 0&&this._reflectingProperties.size>0&&(this._reflectingProperties.forEach((t,i)=>this._propertyToAttribute(i,this[i],t)),this._reflectingProperties=void 0),this._markUpdated()}updated(e){}firstUpdated(e){}}Cn[Ni]=!0;const zi=window.ShadowRoot&&(window.ShadyCSS===void 0||window.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,ds=Symbol();class Zt{constructor(e,t){if(t!==ds)throw new Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=e}get styleSheet(){return this._styleSheet===void 0&&(zi?(this._styleSheet=new CSSStyleSheet,this._styleSheet.replaceSync(this.cssText)):this._styleSheet=null),this._styleSheet}toString(){return this.cssText}}const $a=s=>new Zt(String(s),ds),Ba=s=>{if(s instanceof Zt)return s.cssText;if(typeof s=="number")return s;throw new Error(`Value passed to 'css' function must be a 'css' function result: ${s}. Use 'unsafeCSS' to pass non-literal values, but
            take care to ensure page security.`)},st=(s,...e)=>{const t=e.reduce((i,r,n)=>i+Ba(r)+s[n+1],s[0]);return new Zt(t,ds)};(window.litElementVersions||(window.litElementVersions=[])).push("2.5.1");const sr={};class pi extends Cn{static getStyles(){return this.styles}static _getUniqueStyles(){if(this.hasOwnProperty(JSCompiler_renameProperty("_styles",this)))return;const e=this.getStyles();if(Array.isArray(e)){const t=(n,o)=>n.reduceRight((a,l)=>Array.isArray(l)?t(l,a):(a.add(l),a),o),i=t(e,new Set),r=[];i.forEach(n=>r.unshift(n)),this._styles=r}else this._styles=e===void 0?[]:[e];this._styles=this._styles.map(t=>{if(t instanceof CSSStyleSheet&&!zi){const i=Array.prototype.slice.call(t.cssRules).reduce((r,n)=>r+n.cssText,"");return $a(i)}return t})}initialize(){super.initialize(),this.constructor._getUniqueStyles(),this.renderRoot=this.createRenderRoot(),window.ShadowRoot&&this.renderRoot instanceof window.ShadowRoot&&this.adoptStyles()}createRenderRoot(){return this.attachShadow(this.constructor.shadowRootOptions)}adoptStyles(){const e=this.constructor._styles;e.length!==0&&(window.ShadyCSS===void 0||window.ShadyCSS.nativeShadow?zi?this.renderRoot.adoptedStyleSheets=e.map(t=>t instanceof CSSStyleSheet?t:t.styleSheet):this._needsShimAdoptedStyleSheets=!0:window.ShadyCSS.ScopingShim.prepareAdoptedCssText(e.map(t=>t.cssText),this.localName))}connectedCallback(){super.connectedCallback(),this.hasUpdated&&window.ShadyCSS!==void 0&&window.ShadyCSS.styleElement(this)}update(e){const t=this.render();super.update(e),t!==sr&&this.constructor.render(t,this.renderRoot,{scopeName:this.localName,eventContext:this}),this._needsShimAdoptedStyleSheets&&(this._needsShimAdoptedStyleSheets=!1,this.constructor._styles.forEach(i=>{const r=document.createElement("style");r.textContent=i.cssText,this.renderRoot.appendChild(r)}))}render(){return sr}}pi.finalized=!0,pi.render=Ha,pi.shadowRootOptions={mode:"open"};let rr=0;const _i={},rt=(s,e,t)=>{const i=t&&t.moduleId||"custom-style-module-"+rr++;Array.isArray(e)||(e=e?[e]:[]),e.forEach(o=>{if(!(o instanceof Zt))throw new Error("An item in styles is not of type CSSResult. Use `unsafeCSS` or `css`.");if(!_i[o]){const a=document.createElement("dom-module");a.innerHTML=`
        <template>
          <style>${o.toString()}</style>
        </template>
      `;const l="custom-style-module-"+rr++;a.register(l),_i[o]=l}});const r=document.createElement("dom-module");if(s){const o=window.customElements&&window.customElements.get(s);o&&o.hasOwnProperty("__finalized")&&console.warn(`The custom element definition for "${s}"
      was finalized before a style module was registered.
      Make sure to add component specific style modules before
      importing the corresponding custom element.`),r.setAttribute("theme-for",s)}const n=t&&t.include||[];r.innerHTML=`
    <template>
      ${n.map(o=>`<style include=${o}></style>`)}
      ${e.map(o=>`<style include=${_i[o]}></style>`)}
    </template>
  `,r.register(i)};rt("vaadin-checkbox",st`
    :host {
      -webkit-tap-highlight-color: transparent;
      -webkit-user-select: none;
      -moz-user-select: none;
      user-select: none;
      cursor: default;
      outline: none;
    }

    [part='label']:not([empty]) {
      margin: 0.1875em 0.875em 0.1875em 0.375em;
    }

    [part='checkbox'] {
      width: calc(1em + 2px);
      height: calc(1em + 2px);
      margin: 0.1875em;
      position: relative;
      border-radius: var(--lumo-border-radius-s);
      background-color: var(--lumo-contrast-20pct);
      transition: transform 0.2s cubic-bezier(0.12, 0.32, 0.54, 2), background-color 0.15s;
      pointer-events: none;
      line-height: 1.2;
    }

    :host([indeterminate]) [part='checkbox'],
    :host([checked]) [part='checkbox'] {
      background-color: var(--lumo-primary-color);
    }

    /* Needed to align the checkbox nicely on the baseline */
    [part='checkbox']::before {
      content: '\\2003';
    }

    /* Checkmark */
    [part='checkbox']::after {
      content: '';
      display: inline-block;
      width: 0;
      height: 0;
      border: 0 solid var(--lumo-primary-contrast-color);
      border-width: 0.1875em 0 0 0.1875em;
      box-sizing: border-box;
      transform-origin: 0 0;
      position: absolute;
      top: 0.8125em;
      left: 0.5em;
      transform: scale(0.55) rotate(-135deg);
      opacity: 0;
    }

    :host([checked]) [part='checkbox']::after {
      opacity: 1;
      width: 0.625em;
      height: 1.0625em;
    }

    /* Indeterminate checkmark */
    :host([indeterminate]) [part='checkbox']::after {
      transform: none;
      opacity: 1;
      top: 45%;
      height: 10%;
      left: 22%;
      right: 22%;
      width: auto;
      border: 0;
      background-color: var(--lumo-primary-contrast-color);
      transition: opacity 0.25s;
    }

    /* Focus ring */
    :host([focus-ring]) [part='checkbox'] {
      box-shadow: 0 0 0 3px var(--lumo-primary-color-50pct);
    }

    /* Disabled */
    :host([disabled]) {
      pointer-events: none;
      color: var(--lumo-disabled-text-color);
    }

    :host([disabled]) [part='label'] ::slotted(*) {
      color: inherit;
    }

    :host([disabled]) [part='checkbox'] {
      background-color: var(--lumo-contrast-10pct);
    }

    :host([disabled]) [part='checkbox']::after {
      border-color: var(--lumo-contrast-30pct);
    }

    :host([indeterminate][disabled]) [part='checkbox']::after {
      background-color: var(--lumo-contrast-30pct);
    }

    /* RTL specific styles */
    :host([dir='rtl']) [part='label']:not([empty]) {
      margin: 0.1875em 0.375em 0.1875em 0.875em;
    }

    /* Transition the checkmark if activated with the mouse (disabled for grid select-all this way) */
    :host(:hover) [part='checkbox']::after {
      transition: width 0.1s, height 0.25s;
    }

    /* Used for activation "halo" */
    [part='checkbox']::before {
      color: transparent;
      display: inline-block;
      width: 100%;
      height: 100%;
      border-radius: inherit;
      background-color: inherit;
      transform: scale(1.4);
      opacity: 0;
      transition: transform 0.1s, opacity 0.8s;
    }

    /* Hover */
    :host(:not([checked]):not([indeterminate]):not([disabled]):hover) [part='checkbox'] {
      background-color: var(--lumo-contrast-30pct);
    }

    /* Disable hover for touch devices */
    @media (pointer: coarse) {
      :host(:not([checked]):not([indeterminate]):not([disabled]):hover) [part='checkbox'] {
        background-color: var(--lumo-contrast-20pct);
      }
    }

    /* Active */
    :host([active]) [part='checkbox'] {
      transform: scale(0.9);
      transition-duration: 0.05s;
    }

    :host([active][checked]) [part='checkbox'] {
      transform: scale(1.1);
    }

    :host([active]:not([checked])) [part='checkbox']::before {
      transition-duration: 0.01s, 0.01s;
      transform: scale(0);
      opacity: 0.4;
    }
  `,{moduleId:"lumo-checkbox"});let Va=0;const j=function(s){let e=s.__mixinApplications;e||(e=new WeakMap,s.__mixinApplications=e);let t=Va++;function i(r){let n=r.__mixinSet;if(n&&n[t])return r;let o=e,a=o.get(r);if(!a){a=s(r),o.set(r,a);let l=Object.create(a.__mixinSet||n||null);l[t]=!0,a.__mixinSet=l}return a}return i},f=window.ShadyDOM&&window.ShadyDOM.noPatch&&window.ShadyDOM.wrap?window.ShadyDOM.wrap:window.ShadyDOM?s=>ShadyDOM.patch(s):s=>s;function Mi(s){return s.indexOf(".")>=0}function te(s){let e=s.indexOf(".");return e===-1?s:s.slice(0,e)}function An(s,e){return s.indexOf(e+".")===0}function nt(s,e){return e.indexOf(s+".")===0}function ot(s,e,t){return e+t.slice(s.length)}function ja(s,e){return s===e||An(s,e)||nt(s,e)}function Ue(s){if(Array.isArray(s)){let e=[];for(let t=0;t<s.length;t++){let i=s[t].toString().split(".");for(let r=0;r<i.length;r++)e.push(i[r])}return e.join(".")}return s}function Sn(s){return Array.isArray(s)?Ue(s).split("."):s.toString().split(".")}function L(s,e,t){let i=s,r=Sn(e);for(let n=0;n<r.length;n++){if(!i)return;i=i[r[n]]}return t&&(t.path=r.join(".")),i}function nr(s,e,t){let i=s,r=Sn(e),n=r[r.length-1];if(r.length>1){for(let o=0;o<r.length-1;o++)if(i=i[r[o]],!i)return;i[n]=t}else i[e]=t;return r.join(".")}const kt={},Ga=/-[a-z]/g,Ua=/([A-Z])/g;function xn(s){return kt[s]||(kt[s]=s.indexOf("-")<0?s:s.replace(Ga,e=>e[1].toUpperCase()))}function Jt(s){return kt[s]||(kt[s]=s.replace(Ua,"-$1").toLowerCase())}let qa=0,En=0,Fe=[],Wa=0,ki=!1,In=document.createTextNode("");function Ya(){ki=!1;const s=Fe.length;for(let e=0;e<s;e++){let t=Fe[e];if(t)try{t()}catch(i){setTimeout(()=>{throw i})}}Fe.splice(0,s),En+=s}new window.MutationObserver(Ya).observe(In,{characterData:!0});const Y={after:s=>({run:e=>window.setTimeout(e,s),cancel(e){window.clearTimeout(e)}}),run:(s,e)=>window.setTimeout(s,e),cancel(s){window.clearTimeout(s)}},Q={run:s=>window.requestAnimationFrame(s),cancel(s){window.cancelAnimationFrame(s)}},Pn={run:s=>window.requestIdleCallback?window.requestIdleCallback(s):window.setTimeout(s,16),cancel(s){window.cancelIdleCallback?window.cancelIdleCallback(s):window.clearTimeout(s)}},U={run:s=>(ki||(ki=!0,In.textContent=Wa++),Fe.push(s),qa++),cancel(s){const e=s-En;if(e>=0){if(!Fe[e])throw new Error("invalid async handle: "+s);Fe[e]=null}}},Za=U,Tn=j(s=>{class e extends s{static createProperties(i){const r=this.prototype;for(let n in i)n in r||r._createPropertyAccessor(n)}static attributeNameForProperty(i){return i.toLowerCase()}static typeForProperty(i){}_createPropertyAccessor(i,r){this._addPropertyToAttributeMap(i),this.hasOwnProperty(JSCompiler_renameProperty("__dataHasAccessor",this))||(this.__dataHasAccessor=Object.assign({},this.__dataHasAccessor)),this.__dataHasAccessor[i]||(this.__dataHasAccessor[i]=!0,this._definePropertyAccessor(i,r))}_addPropertyToAttributeMap(i){this.hasOwnProperty(JSCompiler_renameProperty("__dataAttributes",this))||(this.__dataAttributes=Object.assign({},this.__dataAttributes));let r=this.__dataAttributes[i];return r||(r=this.constructor.attributeNameForProperty(i),this.__dataAttributes[r]=i),r}_definePropertyAccessor(i,r){Object.defineProperty(this,i,{get(){return this.__data[i]},set:r?function(){}:function(n){this._setPendingProperty(i,n,!0)&&this._invalidateProperties()}})}constructor(){super(),this.__dataEnabled=!1,this.__dataReady=!1,this.__dataInvalid=!1,this.__data={},this.__dataPending=null,this.__dataOld=null,this.__dataInstanceProps=null,this.__dataCounter=0,this.__serializing=!1,this._initializeProperties()}ready(){this.__dataReady=!0,this._flushProperties()}_initializeProperties(){for(let i in this.__dataHasAccessor)this.hasOwnProperty(i)&&(this.__dataInstanceProps=this.__dataInstanceProps||{},this.__dataInstanceProps[i]=this[i],delete this[i])}_initializeInstanceProperties(i){Object.assign(this,i)}_setProperty(i,r){this._setPendingProperty(i,r)&&this._invalidateProperties()}_getProperty(i){return this.__data[i]}_setPendingProperty(i,r,n){let o=this.__data[i],a=this._shouldPropertyChange(i,r,o);return a&&(this.__dataPending||(this.__dataPending={},this.__dataOld={}),this.__dataOld&&!(i in this.__dataOld)&&(this.__dataOld[i]=o),this.__data[i]=r,this.__dataPending[i]=r),a}_isPropertyPending(i){return!(!this.__dataPending||!this.__dataPending.hasOwnProperty(i))}_invalidateProperties(){!this.__dataInvalid&&this.__dataReady&&(this.__dataInvalid=!0,Za.run(()=>{this.__dataInvalid&&(this.__dataInvalid=!1,this._flushProperties())}))}_enableProperties(){this.__dataEnabled||(this.__dataEnabled=!0,this.__dataInstanceProps&&(this._initializeInstanceProperties(this.__dataInstanceProps),this.__dataInstanceProps=null),this.ready())}_flushProperties(){this.__dataCounter++;const i=this.__data,r=this.__dataPending,n=this.__dataOld;this._shouldPropertiesChange(i,r,n)&&(this.__dataPending=null,this.__dataOld=null,this._propertiesChanged(i,r,n)),this.__dataCounter--}_shouldPropertiesChange(i,r,n){return!!r}_propertiesChanged(i,r,n){}_shouldPropertyChange(i,r,n){return n!==r&&(n==n||r==r)}attributeChangedCallback(i,r,n,o){r!==n&&this._attributeToProperty(i,n),super.attributeChangedCallback&&super.attributeChangedCallback(i,r,n,o)}_attributeToProperty(i,r,n){if(!this.__serializing){const o=this.__dataAttributes,a=o&&o[i]||i;this[a]=this._deserializeValue(r,n||this.constructor.typeForProperty(a))}}_propertyToAttribute(i,r,n){this.__serializing=!0,n=arguments.length<3?this[i]:n,this._valueToNodeAttribute(this,n,r||this.constructor.attributeNameForProperty(i)),this.__serializing=!1}_valueToNodeAttribute(i,r,n){const o=this._serializeValue(r);n!=="class"&&n!=="name"&&n!=="slot"||(i=f(i)),o===void 0?i.removeAttribute(n):i.setAttribute(n,o)}_serializeValue(i){return typeof i=="boolean"?i?"":void 0:i!=null?i.toString():void 0}_deserializeValue(i,r){switch(r){case Boolean:return i!==null;case Number:return Number(i);default:return i}}}return e}),On={};let Ct=HTMLElement.prototype;for(;Ct;){let s=Object.getOwnPropertyNames(Ct);for(let e=0;e<s.length;e++)On[s[e]]=!0;Ct=Object.getPrototypeOf(Ct)}function Ja(s,e){if(!On[e]){let t=s[e];t!==void 0&&(s.__data?s._setPendingProperty(e,t):(s.__dataProto?s.hasOwnProperty(JSCompiler_renameProperty("__dataProto",s))||(s.__dataProto=Object.create(s.__dataProto)):s.__dataProto={},s.__dataProto[e]=t))}}const Rn=j(s=>{const e=Tn(s);class t extends e{static createPropertiesForAttributes(){let r=this.observedAttributes;for(let n=0;n<r.length;n++)this.prototype._createPropertyAccessor(xn(r[n]))}static attributeNameForProperty(r){return Jt(r)}_initializeProperties(){this.__dataProto&&(this._initializeProtoProperties(this.__dataProto),this.__dataProto=null),super._initializeProperties()}_initializeProtoProperties(r){for(let n in r)this._setProperty(n,r[n])}_ensureAttribute(r,n){const o=this;o.hasAttribute(r)||this._valueToNodeAttribute(o,n,r)}_serializeValue(r){if(typeof r=="object"){if(r instanceof Date)return r.toString();if(r)try{return JSON.stringify(r)}catch{return""}}return super._serializeValue(r)}_deserializeValue(r,n){let o;switch(n){case Object:try{o=JSON.parse(r)}catch{o=r}break;case Array:try{o=JSON.parse(r)}catch{o=null,console.warn(`Polymer::Attributes: couldn't decode Array as JSON: ${r}`)}break;case Date:o=isNaN(r)?String(r):Number(r),o=new Date(o);break;default:o=super._deserializeValue(r,n)}return o}_definePropertyAccessor(r,n){Ja(this,r),super._definePropertyAccessor(r,n)}_hasAccessor(r){return this.__dataHasAccessor&&this.__dataHasAccessor[r]}_isPropertyPending(r){return!!(this.__dataPending&&r in this.__dataPending)}}return t}),Xa={"dom-if":!0,"dom-repeat":!0};let or=!1,ar=!1;function Qa(){if(!or){or=!0;const s=document.createElement("textarea");s.placeholder="a",ar=s.placeholder===s.textContent}return ar}function Ka(s){Qa()&&s.localName==="textarea"&&s.placeholder&&s.placeholder===s.textContent&&(s.textContent=null)}function el(s){let e=s.getAttribute("is");if(e&&Xa[e]){let t=s;for(t.removeAttribute("is"),s=t.ownerDocument.createElement(e),t.parentNode.replaceChild(s,t),s.appendChild(t);t.attributes.length;)s.setAttribute(t.attributes[0].name,t.attributes[0].value),t.removeAttribute(t.attributes[0].name)}return s}function Fn(s,e){let t=e.parentInfo&&Fn(s,e.parentInfo);if(!t)return s;for(let i=t.firstChild,r=0;i;i=i.nextSibling)if(e.parentIndex===r++)return i}function tl(s,e,t,i){i.id&&(e[i.id]=t)}function il(s,e,t){if(t.events&&t.events.length)for(let i,r=0,n=t.events;r<n.length&&(i=n[r]);r++)s._addMethodEventListenerToNode(e,i.name,i.value,s)}function sl(s,e,t,i){t.templateInfo&&(e._templateInfo=t.templateInfo,e._parentTemplateInfo=i)}function rl(s,e,t){return s=s._methodHost||s,function(i){s[t]?s[t](i,i.detail):console.warn("listener method `"+t+"` not defined")}}const nl=j(s=>{class e extends s{static _parseTemplate(i,r){if(!i._templateInfo){let n=i._templateInfo={};n.nodeInfoList=[],n.nestedTemplate=!!r,n.stripWhiteSpace=r&&r.stripWhiteSpace||i.hasAttribute("strip-whitespace"),this._parseTemplateContent(i,n,{parent:null})}return i._templateInfo}static _parseTemplateContent(i,r,n){return this._parseTemplateNode(i.content,r,n)}static _parseTemplateNode(i,r,n){let o=!1,a=i;return a.localName!="template"||a.hasAttribute("preserve-content")?a.localName==="slot"&&(r.hasInsertionPoint=!0):o=this._parseTemplateNestedTemplate(a,r,n)||o,Ka(a),a.firstChild&&this._parseTemplateChildNodes(a,r,n),a.hasAttributes&&a.hasAttributes()&&(o=this._parseTemplateNodeAttributes(a,r,n)||o),o||n.noted}static _parseTemplateChildNodes(i,r,n){if(i.localName!=="script"&&i.localName!=="style")for(let o,a=i.firstChild,l=0;a;a=o){if(a.localName=="template"&&(a=el(a)),o=a.nextSibling,a.nodeType===Node.TEXT_NODE){let h=o;for(;h&&h.nodeType===Node.TEXT_NODE;)a.textContent+=h.textContent,o=h.nextSibling,i.removeChild(h),h=o;if(r.stripWhiteSpace&&!a.textContent.trim()){i.removeChild(a);continue}}let d={parentIndex:l,parentInfo:n};this._parseTemplateNode(a,r,d)&&(d.infoIndex=r.nodeInfoList.push(d)-1),a.parentNode&&l++}}static _parseTemplateNestedTemplate(i,r,n){let o=i,a=this._parseTemplate(o,r);return(a.content=o.content.ownerDocument.createDocumentFragment()).appendChild(o.content),n.templateInfo=a,!0}static _parseTemplateNodeAttributes(i,r,n){let o=!1,a=Array.from(i.attributes);for(let l,d=a.length-1;l=a[d];d--)o=this._parseTemplateNodeAttribute(i,r,n,l.name,l.value)||o;return o}static _parseTemplateNodeAttribute(i,r,n,o,a){return o.slice(0,3)==="on-"?(i.removeAttribute(o),n.events=n.events||[],n.events.push({name:o.slice(3),value:a}),!0):o==="id"&&(n.id=a,!0)}static _contentForTemplate(i){let r=i._templateInfo;return r&&r.content||i.content}_stampTemplate(i,r){i&&!i.content&&window.HTMLTemplateElement&&HTMLTemplateElement.decorate&&HTMLTemplateElement.decorate(i);let n=(r=r||this.constructor._parseTemplate(i)).nodeInfoList,o=r.content||i.content,a=document.importNode(o,!0);a.__noInsertionPoint=!r.hasInsertionPoint;let l=a.nodeList=new Array(n.length);a.$={};for(let d,h=0,c=n.length;h<c&&(d=n[h]);h++){let _=l[h]=Fn(a,d);tl(this,a.$,_,d),sl(this,_,d,r),il(this,_,d)}return a}_addMethodEventListenerToNode(i,r,n,o){let a=rl(o=o||i,r,n);return this._addEventListenerToNode(i,r,a),a}_addEventListenerToNode(i,r,n){i.addEventListener(r,n)}_removeEventListenerFromNode(i,r,n){i.removeEventListener(r,n)}}return e});let at=0;const lt=[],S={COMPUTE:"__computeEffects",REFLECT:"__reflectEffects",NOTIFY:"__notifyEffects",PROPAGATE:"__propagateEffects",OBSERVE:"__observeEffects",READ_ONLY:"__readOnly"},Nn="__computeInfo",ol=/[A-Z]/;function mi(s,e,t){let i=s[e];if(i){if(!s.hasOwnProperty(e)&&(i=s[e]=Object.create(s[e]),t))for(let r in i){let n=i[r],o=i[r]=Array(n.length);for(let a=0;a<n.length;a++)o[a]=n[a]}}else i=s[e]={};return i}function qe(s,e,t,i,r,n){if(e){let o=!1;const a=at++;for(let l in t){let d=e[r?te(l):l];if(d)for(let h,c=0,_=d.length;c<_&&(h=d[c]);c++)h.info&&h.info.lastRun===a||r&&!hs(l,h.trigger)||(h.info&&(h.info.lastRun=a),h.fn(s,l,t,i,h.info,r,n),o=!0)}return o}return!1}function al(s,e,t,i,r,n,o,a){let l=!1,d=e[o?te(i):i];if(d)for(let h,c=0,_=d.length;c<_&&(h=d[c]);c++)h.info&&h.info.lastRun===t||o&&!hs(i,h.trigger)||(h.info&&(h.info.lastRun=t),h.fn(s,i,r,n,h.info,o,a),l=!0);return l}function hs(s,e){if(e){let t=e.name;return t==s||!(!e.structured||!An(t,s))||!(!e.wildcard||!nt(t,s))}return!0}function lr(s,e,t,i,r){let n=typeof r.method=="string"?s[r.method]:r.method,o=r.property;n?n.call(s,s.__data[o],i[o]):r.dynamicFn||console.warn("observer method `"+r.method+"` not defined")}function ll(s,e,t,i,r){let n,o,a=s[S.NOTIFY],l=at++;for(let d in e)e[d]&&(a&&al(s,a,l,d,t,i,r)||r&&dl(s,d,t))&&(n=!0);n&&(o=s.__dataHost)&&o._invalidateProperties&&o._invalidateProperties()}function dl(s,e,t){let i=te(e);return i!==e?(zn(s,Jt(i)+"-changed",t[e],e),!0):!1}function zn(s,e,t,i){let r={value:t,queueProperty:!0};i&&(r.path=i),f(s).dispatchEvent(new CustomEvent(e,{detail:r}))}function hl(s,e,t,i,r,n){let o=(n?te(e):e)!=e?e:null,a=o?L(s,o):s.__data[e];o&&a===void 0&&(a=t[e]),zn(s,r.eventName,a,o)}function cl(s,e,t,i,r){let n,o=s.detail,a=o&&o.path;a?(i=ot(t,i,a),n=o&&o.value):n=s.currentTarget[t],n=r?!n:n,e[S.READ_ONLY]&&e[S.READ_ONLY][i]||!e._setPendingPropertyOrPath(i,n,!0,!!a)||o&&o.queueProperty||e._invalidateProperties()}function ul(s,e,t,i,r){let n=s.__data[e];zt&&(n=zt(n,r.attrName,"attribute",s)),s._propertyToAttribute(e,r.attrName,n)}function pl(s,e,t,i){let r=s[S.COMPUTE];if(r)if(ha){at++;const n=ml(s),o=[];for(let l in e)dr(l,r,o,n,i);let a;for(;a=o.shift();)Mn(s,"",e,t,a)&&dr(a.methodInfo,r,o,n,i);Object.assign(t,s.__dataOld),Object.assign(e,s.__dataPending),s.__dataPending=null}else{let n=e;for(;qe(s,r,n,t,i);)Object.assign(t,s.__dataOld),Object.assign(e,s.__dataPending),n=s.__dataPending,s.__dataPending=null}}const _l=(s,e,t)=>{let i=0,r=e.length-1,n=-1;for(;i<=r;){const o=i+r>>1,a=t.get(e[o].methodInfo)-t.get(s.methodInfo);if(a<0)i=o+1;else{if(!(a>0)){n=o;break}r=o-1}}n<0&&(n=r+1),e.splice(n,0,s)},dr=(s,e,t,i,r)=>{const n=e[r?te(s):s];if(n)for(let o=0;o<n.length;o++){const a=n[o];a.info.lastRun===at||r&&!hs(s,a.trigger)||(a.info.lastRun=at,_l(a.info,t,i))}};function ml(s){let e=s.constructor.__orderedComputedDeps;if(!e){e=new Map;const t=s[S.COMPUTE];let i,{counts:r,ready:n,total:o}=fl(s);for(;i=n.shift();){e.set(i,e.size);const a=t[i];a&&a.forEach(l=>{const d=l.info.methodInfo;--o,--r[d]==0&&n.push(d)})}o!==0&&console.warn(`Computed graph for ${s.localName} incomplete; circular?`),s.constructor.__orderedComputedDeps=e}return e}function fl(s){const e=s[Nn],t={},i=s[S.COMPUTE],r=[];let n=0;for(let o in e){const a=e[o];n+=t[o]=a.args.filter(l=>!l.literal).length+(a.dynamicFn?1:0)}for(let o in i)e[o]||r.push(o);return{counts:t,ready:r,total:n}}function Mn(s,e,t,i,r){let n=Di(s,e,t,i,r);if(n===lt)return!1;let o=r.methodInfo;return s.__dataHasAccessor&&s.__dataHasAccessor[o]?s._setPendingProperty(o,n,!0):(s[o]=n,!1)}function gl(s,e,t){let i=s.__dataLinkedPaths;if(i){let r;for(let n in i){let o=i[n];nt(n,e)?(r=ot(n,o,e),s._setPendingPropertyOrPath(r,t,!0,!0)):nt(o,e)&&(r=ot(o,n,e),s._setPendingPropertyOrPath(r,t,!0,!0))}}}function fi(s,e,t,i,r,n,o){t.bindings=t.bindings||[];let a={kind:i,target:r,parts:n,literal:o,isCompound:n.length!==1};if(t.bindings.push(a),Cl(a)){let{event:d,negate:h}=a.parts[0];a.listenerEvent=d||Jt(r)+"-changed",a.listenerNegate=h}let l=e.nodeInfoList.length;for(let d=0;d<a.parts.length;d++){let h=a.parts[d];h.compoundIndex=d,yl(s,e,a,h,l)}}function yl(s,e,t,i,r){if(!i.literal)if(t.kind==="attribute"&&t.target[0]==="-")console.warn("Cannot set attribute "+t.target+' because "-" is not a valid attribute starting character');else{let n=i.dependencies,o={index:r,binding:t,part:i,evaluator:s};for(let a=0;a<n.length;a++){let l=n[a];typeof l=="string"&&(l=Dn(l),l.wildcard=!0),s._addTemplatePropertyEffect(e,l.rootProperty,{fn:bl,info:o,trigger:l})}}}function bl(s,e,t,i,r,n,o){let a=o[r.index],l=r.binding,d=r.part;if(n&&d.source&&e.length>d.source.length&&l.kind=="property"&&!l.isCompound&&a.__isPropertyEffectsClient&&a.__dataHasAccessor&&a.__dataHasAccessor[l.target]){let h=t[e];e=ot(d.source,l.target,e),a._setPendingPropertyOrPath(e,h,!1,!0)&&s._enqueueClient(a)}else{let h=r.evaluator._evaluateBinding(s,d,e,t,i,n);h!==lt&&vl(s,a,l,d,h)}}function vl(s,e,t,i,r){if(r=wl(e,r,t,i),zt&&(r=zt(r,t.target,t.kind,e)),t.kind=="attribute")s._valueToNodeAttribute(e,r,t.target);else{let n=t.target;e.__isPropertyEffectsClient&&e.__dataHasAccessor&&e.__dataHasAccessor[n]?e[S.READ_ONLY]&&e[S.READ_ONLY][n]||e._setPendingProperty(n,r)&&s._enqueueClient(e):s._setUnmanagedPropertyToNode(e,n,r)}}function wl(s,e,t,i){if(t.isCompound){let r=s.__dataCompoundStorage[t.target];r[i.compoundIndex]=e,e=r.join("")}return t.kind!=="attribute"&&(t.target!=="textContent"&&(t.target!=="value"||s.localName!=="input"&&s.localName!=="textarea")||(e=e??"")),e}function Cl(s){return!!s.target&&s.kind!="attribute"&&s.kind!="text"&&!s.isCompound&&s.parts[0].mode==="{"}function Al(s,e){let{nodeList:t,nodeInfoList:i}=e;if(i.length)for(let r=0;r<i.length;r++){let n=i[r],o=t[r],a=n.bindings;if(a)for(let l=0;l<a.length;l++){let d=a[l];Sl(o,d),xl(o,s,d)}o.__dataHost=s}}function Sl(s,e){if(e.isCompound){let t=s.__dataCompoundStorage||(s.__dataCompoundStorage={}),i=e.parts,r=new Array(i.length);for(let o=0;o<i.length;o++)r[o]=i[o].literal;let n=e.target;t[n]=r,e.literal&&e.kind=="property"&&(n==="className"&&(s=f(s)),s[n]=e.literal)}}function xl(s,e,t){if(t.listenerEvent){let i=t.parts[0];s.addEventListener(t.listenerEvent,function(r){cl(r,e,t.target,i.source,i.negate)})}}function hr(s,e,t,i,r,n){n=e.static||n&&(typeof n!="object"||n[e.methodName]);let o={methodName:e.methodName,args:e.args,methodInfo:r,dynamicFn:n};for(let a,l=0;l<e.args.length&&(a=e.args[l]);l++)a.literal||s._addPropertyEffect(a.rootProperty,t,{fn:i,info:o,trigger:a});return n&&s._addPropertyEffect(e.methodName,t,{fn:i,info:o}),o}function Di(s,e,t,i,r){let n=s._methodHost||s,o=n[r.methodName];if(o){let a=s._marshalArgs(r.args,e,t);return a===lt?lt:o.apply(n,a)}r.dynamicFn||console.warn("method `"+r.methodName+"` not defined")}const El=[],kn="(?:[a-zA-Z_$][\\w.:$\\-*]*)",cr="(?:("+kn+`|(?:[-+]?[0-9]*\\.?[0-9]+(?:[eE][-+]?[0-9]+)?)|(?:(?:'(?:[^'\\\\]|\\\\.)*')|(?:"(?:[^"\\\\]|\\\\.)*")))\\s*)`,ur=new RegExp("(\\[\\[|{{)\\s*(?:(!)\\s*)?"+("("+kn+"\\s*"+("(?:\\(\\s*(?:"+("(?:"+cr+"(?:,\\s*"+cr+")*)")+"?)\\)\\s*)")+"?)")+"(?:]]|}})","g");function pr(s){let e="";for(let t=0;t<s.length;t++)e+=s[t].literal||"";return e}function gi(s){let e=s.match(/([^\s]+?)\(([\s\S]*)\)/);if(e){let t={methodName:e[1],static:!0,args:El};return e[2].trim()?Il(e[2].replace(/\\,/g,"&comma;").split(","),t):t}return null}function Il(s,e){return e.args=s.map(function(t){let i=Dn(t);return i.literal||(e.static=!1),i},this),e}function Dn(s){let e=s.trim().replace(/&comma;/g,",").replace(/\\(.)/g,"$1"),t={name:e,value:"",literal:!1},i=e[0];switch(i==="-"&&(i=e[1]),i>="0"&&i<="9"&&(i="#"),i){case"'":case'"':t.value=e.slice(1,-1),t.literal=!0;break;case"#":t.value=Number(e),t.literal=!0}return t.literal||(t.rootProperty=te(e),t.structured=Mi(e),t.structured&&(t.wildcard=e.slice(-2)==".*",t.wildcard&&(t.name=e.slice(0,-2)))),t}function _r(s,e,t){let i=L(s,t);return i===void 0&&(i=e[t]),i}function Ln(s,e,t,i){const r={indexSplices:i};Pi&&!s._overrideLegacyUndefined&&(e.splices=r),s.notifyPath(t+".splices",r),s.notifyPath(t+".length",e.length),Pi&&!s._overrideLegacyUndefined&&(r.indexSplices=[])}function Le(s,e,t,i,r,n){Ln(s,e,t,[{index:i,addedCount:r,removed:n,object:e,type:"splice"}])}function Pl(s){return s[0].toUpperCase()+s.substring(1)}const Xt=j(s=>{const e=nl(Rn(s));class t extends e{constructor(){super(),this.__isPropertyEffectsClient=!0,this.__dataClientsReady,this.__dataPendingClients,this.__dataToNotify,this.__dataLinkedPaths,this.__dataHasPaths,this.__dataCompoundStorage,this.__dataHost,this.__dataTemp,this.__dataClientsInitialized,this.__data,this.__dataPending,this.__dataOld,this.__computeEffects,this.__computeInfo,this.__reflectEffects,this.__notifyEffects,this.__propagateEffects,this.__observeEffects,this.__readOnly,this.__templateInfo,this._overrideLegacyUndefined}get PROPERTY_EFFECT_TYPES(){return S}_initializeProperties(){super._initializeProperties(),this._registerHost(),this.__dataClientsReady=!1,this.__dataPendingClients=null,this.__dataToNotify=null,this.__dataLinkedPaths=null,this.__dataHasPaths=!1,this.__dataCompoundStorage=this.__dataCompoundStorage||null,this.__dataHost=this.__dataHost||null,this.__dataTemp={},this.__dataClientsInitialized=!1}_registerHost(){if(He.length){let r=He[He.length-1];r._enqueueClient(this),this.__dataHost=r}}_initializeProtoProperties(r){this.__data=Object.create(r),this.__dataPending=Object.create(r),this.__dataOld={}}_initializeInstanceProperties(r){let n=this[S.READ_ONLY];for(let o in r)n&&n[o]||(this.__dataPending=this.__dataPending||{},this.__dataOld=this.__dataOld||{},this.__data[o]=this.__dataPending[o]=r[o])}_addPropertyEffect(r,n,o){this._createPropertyAccessor(r,n==S.READ_ONLY);let a=mi(this,n,!0)[r];a||(a=this[n][r]=[]),a.push(o)}_removePropertyEffect(r,n,o){let a=mi(this,n,!0)[r],l=a.indexOf(o);l>=0&&a.splice(l,1)}_hasPropertyEffect(r,n){let o=this[n];return!!(o&&o[r])}_hasReadOnlyEffect(r){return this._hasPropertyEffect(r,S.READ_ONLY)}_hasNotifyEffect(r){return this._hasPropertyEffect(r,S.NOTIFY)}_hasReflectEffect(r){return this._hasPropertyEffect(r,S.REFLECT)}_hasComputedEffect(r){return this._hasPropertyEffect(r,S.COMPUTE)}_setPendingPropertyOrPath(r,n,o,a){if(a||te(Array.isArray(r)?r[0]:r)!==r){if(!a){let l=L(this,r);if(!(r=nr(this,r,n))||!super._shouldPropertyChange(r,n,l))return!1}if(this.__dataHasPaths=!0,this._setPendingProperty(r,n,o))return gl(this,r,n),!0}else{if(this.__dataHasAccessor&&this.__dataHasAccessor[r])return this._setPendingProperty(r,n,o);this[r]=n}return!1}_setUnmanagedPropertyToNode(r,n,o){o===r[n]&&typeof o!="object"||(n==="className"&&(r=f(r)),r[n]=o)}_setPendingProperty(r,n,o){let a=this.__dataHasPaths&&Mi(r),l=a?this.__dataTemp:this.__data;return!!this._shouldPropertyChange(r,n,l[r])&&(this.__dataPending||(this.__dataPending={},this.__dataOld={}),r in this.__dataOld||(this.__dataOld[r]=this.__data[r]),a?this.__dataTemp[r]=n:this.__data[r]=n,this.__dataPending[r]=n,(a||this[S.NOTIFY]&&this[S.NOTIFY][r])&&(this.__dataToNotify=this.__dataToNotify||{},this.__dataToNotify[r]=o),!0)}_setProperty(r,n){this._setPendingProperty(r,n,!0)&&this._invalidateProperties()}_invalidateProperties(){this.__dataReady&&this._flushProperties()}_enqueueClient(r){this.__dataPendingClients=this.__dataPendingClients||[],r!==this&&this.__dataPendingClients.push(r)}_flushClients(){this.__dataClientsReady?this.__enableOrFlushClients():(this.__dataClientsReady=!0,this._readyClients(),this.__dataReady=!0)}__enableOrFlushClients(){let r=this.__dataPendingClients;if(r){this.__dataPendingClients=null;for(let n=0;n<r.length;n++){let o=r[n];o.__dataEnabled?o.__dataPending&&o._flushProperties():o._enableProperties()}}}_readyClients(){this.__enableOrFlushClients()}setProperties(r,n){for(let o in r)!n&&this[S.READ_ONLY]&&this[S.READ_ONLY][o]||this._setPendingPropertyOrPath(o,r[o],!0);this._invalidateProperties()}ready(){this._flushProperties(),this.__dataClientsReady||this._flushClients(),this.__dataPending&&this._flushProperties()}_propertiesChanged(r,n,o){let a,l=this.__dataHasPaths;this.__dataHasPaths=!1,pl(this,n,o,l),a=this.__dataToNotify,this.__dataToNotify=null,this._propagatePropertyChanges(n,o,l),this._flushClients(),qe(this,this[S.REFLECT],n,o,l),qe(this,this[S.OBSERVE],n,o,l),a&&ll(this,a,n,o,l),this.__dataCounter==1&&(this.__dataTemp={})}_propagatePropertyChanges(r,n,o){this[S.PROPAGATE]&&qe(this,this[S.PROPAGATE],r,n,o),this.__templateInfo&&this._runEffectsForTemplate(this.__templateInfo,r,n,o)}_runEffectsForTemplate(r,n,o,a){const l=(d,h)=>{qe(this,r.propertyEffects,d,o,h,r.nodeList);for(let c=r.firstChild;c;c=c.nextSibling)this._runEffectsForTemplate(c,d,o,h)};r.runEffects?r.runEffects(l,n,a):l(n,a)}linkPaths(r,n){r=Ue(r),n=Ue(n),this.__dataLinkedPaths=this.__dataLinkedPaths||{},this.__dataLinkedPaths[r]=n}unlinkPaths(r){r=Ue(r),this.__dataLinkedPaths&&delete this.__dataLinkedPaths[r]}notifySplices(r,n){let o={path:""};Ln(this,L(this,r,o),o.path,n)}get(r,n){return L(n||this,r)}set(r,n,o){o?nr(o,r,n):this[S.READ_ONLY]&&this[S.READ_ONLY][r]||this._setPendingPropertyOrPath(r,n,!0)&&this._invalidateProperties()}push(r,...n){let o={path:""},a=L(this,r,o),l=a.length,d=a.push(...n);return n.length&&Le(this,a,o.path,l,n.length,[]),d}pop(r){let n={path:""},o=L(this,r,n),a=!!o.length,l=o.pop();return a&&Le(this,o,n.path,o.length,0,[l]),l}splice(r,n,o,...a){let l,d={path:""},h=L(this,r,d);return n<0?n=h.length-Math.floor(-n):n&&(n=Math.floor(n)),l=arguments.length===2?h.splice(n):h.splice(n,o,...a),(a.length||l.length)&&Le(this,h,d.path,n,a.length,l),l}shift(r){let n={path:""},o=L(this,r,n),a=!!o.length,l=o.shift();return a&&Le(this,o,n.path,0,0,[l]),l}unshift(r,...n){let o={path:""},a=L(this,r,o),l=a.unshift(...n);return n.length&&Le(this,a,o.path,0,n.length,[]),l}notifyPath(r,n){let o;if(arguments.length==1){let a={path:""};n=L(this,r,a),o=a.path}else o=Array.isArray(r)?Ue(r):r;this._setPendingPropertyOrPath(o,n,!0,!0)&&this._invalidateProperties()}_createReadOnlyProperty(r,n){this._addPropertyEffect(r,S.READ_ONLY),n&&(this["_set"+Pl(r)]=function(o){this._setProperty(r,o)})}_createPropertyObserver(r,n,o){let a={property:r,method:n,dynamicFn:!!o};this._addPropertyEffect(r,S.OBSERVE,{fn:lr,info:a,trigger:{name:r}}),o&&this._addPropertyEffect(n,S.OBSERVE,{fn:lr,info:a,trigger:{name:n}})}_createMethodObserver(r,n){let o=gi(r);if(!o)throw new Error("Malformed observer expression '"+r+"'");hr(this,o,S.OBSERVE,Di,null,n)}_createNotifyingProperty(r){this._addPropertyEffect(r,S.NOTIFY,{fn:hl,info:{eventName:Jt(r)+"-changed",property:r}})}_createReflectedProperty(r){let n=this.constructor.attributeNameForProperty(r);n[0]==="-"?console.warn("Property "+r+" cannot be reflected to attribute "+n+' because "-" is not a valid starting attribute name. Use a lowercase first letter for the property instead.'):this._addPropertyEffect(r,S.REFLECT,{fn:ul,info:{attrName:n}})}_createComputedProperty(r,n,o){let a=gi(n);if(!a)throw new Error("Malformed computed expression '"+n+"'");const l=hr(this,a,S.COMPUTE,Mn,r,o);mi(this,Nn)[r]=l}_marshalArgs(r,n,o){const a=this.__data,l=[];for(let d=0,h=r.length;d<h;d++){let{name:c,structured:_,wildcard:g,value:m,literal:y}=r[d];if(!y)if(g){const w=nt(c,n),b=_r(a,o,w?n:c);m={path:w?n:c,value:b,base:w?L(a,c):b}}else m=_?_r(a,o,c):a[c];if(Pi&&!this._overrideLegacyUndefined&&m===void 0&&r.length>1)return lt;l[d]=m}return l}static addPropertyEffect(r,n,o){this.prototype._addPropertyEffect(r,n,o)}static createPropertyObserver(r,n,o){this.prototype._createPropertyObserver(r,n,o)}static createMethodObserver(r,n){this.prototype._createMethodObserver(r,n)}static createNotifyingProperty(r){this.prototype._createNotifyingProperty(r)}static createReadOnlyProperty(r,n){this.prototype._createReadOnlyProperty(r,n)}static createReflectedProperty(r){this.prototype._createReflectedProperty(r)}static createComputedProperty(r,n,o){this.prototype._createComputedProperty(r,n,o)}static bindTemplate(r){return this.prototype._bindTemplate(r)}_bindTemplate(r,n){let o=this.constructor._parseTemplate(r),a=this.__preBoundTemplateInfo==o;if(!a)for(let l in o.propertyEffects)this._createPropertyAccessor(l);if(n)if(o=Object.create(o),o.wasPreBound=a,this.__templateInfo){const l=r._parentTemplateInfo||this.__templateInfo,d=l.lastChild;o.parent=l,l.lastChild=o,o.previousSibling=d,d?d.nextSibling=o:l.firstChild=o}else this.__templateInfo=o;else this.__preBoundTemplateInfo=o;return o}static _addTemplatePropertyEffect(r,n,o){(r.hostProps=r.hostProps||{})[n]=!0;let a=r.propertyEffects=r.propertyEffects||{};(a[n]=a[n]||[]).push(o)}_stampTemplate(r,n){n=n||this._bindTemplate(r,!0),He.push(this);let o=super._stampTemplate(r,n);if(He.pop(),n.nodeList=o.nodeList,!n.wasPreBound){let a=n.childNodes=[];for(let l=o.firstChild;l;l=l.nextSibling)a.push(l)}return o.templateInfo=n,Al(this,n),this.__dataClientsReady&&(this._runEffectsForTemplate(n,this.__data,null,!1),this._flushClients()),o}_removeBoundDom(r){const n=r.templateInfo,{previousSibling:o,nextSibling:a,parent:l}=n;o?o.nextSibling=a:l&&(l.firstChild=a),a?a.previousSibling=o:l&&(l.lastChild=o),n.nextSibling=n.previousSibling=null;let d=n.childNodes;for(let h=0;h<d.length;h++){let c=d[h];f(f(c).parentNode).removeChild(c)}}static _parseTemplateNode(r,n,o){let a=e._parseTemplateNode.call(this,r,n,o);if(r.nodeType===Node.TEXT_NODE){let l=this._parseBindings(r.textContent,n);l&&(r.textContent=pr(l)||" ",fi(this,n,o,"text","textContent",l),a=!0)}return a}static _parseTemplateNodeAttribute(r,n,o,a,l){let d=this._parseBindings(l,n);if(d){let h=a,c="property";ol.test(a)?c="attribute":a[a.length-1]=="$"&&(a=a.slice(0,-1),c="attribute");let _=pr(d);return _&&c=="attribute"&&(a=="class"&&r.hasAttribute("class")&&(_+=" "+r.getAttribute(a)),r.setAttribute(a,_)),c=="attribute"&&h=="disable-upgrade$"&&r.setAttribute(a,""),r.localName==="input"&&h==="value"&&r.setAttribute(h,""),r.removeAttribute(h),c==="property"&&(a=xn(a)),fi(this,n,o,c,a,d,_),!0}return e._parseTemplateNodeAttribute.call(this,r,n,o,a,l)}static _parseTemplateNestedTemplate(r,n,o){let a=e._parseTemplateNestedTemplate.call(this,r,n,o);const l=r.parentNode,d=o.templateInfo,h=l.localName==="dom-if",c=l.localName==="dom-repeat";Hs&&(h||c)&&(l.removeChild(r),(o=o.parentInfo).templateInfo=d,o.noted=!0,a=!1);let _=d.hostProps;if(pn&&h)_&&(n.hostProps=Object.assign(n.hostProps||{},_),Hs||(o.parentInfo.noted=!0));else{let g="{";for(let m in _)fi(this,n,o,"property","_host_"+m,[{mode:g,source:m,dependencies:[m],hostProp:!0}])}return a}static _parseBindings(r,n){let o,a=[],l=0;for(;(o=ur.exec(r))!==null;){o.index>l&&a.push({literal:r.slice(l,o.index)});let d=o[1][0],h=!!o[2],c=o[3].trim(),_=!1,g="",m=-1;d=="{"&&(m=c.indexOf("::"))>0&&(g=c.substring(m+2),c=c.substring(0,m),_=!0);let y=gi(c),w=[];if(y){let{args:b,methodName:E}=y;for(let q=0;q<b.length;q++){let H=b[q];H.literal||w.push(H)}let T=n.dynamicFns;(T&&T[E]||y.static)&&(w.push(E),y.dynamicFn=!0)}else w.push(c);a.push({source:c,mode:d,negate:h,customEvent:_,signature:y,dependencies:w,event:g}),l=ur.lastIndex}if(l&&l<r.length){let d=r.substring(l);d&&a.push({literal:d})}return a.length?a:null}static _evaluateBinding(r,n,o,a,l,d){let h;return h=n.signature?Di(r,o,a,l,n.signature):o!=n.source?L(r,n.source):d&&Mi(o)?L(r,o):r.__data[o],n.negate&&(h=!h),h}}return t}),He=[];function Tl(s){const e={};for(let t in s){const i=s[t];e[t]=typeof i=="function"?{type:i}:i}return e}const Ol=j(s=>{const e=Tn(s);function t(n){const o=Object.getPrototypeOf(n);return o.prototype instanceof r?o:null}function i(n){if(!n.hasOwnProperty(JSCompiler_renameProperty("__ownProperties",n))){let o=null;if(n.hasOwnProperty(JSCompiler_renameProperty("properties",n))){const a=n.properties;a&&(o=Tl(a))}n.__ownProperties=o}return n.__ownProperties}class r extends e{static get observedAttributes(){if(!this.hasOwnProperty(JSCompiler_renameProperty("__observedAttributes",this))){this.prototype;const o=this._properties;this.__observedAttributes=o?Object.keys(o).map(a=>this.prototype._addPropertyToAttributeMap(a)):[]}return this.__observedAttributes}static finalize(){if(!this.hasOwnProperty(JSCompiler_renameProperty("__finalized",this))){const o=t(this);o&&o.finalize(),this.__finalized=!0,this._finalizeClass()}}static _finalizeClass(){const o=i(this);o&&this.createProperties(o)}static get _properties(){if(!this.hasOwnProperty(JSCompiler_renameProperty("__properties",this))){const o=t(this);this.__properties=Object.assign({},o&&o._properties,i(this))}return this.__properties}static typeForProperty(o){const a=this._properties[o];return a&&a.type}_initializeProperties(){this.constructor.finalize(),super._initializeProperties()}connectedCallback(){super.connectedCallback&&super.connectedCallback(),this._enableProperties()}disconnectedCallback(){super.disconnectedCallback&&super.disconnectedCallback()}}return r}),Rl="3.4.1",Li=window.ShadyCSS&&window.ShadyCSS.cssBuild,Qt=j(s=>{const e=Ol(Xt(s));function t(l){if(!l.hasOwnProperty(JSCompiler_renameProperty("__propertyDefaults",l))){l.__propertyDefaults=null;let d=l._properties;for(let h in d){let c=d[h];"value"in c&&(l.__propertyDefaults=l.__propertyDefaults||{},l.__propertyDefaults[h]=c)}}return l.__propertyDefaults}function i(l){return l.hasOwnProperty(JSCompiler_renameProperty("__ownObservers",l))||(l.__ownObservers=l.hasOwnProperty(JSCompiler_renameProperty("observers",l))?l.observers:null),l.__ownObservers}function r(l,d,h,c){h.computed&&(h.readOnly=!0),h.computed&&(l._hasReadOnlyEffect(d)?console.warn(`Cannot redefine computed property '${d}'.`):l._createComputedProperty(d,h.computed,c)),h.readOnly&&!l._hasReadOnlyEffect(d)?l._createReadOnlyProperty(d,!h.computed):h.readOnly===!1&&l._hasReadOnlyEffect(d)&&console.warn(`Cannot make readOnly property '${d}' non-readOnly.`),h.reflectToAttribute&&!l._hasReflectEffect(d)?l._createReflectedProperty(d):h.reflectToAttribute===!1&&l._hasReflectEffect(d)&&console.warn(`Cannot make reflected property '${d}' non-reflected.`),h.notify&&!l._hasNotifyEffect(d)?l._createNotifyingProperty(d):h.notify===!1&&l._hasNotifyEffect(d)&&console.warn(`Cannot make notify property '${d}' non-notify.`),h.observer&&l._createPropertyObserver(d,h.observer,c[h.observer]),l._addPropertyToAttributeMap(d)}function n(l,d,h,c){if(!Li){const _=d.content.querySelectorAll("style"),g=rs(d),m=ga(h),y=d.content.firstElementChild;for(let b=0;b<m.length;b++){let E=m[b];E.textContent=l._processStyleText(E.textContent,c),d.content.insertBefore(E,y)}let w=0;for(let b=0;b<g.length;b++){let E=g[b],T=_[w];T!==E?(E=E.cloneNode(!0),T.parentNode.insertBefore(E,T)):w++,E.textContent=l._processStyleText(E.textContent,c)}}if(window.ShadyCSS&&window.ShadyCSS.prepareTemplate(d,h),ca&&Li&&na){const _=d.content.querySelectorAll("style");if(_){let g="";Array.from(_).forEach(m=>{g+=m.textContent,m.parentNode.removeChild(m)}),l._styleSheet=new CSSStyleSheet,l._styleSheet.replaceSync(g)}}}function o(l){let d=null;if(l&&(!Ne||la)&&(d=ze.import(l,"template"),Ne&&!d))throw new Error(`strictTemplatePolicy: expecting dom-module or null template for ${l}`);return d}class a extends e{static get polymerElementVersion(){return Rl}static _finalizeClass(){e._finalizeClass.call(this);const d=i(this);d&&this.createObservers(d,this._properties),this._prepareTemplate()}static _prepareTemplate(){let d=this.template;d&&(typeof d=="string"?(console.error("template getter must return HTMLTemplateElement"),d=null):tt||(d=d.cloneNode(!0))),this.prototype._template=d}static createProperties(d){for(let h in d)r(this.prototype,h,d[h],d)}static createObservers(d,h){const c=this.prototype;for(let _=0;_<d.length;_++)c._createMethodObserver(d[_],h)}static get template(){if(!this.hasOwnProperty(JSCompiler_renameProperty("_template",this))){const d=this.prototype.hasOwnProperty(JSCompiler_renameProperty("_template",this.prototype))?this.prototype._template:void 0;this._template=d!==void 0?d:this.hasOwnProperty(JSCompiler_renameProperty("is",this))&&o(this.is)||Object.getPrototypeOf(this.prototype).constructor.template}return this._template}static set template(d){this._template=d}static get importPath(){if(!this.hasOwnProperty(JSCompiler_renameProperty("_importPath",this))){const d=this.importMeta;if(d)this._importPath=es(d.url);else{const h=ze.import(this.is);this._importPath=h&&h.assetpath||Object.getPrototypeOf(this.prototype).constructor.importPath}}return this._importPath}constructor(){super(),this._template,this._importPath,this.rootPath,this.importPath,this.root,this.$}_initializeProperties(){this.constructor.finalize(),this.constructor._finalizeTemplate(this.localName),super._initializeProperties(),this.rootPath=oa,this.importPath=this.constructor.importPath;let d=t(this.constructor);if(d)for(let h in d){let c=d[h];if(this._canApplyPropertyDefault(h)){let _=typeof c.value=="function"?c.value.call(this):c.value;this._hasAccessor(h)?this._setPendingProperty(h,_,!0):this[h]=_}}}_canApplyPropertyDefault(d){return!this.hasOwnProperty(d)}static _processStyleText(d,h){return Ki(d,h)}static _finalizeTemplate(d){const h=this.prototype._template;if(h&&!h.__polymerFinalized){h.__polymerFinalized=!0;const c=this.importPath;n(this,h,d,c?Ze(c):""),this.prototype._bindTemplate(h)}}connectedCallback(){window.ShadyCSS&&this._template&&window.ShadyCSS.styleElement(this),super.connectedCallback()}ready(){this._template&&(this.root=this._stampTemplate(this._template),this.$=this.root.$),super.ready()}_readyClients(){this._template&&(this.root=this._attachDom(this.root)),super._readyClients()}_attachDom(d){const h=f(this);if(h.attachShadow)return d?(h.shadowRoot||(h.attachShadow({mode:"open",shadyUpgradeFragment:d}),h.shadowRoot.appendChild(d),this.constructor._styleSheet&&(h.shadowRoot.adoptedStyleSheets=[this.constructor._styleSheet])),da&&window.ShadyDOM&&window.ShadyDOM.flushInitial(h.shadowRoot),h.shadowRoot):null;throw new Error("ShadowDOM not available. PolymerElement can create dom as children instead of in ShadowDOM by setting `this.root = this;` before `ready`.")}updateStyles(d){window.ShadyCSS&&window.ShadyCSS.styleSubtree(this,d)}resolveUrl(d,h){return!h&&this.importPath&&(h=Ze(this.importPath)),Ze(d,h)}static _parseTemplateContent(d,h,c){return h.dynamicFns=h.dynamicFns||this._properties,e._parseTemplateContent.call(this,d,h,c)}static _addTemplatePropertyEffect(d,h,c){return!un||h in this._properties||c.info.part.signature&&c.info.part.signature.static||c.info.part.hostProp||d.nestedTemplate||console.warn(`Property '${h}' used in template but not declared in 'properties'; attribute will not be observed.`),e._addTemplatePropertyEffect.call(this,d,h,c)}}return a});class Hn{constructor(e){this.value=e.toString()}toString(){return this.value}}function Fl(s){if(s instanceof Hn)return s.value;throw new Error(`non-literal value passed to Polymer's htmlLiteral function: ${s}`)}function Nl(s){if(s instanceof HTMLTemplateElement)return s.innerHTML;if(s instanceof Hn)return Fl(s);throw new Error(`non-template value passed to Polymer's html function: ${s}`)}const ct=function(s,...e){const t=document.createElement("template");return t.innerHTML=e.reduce((i,r,n)=>i+Nl(r)+s[n+1],s[0]),t},ie=Qt(HTMLElement);class F{constructor(){this._asyncModule=null,this._callback=null,this._timer=null}setConfig(e,t){this._asyncModule=e,this._callback=t,this._timer=this._asyncModule.run(()=>{this._timer=null,dt.delete(this),this._callback()})}cancel(){this.isActive()&&(this._cancelAsync(),dt.delete(this))}_cancelAsync(){this.isActive()&&(this._asyncModule.cancel(this._timer),this._timer=null)}flush(){this.isActive()&&(this.cancel(),this._callback())}isActive(){return this._timer!=null}static debounce(e,t,i){return e instanceof F?e._cancelAsync():e=new F,e.setConfig(t,i),e}}let dt=new Set;const Kt=function(s){dt.add(s)},zl=function(){const s=!!dt.size;return dt.forEach(e=>{try{e.flush()}catch(t){setTimeout(()=>{throw t})}}),s};let cs=typeof document.head.style.touchAction=="string",Dt="__polymerGestures",Pt="__polymerGesturesHandled",Hi="__polymerGesturesTouchAction",mr=25,fr=5,Ml=2,kl=2500,$n=["mousedown","mousemove","mouseup","click"],Dl=[0,1,4,2],Ll=function(){try{return new MouseEvent("test",{buttons:1}).buttons===1}catch{return!1}}();function us(s){return $n.indexOf(s)>-1}let ps=!1;function Bn(s){if(!us(s)&&s!=="touchend")return cs&&ps&&aa?{passive:!0}:void 0}(function(){try{let s=Object.defineProperty({},"passive",{get(){ps=!0}});window.addEventListener("test",null,s),window.removeEventListener("test",null,s)}catch{}})();let Vn=navigator.userAgent.match(/iP(?:[oa]d|hone)|Android/);const $i=[],Hl={button:!0,input:!0,keygen:!0,meter:!0,output:!0,textarea:!0,progress:!0,select:!0},$l={button:!0,command:!0,fieldset:!0,input:!0,keygen:!0,optgroup:!0,option:!0,select:!0,textarea:!0};function Bl(s){return Hl[s.localName]||!1}function Vl(s){let e=Array.prototype.slice.call(s.labels||[]);if(!e.length){e=[];let t=s.getRootNode();if(s.id){let i=t.querySelectorAll(`label[for = ${s.id}]`);for(let r=0;r<i.length;r++)e.push(i[r])}}return e}let gr=function(s){let e=s.sourceCapabilities;if((!e||e.firesTouchEvents)&&(s[Pt]={skip:!0},s.type==="click")){let t=!1,i=ei(s);for(let r=0;r<i.length;r++){if(i[r].nodeType===Node.ELEMENT_NODE){if(i[r].localName==="label")$i.push(i[r]);else if(Bl(i[r])){let n=Vl(i[r]);for(let o=0;o<n.length;o++)t=t||$i.indexOf(n[o])>-1}}if(i[r]===k.mouse.target)return}if(t)return;s.preventDefault(),s.stopPropagation()}};function yr(s){let e=Vn?["click"]:$n;for(let t,i=0;i<e.length;i++)t=e[i],s?($i.length=0,document.addEventListener(t,gr,!0)):document.removeEventListener(t,gr,!0)}function jl(s){k.mouse.mouseIgnoreJob||yr(!0);let e=function(){yr(),k.mouse.target=null,k.mouse.mouseIgnoreJob=null};k.mouse.target=ei(s)[0],k.mouse.mouseIgnoreJob=F.debounce(k.mouse.mouseIgnoreJob,Y.after(kl),e)}function ye(s){let e=s.type;if(!us(e))return!1;if(e==="mousemove"){let t=s.buttons===void 0?1:s.buttons;return s instanceof window.MouseEvent&&!Ll&&(t=Dl[s.which]||0),!!(1&t)}return(s.button===void 0?0:s.button)===0}function Gl(s){if(s.type==="click"){if(s.detail===0)return!0;let e=ce(s);if(!e.nodeType||e.nodeType!==Node.ELEMENT_NODE)return!0;let t=e.getBoundingClientRect(),i=s.pageX,r=s.pageY;return!(i>=t.left&&i<=t.right&&r>=t.top&&r<=t.bottom)}return!1}let k={mouse:{target:null,mouseIgnoreJob:null},touch:{x:0,y:0,id:-1,scrollDecided:!1}};function Ul(s){let e="auto",t=ei(s);for(let i,r=0;r<t.length;r++)if(i=t[r],i[Hi]){e=i[Hi];break}return e}function br(s,e,t){s.movefn=e,s.upfn=t,document.addEventListener("mousemove",e),document.addEventListener("mouseup",t)}function we(s){document.removeEventListener("mousemove",s.movefn),document.removeEventListener("mouseup",s.upfn),s.movefn=null,s.upfn=null}document.addEventListener("touchend",jl,!!ps&&{passive:!0});const ei=window.ShadyDOM&&window.ShadyDOM.noPatch?window.ShadyDOM.composedPath:s=>s.composedPath&&s.composedPath()||[],ut={},be=[];function ql(s,e){let t=document.elementFromPoint(s,e),i=t;for(;i&&i.shadowRoot&&!window.ShadyDOM;){let r=i;if(i=i.shadowRoot.elementFromPoint(s,e),r===i)break;i&&(t=i)}return t}function ce(s){const e=ei(s);return e.length>0?e[0]:s.target}function jn(s){let e,t=s.type,i=s.currentTarget[Dt];if(!i)return;let r=i[t];if(r){if(!s[Pt]&&(s[Pt]={},t.slice(0,5)==="touch")){let n=s.changedTouches[0];if(t==="touchstart"&&s.touches.length===1&&(k.touch.id=n.identifier),k.touch.id!==n.identifier)return;cs||t!=="touchstart"&&t!=="touchmove"||Wl(s)}if(e=s[Pt],!e.skip){for(let n,o=0;o<be.length;o++)n=be[o],r[n.name]&&!e[n.name]&&n.flow&&n.flow.start.indexOf(s.type)>-1&&n.reset&&n.reset();for(let n,o=0;o<be.length;o++)n=be[o],r[n.name]&&!e[n.name]&&(e[n.name]=!0,n[t](s))}}}function Wl(s){let e=s.changedTouches[0],t=s.type;if(t==="touchstart")k.touch.x=e.clientX,k.touch.y=e.clientY,k.touch.scrollDecided=!1;else if(t==="touchmove"){if(k.touch.scrollDecided)return;k.touch.scrollDecided=!0;let i=Ul(s),r=!1,n=Math.abs(k.touch.x-e.clientX),o=Math.abs(k.touch.y-e.clientY);s.cancelable&&(i==="none"?r=!0:i==="pan-x"?r=o>n:i==="pan-y"&&(r=n>o)),r?s.preventDefault():Lt("track")}}function _s(s,e,t){return!!ut[e]&&(Zl(s,e,t),!0)}function Yl(s,e,t){return!!ut[e]&&(Jl(s,e,t),!0)}function Zl(s,e,t){let i=ut[e],r=i.deps,n=i.name,o=s[Dt];o||(s[Dt]=o={});for(let a,l,d=0;d<r.length;d++)a=r[d],Vn&&us(a)&&a!=="click"||(l=o[a],l||(o[a]=l={_count:0}),l._count===0&&s.addEventListener(a,jn,Bn(a)),l[n]=(l[n]||0)+1,l._count=(l._count||0)+1);s.addEventListener(e,t),i.touchAction&&Gn(s,i.touchAction)}function Jl(s,e,t){let i=ut[e],r=i.deps,n=i.name,o=s[Dt];if(o)for(let a,l,d=0;d<r.length;d++)a=r[d],l=o[a],l&&l[n]&&(l[n]=(l[n]||1)-1,l._count=(l._count||1)-1,l._count===0&&s.removeEventListener(a,jn,Bn(a)));s.removeEventListener(e,t)}function yi(s){be.push(s);for(let e=0;e<s.emits.length;e++)ut[s.emits[e]]=s}function Xl(s){for(let e,t=0;t<be.length;t++){e=be[t];for(let i,r=0;r<e.emits.length;r++)if(i=e.emits[r],i===s)return e}return null}function Gn(s,e){cs&&s instanceof HTMLElement&&U.run(()=>{s.style.touchAction=e}),s[Hi]=e}function ms(s,e,t){let i=new Event(e,{bubbles:!0,cancelable:!0,composed:!0});if(i.detail=t,f(s).dispatchEvent(i),i.defaultPrevented){let r=t.preventer||t.sourceEvent;r&&r.preventDefault&&r.preventDefault()}}function Lt(s){let e=Xl(s);e.info&&(e.info.prevent=!0)}function $e(s,e,t,i){e&&ms(e,s,{x:t.clientX,y:t.clientY,sourceEvent:t,preventer:i,prevent:function(r){return Lt(r)}})}function vr(s,e,t){if(s.prevent)return!1;if(s.started)return!0;let i=Math.abs(s.x-e),r=Math.abs(s.y-t);return i>=fr||r>=fr}function bi(s,e,t){if(!e)return;let i,r=s.moves[s.moves.length-2],n=s.moves[s.moves.length-1],o=n.x-s.x,a=n.y-s.y,l=0;r&&(i=n.x-r.x,l=n.y-r.y),ms(e,"track",{state:s.state,x:t.clientX,y:t.clientY,dx:o,dy:a,ddx:i,ddy:l,sourceEvent:t,hover:function(){return ql(t.clientX,t.clientY)}})}function wr(s,e,t){let i=Math.abs(e.clientX-s.x),r=Math.abs(e.clientY-s.y),n=ce(t||e);!n||$l[n.localName]&&n.hasAttribute("disabled")||(isNaN(i)||isNaN(r)||i<=mr&&r<=mr||Gl(e))&&(s.prevent||ms(n,"tap",{x:e.clientX,y:e.clientY,sourceEvent:e,preventer:t}))}yi({name:"downup",deps:["mousedown","touchstart","touchend"],flow:{start:["mousedown","touchstart"],end:["mouseup","touchend"]},emits:["down","up"],info:{movefn:null,upfn:null},reset:function(){we(this.info)},mousedown:function(s){if(!ye(s))return;let e=ce(s),t=this,i=function(n){ye(n)||($e("up",e,n),we(t.info))},r=function(n){ye(n)&&$e("up",e,n),we(t.info)};br(this.info,i,r),$e("down",e,s)},touchstart:function(s){$e("down",ce(s),s.changedTouches[0],s)},touchend:function(s){$e("up",ce(s),s.changedTouches[0],s)}}),yi({name:"track",touchAction:"none",deps:["mousedown","touchstart","touchmove","touchend"],flow:{start:["mousedown","touchstart"],end:["mouseup","touchend"]},emits:["track"],info:{x:0,y:0,state:"start",started:!1,moves:[],addMove:function(s){this.moves.length>Ml&&this.moves.shift(),this.moves.push(s)},movefn:null,upfn:null,prevent:!1},reset:function(){this.info.state="start",this.info.started=!1,this.info.moves=[],this.info.x=0,this.info.y=0,this.info.prevent=!1,we(this.info)},mousedown:function(s){if(!ye(s))return;let e=ce(s),t=this,i=function(n){let o=n.clientX,a=n.clientY;vr(t.info,o,a)&&(t.info.state=t.info.started?n.type==="mouseup"?"end":"track":"start",t.info.state==="start"&&Lt("tap"),t.info.addMove({x:o,y:a}),ye(n)||(t.info.state="end",we(t.info)),e&&bi(t.info,e,n),t.info.started=!0)},r=function(n){t.info.started&&i(n),we(t.info)};br(this.info,i,r),this.info.x=s.clientX,this.info.y=s.clientY},touchstart:function(s){let e=s.changedTouches[0];this.info.x=e.clientX,this.info.y=e.clientY},touchmove:function(s){let e=ce(s),t=s.changedTouches[0],i=t.clientX,r=t.clientY;vr(this.info,i,r)&&(this.info.state==="start"&&Lt("tap"),this.info.addMove({x:i,y:r}),bi(this.info,e,t),this.info.state="track",this.info.started=!0)},touchend:function(s){let e=ce(s),t=s.changedTouches[0];this.info.started&&(this.info.state="end",this.info.addMove({x:t.clientX,y:t.clientY}),bi(this.info,e,t))}}),yi({name:"tap",deps:["mousedown","click","touchstart","touchend"],flow:{start:["mousedown","touchstart"],end:["click","touchend"]},emits:["tap"],info:{x:NaN,y:NaN,prevent:!1},reset:function(){this.info.x=NaN,this.info.y=NaN,this.info.prevent=!1},mousedown:function(s){ye(s)&&(this.info.x=s.clientX,this.info.y=s.clientY)},click:function(s){ye(s)&&wr(this.info,s)},touchstart:function(s){const e=s.changedTouches[0];this.info.x=e.clientX,this.info.y=e.clientY},touchend:function(s){wr(this.info,s.changedTouches[0],s)}});const pt=j(s=>{class e extends s{_addEventListenerToNode(i,r,n){_s(i,r,n)||super._addEventListenerToNode(i,r,n)}_removeEventListenerFromNode(i,r,n){Yl(i,r,n)||super._removeEventListenerFromNode(i,r,n)}}return e}),Ql=s=>class extends s{static get properties(){return{theme:{type:String,readOnly:!0}}}attributeChangedCallback(e,t,i){super.attributeChangedCallback(e,t,i),e==="theme"&&this._setTheme(i)}},fs=s=>class extends Ql(s){static finalize(){super.finalize();const e=this.prototype._template,t=this.template&&this.template.parentElement&&this.template.parentElement.id===this.is,i=Object.getPrototypeOf(this.prototype)._template;i&&!t&&Array.from(i.content.querySelectorAll("style[include]")).forEach(r=>{this._includeStyle(r.getAttribute("include"),e)}),this._includeMatchingThemes(e)}static _includeMatchingThemes(e){const t=ze.prototype.modules;let i=!1;const r=this.is+"-default-theme";Object.keys(t).sort((n,o)=>{const a=n.indexOf("vaadin-")===0,l=o.indexOf("vaadin-")===0,d=["lumo-","material-"],h=d.filter(_=>n.indexOf(_)===0).length>0,c=d.filter(_=>o.indexOf(_)===0).length>0;return a!==l?a?-1:1:h!==c?h?-1:1:0}).forEach(n=>{if(n!==r){const o=t[n].getAttribute("theme-for");o&&o.split(" ").forEach(a=>{new RegExp("^"+a.split("*").join(".*")+"$").test(this.is)&&(i=!0,this._includeStyle(n,e))})}}),!i&&t[r]&&this._includeStyle(r,e)}static _includeStyle(e,t){if(t&&!t.content.querySelector(`style[include="${e}"]`)){const i=document.createElement("style");i.setAttribute("include",e),t.content.appendChild(i)}}};let Ht=!1;window.addEventListener("keydown",()=>{Ht=!0},{capture:!0}),window.addEventListener("mousedown",()=>{Ht=!1},{capture:!0});const Kl=s=>class extends s{static get properties(){var e={tabindex:{type:Number,value:0,reflectToAttribute:!0,observer:"_tabindexChanged"}};return window.ShadyDOM&&(e.tabIndex=e.tabindex),e}},ed=s=>class extends Kl(s){static get properties(){return{autofocus:{type:Boolean},_previousTabIndex:{type:Number},disabled:{type:Boolean,observer:"_disabledChanged",reflectToAttribute:!0},_isShiftTabbing:{type:Boolean}}}get _keyboardActive(){return Ht}ready(){this.addEventListener("focusin",t=>{t.composedPath()[0]===this?this.contains(t.relatedTarget)||this._focus():t.composedPath().indexOf(this.focusElement)===-1||this.disabled||this._setFocused(!0)}),this.addEventListener("focusout",t=>this._setFocused(!1)),super.ready();const e=t=>{t.composed||t.target.dispatchEvent(new CustomEvent(t.type,{bubbles:!0,composed:!0,cancelable:!1}))};this.shadowRoot.addEventListener("focusin",e),this.shadowRoot.addEventListener("focusout",e),this.addEventListener("keydown",t=>{if(!t.defaultPrevented&&t.keyCode===9)if(t.shiftKey)this._isShiftTabbing=!0,HTMLElement.prototype.focus.apply(this),this._setFocused(!1),setTimeout(()=>this._isShiftTabbing=!1,0);else{const i=window.navigator.userAgent.match(/Firefox\/(\d\d\.\d)/);if(i&&parseFloat(i[1])>=63&&parseFloat(i[1])<66&&this.parentNode&&this.nextSibling){const r=document.createElement("input");r.style.position="absolute",r.style.opacity="0",r.tabIndex=this.tabIndex,this.parentNode.insertBefore(r,this.nextSibling),r.focus(),r.addEventListener("focusout",()=>this.parentNode.removeChild(r))}}}),this.autofocus&&!this.disabled&&window.requestAnimationFrame(()=>{this._focus(),this._setFocused(!0),this.setAttribute("focus-ring","")})}disconnectedCallback(){super.disconnectedCallback(),this.hasAttribute("focused")&&this._setFocused(!1)}_setFocused(e){e?this.setAttribute("focused",""):this.removeAttribute("focused"),e&&Ht?this.setAttribute("focus-ring",""):this.removeAttribute("focus-ring")}get focusElement(){return window.console.warn(`Please implement the 'focusElement' property in <${this.localName}>`),this}_focus(){this.focusElement&&!this._isShiftTabbing&&(this.focusElement.focus(),this._setFocused(!0))}focus(){this.focusElement&&!this.disabled&&(this.focusElement.focus(),this._setFocused(!0))}blur(){this.focusElement&&(this.focusElement.blur(),this._setFocused(!1))}_disabledChanged(e){this.focusElement.disabled=e,e?(this.blur(),this._previousTabIndex=this.tabindex,this.tabindex=-1,this.setAttribute("aria-disabled","true")):(this._previousTabIndex!==void 0&&(this.tabindex=this._previousTabIndex),this.removeAttribute("aria-disabled"))}_tabindexChanged(e){e!==void 0&&(this.focusElement.tabIndex=e),this.disabled&&this.tabindex&&(this.tabindex!==-1&&(this._previousTabIndex=this.tabindex),this.tabindex=e=void 0),window.ShadyDOM&&this.setProperties({tabIndex:e,tabindex:e})}click(){this.disabled||super.click()}},Me=function(){let s,e;do s=window.ShadyDOM&&ShadyDOM.flush(),window.ShadyCSS&&window.ShadyCSS.ScopingShim&&window.ShadyCSS.ScopingShim.flush(),e=zl();while(s||e)};class vi{static detectScrollType(){const e=document.createElement("div");e.textContent="ABCD",e.dir="rtl",e.style.fontSize="14px",e.style.width="4px",e.style.height="1px",e.style.position="absolute",e.style.top="-1000px",e.style.overflow="scroll",document.body.appendChild(e);let t="reverse";return e.scrollLeft>0?t="default":(e.scrollLeft=2,e.scrollLeft<2&&(t="negative")),document.body.removeChild(e),t}static getNormalizedScrollLeft(e,t,i){const{scrollLeft:r}=i;if(t!=="rtl"||!e)return r;switch(e){case"negative":return i.scrollWidth-i.clientWidth+r;case"reverse":return i.scrollWidth-i.clientWidth-r}return r}static setNormalizedScrollLeft(e,t,i,r){if(t==="rtl"&&e)switch(e){case"negative":i.scrollLeft=i.clientWidth-i.scrollWidth+r;break;case"reverse":i.scrollLeft=i.scrollWidth-i.clientWidth-r;break;default:i.scrollLeft=r}else i.scrollLeft=r}}const de=[],td=function(){const s=Ie();de.forEach(e=>{Bi(e,s)})};let At;new MutationObserver(td).observe(document.documentElement,{attributes:!0,attributeFilter:["dir"]});const Bi=function(s,e){e?s.setAttribute("dir",e):s.removeAttribute("dir")},Ie=function(){return document.documentElement.getAttribute("dir")},gs=s=>class extends s{static get properties(){return{dir:{type:String,readOnly:!0}}}static finalize(){super.finalize(),At||(At=vi.detectScrollType())}connectedCallback(){super.connectedCallback(),this.hasAttribute("dir")||(this.__subscribe(),Bi(this,Ie()))}attributeChangedCallback(e,t,i){if(super.attributeChangedCallback(e,t,i),e!=="dir")return;const r=i===Ie()&&de.indexOf(this)===-1,n=!i&&t&&de.indexOf(this)===-1,o=i!==Ie()&&t===Ie();r||n?(this.__subscribe(),Bi(this,Ie())):o&&this.__subscribe(!1)}disconnectedCallback(){super.disconnectedCallback(),this.__subscribe(!1),this.removeAttribute("dir")}__subscribe(e=!0){e?de.indexOf(this)===-1&&de.push(this):de.indexOf(this)>-1&&de.splice(de.indexOf(this),1)}__getNormalizedScrollLeft(e){return vi.getNormalizedScrollLeft(At,this.getAttribute("dir")||"ltr",e)}__setNormalizedScrollLeft(e,t){return vi.setNormalizedScrollLeft(At,this.getAttribute("dir")||"ltr",e,t)}},id=/\/\*\*\s+vaadin-dev-mode:start([\s\S]*)vaadin-dev-mode:end\s+\*\*\//i,Tt=window.Vaadin&&window.Vaadin.Flow&&window.Vaadin.Flow.clients;function sd(){function s(){return!0}return Un(s)}function rd(){try{return!!nd()||!!od()&&(Tt?!ad():!sd())}catch{return!1}}function nd(){return localStorage.getItem("vaadin.developmentmode.force")}function od(){return["localhost","127.0.0.1"].indexOf(window.location.hostname)>=0}function ad(){return!!(Tt&&Object.keys(Tt).map(s=>Tt[s]).filter(s=>s.productionMode).length>0)}function Un(s,e){if(typeof s!="function")return;const t=id.exec(s.toString());if(t)try{s=new Function(t[1])}catch(i){console.log("vaadin-development-mode-detector: uncommentAndRun() failed",i)}return s(e)}window.Vaadin=window.Vaadin||{};const Cr=function(s,e){if(window.Vaadin.developmentMode)return Un(s,e)};function ld(){}window.Vaadin.developmentMode===void 0&&(window.Vaadin.developmentMode=rd());const Ar=function(){if(typeof Cr=="function")return Cr(ld)};let wi;window.Vaadin||(window.Vaadin={}),window.Vaadin.registrations=window.Vaadin.registrations||[],window.Vaadin.developmentModeCallback=window.Vaadin.developmentModeCallback||{},window.Vaadin.developmentModeCallback["vaadin-usage-statistics"]=function(){Ar&&Ar()};const Sr=new Set,qn=s=>class extends gs(s){static finalize(){super.finalize();const{is:e}=this;e&&!Sr.has(e)&&(window.Vaadin.registrations.push(this),Sr.add(e),window.Vaadin.developmentModeCallback&&(wi=F.debounce(wi,Pn,()=>{window.Vaadin.developmentModeCallback["vaadin-usage-statistics"]()}),Kt(wi)))}constructor(){super(),document.doctype===null&&console.warn('Vaadin components require the "standards mode" declaration. Please add <!DOCTYPE html> to the HTML document.')}};class xr extends qn(ed(fs(pt(ie)))){static get template(){return ct`
      <style>
        :host {
          display: inline-block;
        }

        :host([hidden]) {
          display: none !important;
        }

        label {
          display: inline-flex;
          align-items: baseline;
          outline: none;
        }

        [part='checkbox'] {
          position: relative;
          display: inline-block;
          flex: none;
        }

        input[type='checkbox'] {
          position: absolute;
          top: 0;
          left: 0;
          right: 0;
          width: 100%;
          height: 100%;
          opacity: 0;
          cursor: inherit;
          margin: 0;
        }

        :host([disabled]) {
          -webkit-tap-highlight-color: transparent;
        }
      </style>

      <label>
        <span part="checkbox">
          <input
            type="checkbox"
            checked="{{checked::change}}"
            disabled$="[[disabled]]"
            indeterminate="{{indeterminate::change}}"
            role="presentation"
            tabindex="-1"
          />
        </span>

        <span part="label">
          <slot></slot>
        </span>
      </label>
    `}static get is(){return"vaadin-checkbox"}static get version(){return"3.0.0"}static get properties(){return{checked:{type:Boolean,value:!1,notify:!0,observer:"_checkedChanged",reflectToAttribute:!0},indeterminate:{type:Boolean,notify:!0,observer:"_indeterminateChanged",reflectToAttribute:!0,value:!1},value:{type:String,value:"on"},_nativeCheckbox:{type:Object}}}constructor(){super(),this.name}get name(){return this.checked?this._storedName:""}set name(e){this._storedName=e}ready(){super.ready(),this.setAttribute("role","checkbox"),this._nativeCheckbox=this.shadowRoot.querySelector('input[type="checkbox"]'),this.addEventListener("click",this._handleClick.bind(this)),this._addActiveListeners();const e=this.getAttribute("name");e&&(this.name=e),this.shadowRoot.querySelector('[part~="label"]').querySelector("slot").addEventListener("slotchange",this._updateLabelAttribute.bind(this)),this._updateLabelAttribute()}_updateLabelAttribute(){const e=this.shadowRoot.querySelector('[part~="label"]'),t=e.firstElementChild.assignedNodes();this._isAssignedNodesEmpty(t)?e.setAttribute("empty",""):e.removeAttribute("empty")}_isAssignedNodesEmpty(e){return e.length===0||e.length==1&&e[0].nodeType==Node.TEXT_NODE&&e[0].textContent.trim()===""}_checkedChanged(e){this.indeterminate?this.setAttribute("aria-checked","mixed"):this.setAttribute("aria-checked",!!e)}_indeterminateChanged(e){e?this.setAttribute("aria-checked","mixed"):this.setAttribute("aria-checked",this.checked)}_addActiveListeners(){this._addEventListenerToNode(this,"down",e=>{this.__interactionsAllowed(e)&&this.setAttribute("active","")}),this._addEventListenerToNode(this,"up",()=>this.removeAttribute("active")),this.addEventListener("keydown",e=>{this.__interactionsAllowed(e)&&e.keyCode===32&&(e.preventDefault(),this.setAttribute("active",""))}),this.addEventListener("keyup",e=>{this.__interactionsAllowed(e)&&e.keyCode===32&&(e.preventDefault(),this._toggleChecked(),this.removeAttribute("active"),this.indeterminate&&(this.indeterminate=!1))})}get focusElement(){return this.shadowRoot.querySelector("input")}__interactionsAllowed(e){return!this.disabled&&e.target.localName!=="a"}_handleClick(e){this.__interactionsAllowed(e)&&(this.indeterminate?(this.indeterminate=!1,e.preventDefault(),this._toggleChecked()):e.composedPath()[0]!==this._nativeCheckbox&&(e.preventDefault(),this._toggleChecked()))}_toggleChecked(){this.checked=!this.checked,this.dispatchEvent(new CustomEvent("change",{composed:!1,bubbles:!0}))}}customElements.define(xr.is,xr),rt("vaadin-grid",st`
    :host {
      font-family: var(--lumo-font-family);
      font-size: var(--lumo-font-size-m);
      line-height: var(--lumo-line-height-s);
      color: var(--lumo-body-text-color);
      background-color: var(--lumo-base-color);
      box-sizing: border-box;
      -webkit-text-size-adjust: 100%;
      -webkit-tap-highlight-color: transparent;
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;

      /* For internal use only */
      --_lumo-grid-border-color: var(--lumo-contrast-20pct);
      --_lumo-grid-secondary-border-color: var(--lumo-contrast-10pct);
      --_lumo-grid-border-width: 1px;
      --_lumo-grid-selected-row-color: var(--lumo-primary-color-10pct);
    }

    /* No (outer) border */

    :host(:not([theme~='no-border'])) {
      border: var(--_lumo-grid-border-width) solid var(--_lumo-grid-border-color);
    }

    /* Cell styles */

    [part~='cell'] {
      min-height: var(--lumo-size-m);
      background-color: var(--lumo-base-color);
    }

    [part~='cell'] ::slotted(vaadin-grid-cell-content) {
      cursor: default;
      padding: var(--lumo-space-xs) var(--lumo-space-m);
    }

    /* Apply row borders by default and introduce the "no-row-borders" variant */
    :host(:not([theme~='no-row-borders'])) [part~='cell']:not([part~='details-cell']) {
      border-top: var(--_lumo-grid-border-width) solid var(--_lumo-grid-secondary-border-color);
    }

    /* Hide first body row top border */
    :host(:not([theme~='no-row-borders'])) [part='row'][first] [part~='cell']:not([part~='details-cell']) {
      border-top: 0;
      min-height: calc(var(--lumo-size-m) - var(--_lumo-grid-border-width));
    }

    /* Focus-ring */

    [part~='cell']:focus {
      outline: none;
    }

    :host([navigating]) [part~='cell']:focus::before {
      content: '';
      position: absolute;
      top: 0;
      right: 0;
      bottom: 0;
      left: 0;
      pointer-events: none;
      box-shadow: inset 0 0 0 2px var(--lumo-primary-color-50pct);
    }

    /* Drag and Drop styles */
    :host([dragover])::after {
      content: '';
      position: absolute;
      z-index: 100;
      top: 0;
      right: 0;
      bottom: 0;
      left: 0;
      pointer-events: none;
      box-shadow: inset 0 0 0 2px var(--lumo-primary-color-50pct);
    }

    [part~='row'][dragover] {
      z-index: 100 !important;
    }

    [part~='row'][dragover] [part~='cell'] {
      overflow: visible;
    }

    [part~='row'][dragover] [part~='cell']::after {
      content: '';
      position: absolute;
      top: 0;
      right: 0;
      bottom: 0;
      left: 0;
      height: calc(var(--_lumo-grid-border-width) + 2px);
      pointer-events: none;
      background: var(--lumo-primary-color-50pct);
    }

    :host([theme~='no-row-borders']) [dragover] [part~='cell']::after {
      height: 2px;
    }

    [part~='row'][dragover='below'] [part~='cell']::after {
      top: 100%;
      bottom: auto;
      margin-top: -1px;
    }

    [part~='row'][dragover='above'] [part~='cell']::after {
      top: auto;
      bottom: 100%;
      margin-bottom: -1px;
    }

    [part~='row'][details-opened][dragover='below'] [part~='cell']:not([part~='details-cell'])::after,
    [part~='row'][details-opened][dragover='above'] [part~='details-cell']::after {
      display: none;
    }

    [part~='row'][dragover][dragover='on-top'] [part~='cell']::after {
      height: 100%;
    }

    [part~='row'][dragstart] {
      /* Add bottom-space to the row so the drag number doesn't get clipped. Needed for IE/Edge */
      border-bottom: 100px solid transparent;
      z-index: 100 !important;
      opacity: 0.9;
    }

    [part~='row'][dragstart] [part~='cell'] {
      border: none !important;
      box-shadow: none !important;
    }

    [part~='row'][dragstart] [part~='cell'][last-column] {
      border-radius: 0 var(--lumo-border-radius-s) var(--lumo-border-radius-s) 0;
    }

    [part~='row'][dragstart] [part~='cell'][first-column] {
      border-radius: var(--lumo-border-radius-s) 0 0 var(--lumo-border-radius-s);
    }

    [ios] [part~='row'][dragstart] [part~='cell'] {
      background: var(--lumo-primary-color-50pct);
    }

    #scroller:not([ios]) [part~='row'][dragstart]:not([dragstart=''])::after {
      display: block;
      position: absolute;
      left: var(--_grid-drag-start-x);
      top: var(--_grid-drag-start-y);
      z-index: 100;
      content: attr(dragstart);
      align-items: center;
      justify-content: center;
      box-sizing: border-box;
      padding: calc(var(--lumo-space-xs) * 0.8);
      color: var(--lumo-error-contrast-color);
      background-color: var(--lumo-error-color);
      border-radius: var(--lumo-border-radius-m);
      font-family: var(--lumo-font-family);
      font-size: var(--lumo-font-size-xxs);
      line-height: 1;
      font-weight: 500;
      text-transform: initial;
      letter-spacing: initial;
      min-width: calc(var(--lumo-size-s) * 0.7);
      text-align: center;
    }

    /* Headers and footers */

    [part~='header-cell'] ::slotted(vaadin-grid-cell-content),
    [part~='footer-cell'] ::slotted(vaadin-grid-cell-content),
    [part~='reorder-ghost'] {
      font-size: var(--lumo-font-size-s);
      font-weight: 500;
    }

    [part~='footer-cell'] ::slotted(vaadin-grid-cell-content) {
      font-weight: 400;
    }

    [part='row']:only-child [part~='header-cell'] {
      min-height: var(--lumo-size-xl);
    }

    /* Header borders */

    /* Hide first header row top border */
    :host(:not([theme~='no-row-borders'])) [part='row']:first-child [part~='header-cell'] {
      border-top: 0;
    }

    [part='row']:last-child [part~='header-cell'] {
      border-bottom: var(--_lumo-grid-border-width) solid transparent;
    }

    :host(:not([theme~='no-row-borders'])) [part='row']:last-child [part~='header-cell'] {
      border-bottom-color: var(--_lumo-grid-secondary-border-color);
    }

    /* Overflow uses a stronger border color */
    :host([overflow~='top']) [part='row']:last-child [part~='header-cell'] {
      border-bottom-color: var(--_lumo-grid-border-color);
    }

    /* Footer borders */

    [part='row']:first-child [part~='footer-cell'] {
      border-top: var(--_lumo-grid-border-width) solid transparent;
    }

    :host(:not([theme~='no-row-borders'])) [part='row']:first-child [part~='footer-cell'] {
      border-top-color: var(--_lumo-grid-secondary-border-color);
    }

    /* Overflow uses a stronger border color */
    :host([overflow~='bottom']) [part='row']:first-child [part~='footer-cell'] {
      border-top-color: var(--_lumo-grid-border-color);
    }

    /* Column reordering */

    :host([reordering]) [part~='cell'] {
      background: linear-gradient(var(--lumo-shade-20pct), var(--lumo-shade-20pct)) var(--lumo-base-color);
    }

    :host([reordering]) [part~='cell'][reorder-status='allowed'] {
      background: var(--lumo-base-color);
    }

    :host([reordering]) [part~='cell'][reorder-status='dragging'] {
      background: linear-gradient(var(--lumo-contrast-5pct), var(--lumo-contrast-5pct)) var(--lumo-base-color);
    }

    [part~='reorder-ghost'] {
      opacity: 0.85;
      box-shadow: var(--lumo-box-shadow-s);
      /* TODO Use the same styles as for the cell element (reorder-ghost copies styles from the cell element) */
      padding: var(--lumo-space-s) var(--lumo-space-m) !important;
    }

    /* Column resizing */

    [part='resize-handle'] {
      width: 3px;
      background-color: var(--lumo-primary-color-50pct);
      opacity: 0;
      transition: opacity 0.2s;
    }

    :host(:not([reordering])) *:not([column-resizing]) [part~='cell']:hover [part='resize-handle'],
    [part='resize-handle']:active {
      opacity: 1;
      transition-delay: 0.15s;
    }

    /* Column borders */

    :host([theme~='column-borders']) [part~='cell']:not([last-column]):not([part~='details-cell']) {
      border-right: var(--_lumo-grid-border-width) solid var(--_lumo-grid-secondary-border-color);
    }

    /* Frozen columns */

    [last-frozen] {
      border-right: var(--_lumo-grid-border-width) solid transparent;
      overflow: hidden;
    }

    :host([overflow~='left']) [part~='cell'][last-frozen]:not([part~='details-cell']) {
      border-right-color: var(--_lumo-grid-border-color);
    }

    /* Row stripes */

    :host([theme~='row-stripes']) [part~='row']:not([odd]) [part~='body-cell'],
    :host([theme~='row-stripes']) [part~='row']:not([odd]) [part~='details-cell'] {
      background-image: linear-gradient(var(--lumo-contrast-5pct), var(--lumo-contrast-5pct));
      background-repeat: repeat-x;
    }

    /* Selected row */

    /* Raise the selected rows above unselected rows (so that box-shadow can cover unselected rows) */
    :host(:not([reordering])) [part~='row'][selected] {
      z-index: 1;
    }

    :host(:not([reordering])) [part~='row'][selected] [part~='body-cell']:not([part~='details-cell']) {
      background-image: linear-gradient(var(--_lumo-grid-selected-row-color), var(--_lumo-grid-selected-row-color));
      background-repeat: repeat;
    }

    /* Cover the border of an unselected row */
    :host(:not([theme~='no-row-borders'])) [part~='row'][selected] [part~='cell']:not([part~='details-cell']) {
      box-shadow: 0 var(--_lumo-grid-border-width) 0 0 var(--_lumo-grid-selected-row-color);
    }

    /* Compact */

    :host([theme~='compact']) [part='row']:only-child [part~='header-cell'] {
      min-height: var(--lumo-size-m);
    }

    :host([theme~='compact']) [part~='cell'] {
      min-height: var(--lumo-size-s);
    }

    :host([theme~='compact']) [part='row'][first] [part~='cell']:not([part~='details-cell']) {
      min-height: calc(var(--lumo-size-s) - var(--_lumo-grid-border-width));
    }

    :host([theme~='compact']) [part~='cell'] ::slotted(vaadin-grid-cell-content) {
      padding: var(--lumo-space-xs) var(--lumo-space-s);
    }

    /* Wrap cell contents */

    :host([theme~='wrap-cell-content']) [part~='cell'] ::slotted(vaadin-grid-cell-content) {
      white-space: normal;
    }

    /* RTL specific styles */

    :host([dir='rtl']) [part~='row'][dragstart] [part~='cell'][last-column] {
      border-radius: var(--lumo-border-radius-s) 0 0 var(--lumo-border-radius-s);
    }

    :host([dir='rtl']) [part~='row'][dragstart] [part~='cell'][first-column] {
      border-radius: 0 var(--lumo-border-radius-s) var(--lumo-border-radius-s) 0;
    }

    :host([dir='rtl'][theme~='column-borders']) [part~='cell']:not([last-column]):not([part~='details-cell']) {
      border-right: none;
      border-left: var(--_lumo-grid-border-width) solid var(--_lumo-grid-secondary-border-color);
    }

    :host([dir='rtl']) [last-frozen] {
      border-right: none;
      border-left: var(--_lumo-grid-border-width) solid transparent;
    }

    :host([dir='rtl'][overflow~='right']) [part~='cell'][last-frozen]:not([part~='details-cell']) {
      border-left-color: var(--_lumo-grid-border-color);
    }
  `,{moduleId:"lumo-grid"}),rt("vaadin-checkbox",st`
    :host(.vaadin-grid-select-all-checkbox) {
      font-size: var(--lumo-font-size-m);
    }
  `,{moduleId:"vaadin-grid-select-all-checkbox-lumo"});let $t=!1,Wn=[],Yn=[];function Zn(){$t=!0,requestAnimationFrame(function(){$t=!1,dd(Wn),setTimeout(function(){hd(Yn)})})}function dd(s){for(;s.length;)Jn(s.shift())}function hd(s){for(let e=0,t=s.length;e<t;e++)Jn(s.shift())}function Jn(s){const e=s[0],t=s[1],i=s[2];try{t.apply(e,i)}catch(r){setTimeout(()=>{throw r})}}function cd(s,e,t){$t||Zn(),Wn.push([s,e,t])}function ud(s,e,t){$t||Zn(),Yn.push([s,e,t])}class Er{constructor(){this.start=0,this.end=0,this.previous=null,this.parent=null,this.rules=null,this.parsedCssText="",this.cssText="",this.atRule=!1,this.type=0,this.keyframesName="",this.selector="",this.parsedSelector=""}}function Xn(s){return Qn(_d(s=pd(s)),s)}function pd(s){return s.replace(K.comments,"").replace(K.port,"")}function _d(s){let e=new Er;e.start=0,e.end=s.length;let t=e;for(let i=0,r=s.length;i<r;i++)if(s[i]===eo){t.rules||(t.rules=[]);let n=t,o=n.rules[n.rules.length-1]||null;t=new Er,t.start=i+1,t.parent=n,t.previous=o,n.rules.push(t)}else s[i]===to&&(t.end=i+1,t=t.parent||e);return e}function Qn(s,e){let t=e.substring(s.start,s.end-1);if(s.parsedCssText=s.cssText=t.trim(),s.parent){let r=s.previous?s.previous.end:s.parent.start;t=e.substring(r,s.start-1),t=md(t),t=t.replace(K.multipleSpaces," "),t=t.substring(t.lastIndexOf(";")+1);let n=s.parsedSelector=s.selector=t.trim();s.atRule=n.indexOf(wd)===0,s.atRule?n.indexOf(vd)===0?s.type=_e.MEDIA_RULE:n.match(K.keyframesRule)&&(s.type=_e.KEYFRAMES_RULE,s.keyframesName=s.selector.split(K.multipleSpaces).pop()):n.indexOf(io)===0?s.type=_e.MIXIN_RULE:s.type=_e.STYLE_RULE}let i=s.rules;if(i)for(let r,n=0,o=i.length;n<o&&(r=i[n]);n++)Qn(r,e);return s}function md(s){return s.replace(/\\([0-9a-f]{1,6})\s/gi,function(){let e=arguments[1],t=6-e.length;for(;t--;)e="0"+e;return"\\"+e})}function Kn(s,e,t=""){let i="";if(s.cssText||s.rules){let r=s.rules;if(r&&!fd(r))for(let n,o=0,a=r.length;o<a&&(n=r[o]);o++)i=Kn(n,e,i);else i=e?s.cssText:gd(s.cssText),i=i.trim(),i&&(i="  "+i+`
`)}return i&&(s.selector&&(t+=s.selector+" "+eo+`
`),t+=i,s.selector&&(t+=to+`

`)),t}function fd(s){let e=s[0];return!!e&&!!e.selector&&e.selector.indexOf(io)===0}function gd(s){return bd(s=yd(s))}function yd(s){return s.replace(K.customProp,"").replace(K.mixinProp,"")}function bd(s){return s.replace(K.mixinApply,"").replace(K.varApply,"")}const _e={STYLE_RULE:1,KEYFRAMES_RULE:7,MEDIA_RULE:4,MIXIN_RULE:1e3},eo="{",to="}",K={comments:/\/\*[^*]*\*+([^/*][^*]*\*+)*\//gim,port:/@import[^;]*;/gim,customProp:/(?:^[^;\-\s}]+)?--[^;{}]*?:[^{};]*?(?:[;\n]|$)/gim,mixinProp:/(?:^[^;\-\s}]+)?--[^;{}]*?:[^{};]*?{[^}]*?}(?:[;\n]|$)?/gim,mixinApply:/@apply\s*\(?[^);]*\)?\s*(?:[;\n]|$)?/gim,varApply:/[^;:]*?:[^;]*?var\([^;]*\)(?:[;\n]|$)?/gim,keyframesRule:/^@[^\s]*keyframes/,multipleSpaces:/\s+/g},io="--",vd="@media",wd="@",Ir=new Set,Cd="shady-unscoped";function Ad(s){const e=s.textContent;if(!Ir.has(e)){Ir.add(e);const t=document.createElement("style");t.setAttribute("shady-unscoped",""),t.textContent=e,document.head.appendChild(t)}}function Sd(s){return s.hasAttribute(Cd)}function Vi(s,e){return s?(typeof s=="string"&&(s=Xn(s)),e&&Xe(s,e),Kn(s,Qi)):""}function Pr(s){return!s.__cssRules&&s.textContent&&(s.__cssRules=Xn(s.textContent)),s.__cssRules||null}function Xe(s,e,t,i){if(!s)return;let r=!1,n=s.type;if(i&&n===_e.MEDIA_RULE){let a=s.selector.match(ta);a&&(window.matchMedia(a[1]).matches||(r=!0))}n===_e.STYLE_RULE?e(s):t&&n===_e.KEYFRAMES_RULE?t(s):n===_e.MIXIN_RULE&&(r=!0);let o=s.rules;if(o&&!r)for(let a,l=0,d=o.length;l<d&&(a=o[l]);l++)Xe(a,e,t,i)}function xd(s,e){let t=0;for(let i=e,r=s.length;i<r;i++)if(s[i]==="(")t++;else if(s[i]===")"&&--t==0)return i;return-1}function so(s,e){let t=s.indexOf("var(");if(t===-1)return e(s,"","","");let i=xd(s,t+3),r=s.substring(t+4,i),n=s.substring(0,t),o=so(s.substring(i+1),e),a=r.indexOf(",");return a===-1?e(n,r.trim(),"",o):e(n,r.substring(0,a).trim(),r.substring(a+1).trim(),o)}function Ed(s){let e=s.localName,t="",i="";return e?e.indexOf("-")>-1?t=e:(i=e,t=s.getAttribute&&s.getAttribute("is")||""):(t=s.is,i=s.extends),{is:t,typeExtension:i}}function Id(s){const e=[],t=s.querySelectorAll("style");for(let i=0;i<t.length;i++){const r=t[i];Sd(r)?Yt||(Ad(r),r.parentNode.removeChild(r)):(e.push(r.textContent),r.parentNode.removeChild(r))}return e.join("").trim()}window.ShadyDOM&&window.ShadyDOM.wrap;const ro="css-build";function Pd(s){if(et!==void 0)return et;if(s.__cssBuild===void 0){const e=s.getAttribute(ro);if(e)s.__cssBuild=e;else{const t=Td(s);t!==""&&Od(s),s.__cssBuild=t}}return s.__cssBuild||""}function Tr(s){return Pd(s)!==""}function Td(s){const e=s.localName==="template"?s.content.firstChild:s.firstChild;if(e instanceof Comment){const t=e.textContent.trim().split(":");if(t[0]===ro)return t[1]}return""}function Od(s){const e=s.localName==="template"?s.content.firstChild:s.firstChild;e.parentNode.removeChild(e)}const Rd=/;\s*/m,Fd=/^\s*(initial)|(inherit)\s*$/,Or=/\s*!important/,ji="_-_";class Nd{constructor(){this._map={}}set(e,t){e=e.trim(),this._map[e]={properties:t,dependants:{}}}get(e){return e=e.trim(),this._map[e]||null}}let Bt=null;class D{constructor(){this._currentElement=null,this._measureElement=null,this._map=new Nd}detectMixin(e){return ia(e)}gatherStyles(e){const t=Id(e.content);if(t){const i=document.createElement("style");return i.textContent=t,e.content.insertBefore(i,e.content.firstChild),i}return null}transformTemplate(e,t){e._gatheredStyle===void 0&&(e._gatheredStyle=this.gatherStyles(e));const i=e._gatheredStyle;return i?this.transformStyle(i,t):null}transformStyle(e,t=""){let i=Pr(e);return this.transformRules(i,t),e.textContent=Vi(i),i}transformCustomStyle(e){let t=Pr(e);return Xe(t,i=>{i.selector===":root"&&(i.selector="html"),this.transformRule(i)}),e.textContent=Vi(t),t}transformRules(e,t){this._currentElement=t,Xe(e,i=>{this.transformRule(i)}),this._currentElement=null}transformRule(e){e.cssText=this.transformCssText(e.parsedCssText,e),e.selector===":root"&&(e.selector=":host > *")}transformCssText(e,t){return e=e.replace(Ei,(i,r,n,o)=>this._produceCssProperties(i,r,n,o,t)),this._consumeCssProperties(e,t)}_getInitialValueForProperty(e){return this._measureElement||(this._measureElement=document.createElement("meta"),this._measureElement.setAttribute("apply-shim-measure",""),this._measureElement.style.all="initial",document.head.appendChild(this._measureElement)),window.getComputedStyle(this._measureElement).getPropertyValue(e)}_fallbacksFromPreviousRules(e){let t=e;for(;t.parent;)t=t.parent;const i={};let r=!1;return Xe(t,n=>{r=r||n===e,r||n.selector===e.selector&&Object.assign(i,this._cssTextToMap(n.parsedCssText))}),i}_consumeCssProperties(e,t){let i=null;for(;i=Nt.exec(e);){let r=i[0],n=i[1],o=i.index,a=o+r.indexOf("@apply"),l=o+r.length,d=e.slice(0,a),h=e.slice(l),c=t?this._fallbacksFromPreviousRules(t):{};Object.assign(c,this._cssTextToMap(d));let _=this._atApplyToCssProperties(n,c);e=`${d}${_}${h}`,Nt.lastIndex=o+_.length}return e}_atApplyToCssProperties(e,t){e=e.replace(Rd,"");let i=[],r=this._map.get(e);if(r||(this._map.set(e,{}),r=this._map.get(e)),r){let n,o,a;this._currentElement&&(r.dependants[this._currentElement]=!0);const l=r.properties;for(n in l)a=t&&t[n],o=[n,": var(",e,ji,n],a&&o.push(",",a.replace(Or,"")),o.push(")"),Or.test(l[n])&&o.push(" !important"),i.push(o.join(""))}return i.join("; ")}_replaceInitialOrInherit(e,t){let i=Fd.exec(t);return i&&(t=i[1]?this._getInitialValueForProperty(e):"apply-shim-inherit"),t}_cssTextToMap(e,t=!1){let i,r,n=e.split(";"),o={};for(let a,l,d=0;d<n.length;d++)a=n[d],a&&(l=a.split(":"),l.length>1&&(i=l[0].trim(),r=l.slice(1).join(":"),t&&(r=this._replaceInitialOrInherit(i,r)),o[i]=r));return o}_invalidateMixinEntry(e){if(Bt)for(let t in e.dependants)t!==this._currentElement&&Bt(t)}_produceCssProperties(e,t,i,r,n){if(i&&so(i,(w,b)=>{b&&this._map.get(b)&&(r=`@apply ${b};`)}),!r)return e;let o=this._consumeCssProperties(""+r,n),a=e.slice(0,e.indexOf("--")),l=this._cssTextToMap(o,!0),d=l,h=this._map.get(t),c=h&&h.properties;c?d=Object.assign(Object.create(c),l):this._map.set(t,d);let _,g,m=[],y=!1;for(_ in d)g=l[_],g===void 0&&(g="initial"),c&&!(_ in c)&&(y=!0),m.push(`${t}${ji}${_}: ${g}`);return y&&this._invalidateMixinEntry(h),h&&(h.properties=d),i&&(a=`${e};${a}`),`${a}${m.join("; ")};`}}D.prototype.detectMixin=D.prototype.detectMixin,D.prototype.transformStyle=D.prototype.transformStyle,D.prototype.transformCustomStyle=D.prototype.transformCustomStyle,D.prototype.transformRules=D.prototype.transformRules,D.prototype.transformRule=D.prototype.transformRule,D.prototype.transformTemplate=D.prototype.transformTemplate,D.prototype._separator=ji,Object.defineProperty(D.prototype,"invalidCallback",{get:()=>Bt,set(s){Bt=s}});const Gi={},Vt="_applyShimCurrentVersion",ke="_applyShimNextVersion",jt="_applyShimValidatingVersion",zd=Promise.resolve();function Md(s){let e=Gi[s];e&&kd(e)}function kd(s){s[Vt]=s[Vt]||0,s[jt]=s[jt]||0,s[ke]=(s[ke]||0)+1}function no(s){return s[Vt]===s[ke]}function Dd(s){return!no(s)&&s[jt]===s[ke]}function Ld(s){s[jt]=s[ke],s._validating||(s._validating=!0,zd.then(function(){s[Vt]=s[ke],s._validating=!1}))}const We=new D;class Hd{constructor(){this.customStyleInterface=null,We.invalidCallback=Md}ensure(){this.customStyleInterface||window.ShadyCSS.CustomStyleInterface&&(this.customStyleInterface=window.ShadyCSS.CustomStyleInterface,this.customStyleInterface.transformCallback=e=>{We.transformCustomStyle(e)},this.customStyleInterface.validateCallback=()=>{requestAnimationFrame(()=>{this.customStyleInterface.enqueued&&this.flushCustomStyles()})})}prepareTemplate(e,t){if(this.ensure(),Tr(e))return;Gi[t]=e;let i=We.transformTemplate(e,t);e._styleAst=i}flushCustomStyles(){if(this.ensure(),!this.customStyleInterface)return;let e=this.customStyleInterface.processStyles();if(this.customStyleInterface.enqueued){for(let t=0;t<e.length;t++){let i=e[t],r=this.customStyleInterface.getStyleForCustomStyle(i);r&&We.transformCustomStyle(r)}this.customStyleInterface.enqueued=!1}}styleSubtree(e,t){if(this.ensure(),t&&Ii(e,t),e.shadowRoot){this.styleElement(e);let i=e.shadowRoot.children||e.shadowRoot.childNodes;for(let r=0;r<i.length;r++)this.styleSubtree(i[r])}else{let i=e.children||e.childNodes;for(let r=0;r<i.length;r++)this.styleSubtree(i[r])}}styleElement(e){this.ensure();let{is:t}=Ed(e),i=Gi[t];if((!i||!Tr(i))&&i&&!no(i)){Dd(i)||(this.prepareTemplate(i,t),Ld(i));let r=e.shadowRoot;if(r){let n=r.querySelector("style");n&&(n.__cssRules=i._styleAst,n.textContent=Vi(i._styleAst))}}}styleDocument(e){this.ensure(),this.styleSubtree(document.body,e)}}if(!window.ShadyCSS||!window.ShadyCSS.ScopingShim){const s=new Hd;let e=window.ShadyCSS&&window.ShadyCSS.CustomStyleInterface;window.ShadyCSS={prepareTemplate(t,i,r){s.flushCustomStyles(),s.prepareTemplate(t,i)},prepareTemplateStyles(t,i,r){window.ShadyCSS.prepareTemplate(t,i,r)},prepareTemplateDom(t,i){},styleSubtree(t,i){s.flushCustomStyles(),s.styleSubtree(t,i)},styleElement(t){s.flushCustomStyles(),s.styleElement(t)},styleDocument(t){s.flushCustomStyles(),s.styleDocument(t)},getComputedStyleValue:(t,i)=>hn(t,i),flushCustomStyles(){s.flushCustomStyles()},nativeCss:Qi,nativeShadow:Yt,cssBuild:et,disableRuntime:cn},e&&(window.ShadyCSS.CustomStyleInterface=e)}window.ShadyCSS.ApplyShim=We;const $d=/:host\(:dir\((ltr|rtl)\)\)/g,Bd=':host([dir="$1"])',Vd=/([\s\w-#\.\[\]\*]*):dir\((ltr|rtl)\)/g,jd=':host([dir="$2"]) $1',Gd=/:dir\((?:ltr|rtl)\)/,Rr=!!(window.ShadyDOM&&window.ShadyDOM.inUse),Qe=[];let Ke=null,ys="";function oo(){ys=document.documentElement.getAttribute("dir")}function ao(s){s.__autoDirOptOut||s.setAttribute("dir",ys)}function lo(){oo(),ys=document.documentElement.getAttribute("dir");for(let s=0;s<Qe.length;s++)ao(Qe[s])}function Ud(){Ke&&Ke.takeRecords().length&&lo()}const qd=j(s=>{Rr||Ke||(oo(),Ke=new MutationObserver(lo),Ke.observe(document.documentElement,{attributes:!0,attributeFilter:["dir"]}));const e=Rn(s);class t extends e{static _processStyleText(r,n){return r=e._processStyleText.call(this,r,n),!Rr&&Gd.test(r)&&(r=this._replaceDirInCssText(r),this.__activateDir=!0),r}static _replaceDirInCssText(r){let n=r;return n=n.replace($d,Bd),n=n.replace(Vd,jd),n}constructor(){super(),this.__autoDirOptOut=!1}ready(){super.ready(),this.__autoDirOptOut=this.hasAttribute("dir")}connectedCallback(){e.prototype.connectedCallback&&super.connectedCallback(),this.constructor.__activateDir&&(Ud(),Qe.push(this),ao(this))}disconnectedCallback(){if(e.prototype.disconnectedCallback&&super.disconnectedCallback(),this.constructor.__activateDir){const r=Qe.indexOf(this);r>-1&&Qe.splice(r,1)}}}return t.__activateDir=!1,t});function Fr(){document.body.removeAttribute("unresolved")}function Be(s,e,t){return{index:s,removed:e,addedCount:t}}document.readyState==="interactive"||document.readyState==="complete"?Fr():window.addEventListener("DOMContentLoaded",Fr);const ho=0,co=1,Ui=2,qi=3;function Wd(s,e,t,i,r,n){let o=n-r+1,a=t-e+1,l=new Array(o);for(let d=0;d<o;d++)l[d]=new Array(a),l[d][0]=d;for(let d=0;d<a;d++)l[0][d]=d;for(let d=1;d<o;d++)for(let h=1;h<a;h++)if(bs(s[e+h-1],i[r+d-1]))l[d][h]=l[d-1][h-1];else{let c=l[d-1][h]+1,_=l[d][h-1]+1;l[d][h]=c<_?c:_}return l}function Yd(s){let e=s.length-1,t=s[0].length-1,i=s[e][t],r=[];for(;e>0||t>0;){if(e==0){r.push(Ui),t--;continue}if(t==0){r.push(qi),e--;continue}let n,o=s[e-1][t-1],a=s[e-1][t],l=s[e][t-1];n=a<l?a<o?a:o:l<o?l:o,n==o?(o==i?r.push(ho):(r.push(co),i=o),e--,t--):n==a?(r.push(qi),e--,i=a):(r.push(Ui),t--,i=l)}return r.reverse(),r}function Zd(s,e,t,i,r,n){let o,a=0,l=0,d=Math.min(t-e,n-r);if(e==0&&r==0&&(a=Jd(s,i,d)),t==s.length&&n==i.length&&(l=Xd(s,i,d-a)),r+=a,n-=l,(t-=l)-(e+=a)==0&&n-r==0)return[];if(e==t){for(o=Be(e,[],0);r<n;)o.removed.push(i[r++]);return[o]}if(r==n)return[Be(e,[],t-e)];let h=Yd(Wd(s,e,t,i,r,n));o=void 0;let c=[],_=e,g=r;for(let m=0;m<h.length;m++)switch(h[m]){case ho:o&&(c.push(o),o=void 0),_++,g++;break;case co:o||(o=Be(_,[],0)),o.addedCount++,_++,o.removed.push(i[g]),g++;break;case Ui:o||(o=Be(_,[],0)),o.addedCount++,_++;break;case qi:o||(o=Be(_,[],0)),o.removed.push(i[g]),g++}return o&&c.push(o),c}function Jd(s,e,t){for(let i=0;i<t;i++)if(!bs(s[i],e[i]))return i;return t}function Xd(s,e,t){let i=s.length,r=e.length,n=0;for(;n<t&&bs(s[--i],e[--r]);)n++;return n}function uo(s,e){return Zd(s,0,s.length,e,0,e.length)}function bs(s,e){return s===e}function Ce(s){return s.localName==="slot"}let ee=class{static getFlattenedNodes(s){const e=f(s);return Ce(s)?e.assignedNodes({flatten:!0}):Array.from(e.childNodes).map(t=>Ce(t)?f(t).assignedNodes({flatten:!0}):[t]).reduce((t,i)=>t.concat(i),[])}constructor(s,e){this._shadyChildrenObserver=null,this._nativeChildrenObserver=null,this._connected=!1,this._target=s,this.callback=e,this._effectiveNodes=[],this._observer=null,this._scheduled=!1,this._boundSchedule=()=>{this._schedule()},this.connect(),this._schedule()}connect(){Ce(this._target)?this._listenSlots([this._target]):f(this._target).children&&(this._listenSlots(f(this._target).children),window.ShadyDOM?this._shadyChildrenObserver=window.ShadyDOM.observeChildren(this._target,s=>{this._processMutations(s)}):(this._nativeChildrenObserver=new MutationObserver(s=>{this._processMutations(s)}),this._nativeChildrenObserver.observe(this._target,{childList:!0}))),this._connected=!0}disconnect(){Ce(this._target)?this._unlistenSlots([this._target]):f(this._target).children&&(this._unlistenSlots(f(this._target).children),window.ShadyDOM&&this._shadyChildrenObserver?(window.ShadyDOM.unobserveChildren(this._shadyChildrenObserver),this._shadyChildrenObserver=null):this._nativeChildrenObserver&&(this._nativeChildrenObserver.disconnect(),this._nativeChildrenObserver=null)),this._connected=!1}_schedule(){this._scheduled||(this._scheduled=!0,U.run(()=>this.flush()))}_processMutations(s){this._processSlotMutations(s),this.flush()}_processSlotMutations(s){if(s)for(let e=0;e<s.length;e++){let t=s[e];t.addedNodes&&this._listenSlots(t.addedNodes),t.removedNodes&&this._unlistenSlots(t.removedNodes)}}flush(){if(!this._connected)return!1;window.ShadyDOM&&ShadyDOM.flush(),this._nativeChildrenObserver?this._processSlotMutations(this._nativeChildrenObserver.takeRecords()):this._shadyChildrenObserver&&this._processSlotMutations(this._shadyChildrenObserver.takeRecords()),this._scheduled=!1;let s={target:this._target,addedNodes:[],removedNodes:[]},e=this.constructor.getFlattenedNodes(this._target),t=uo(e,this._effectiveNodes);for(let r,n=0;n<t.length&&(r=t[n]);n++)for(let o,a=0;a<r.removed.length&&(o=r.removed[a]);a++)s.removedNodes.push(o);for(let r,n=0;n<t.length&&(r=t[n]);n++)for(let o=r.index;o<r.index+r.addedCount;o++)s.addedNodes.push(e[o]);this._effectiveNodes=e;let i=!1;return(s.addedNodes.length||s.removedNodes.length)&&(i=!0,this.callback.call(this._target,s)),i}_listenSlots(s){for(let e=0;e<s.length;e++){let t=s[e];Ce(t)&&t.addEventListener("slotchange",this._boundSchedule)}}_unlistenSlots(s){for(let e=0;e<s.length;e++){let t=s[e];Ce(t)&&t.removeEventListener("slotchange",this._boundSchedule)}}};const Ae=Element.prototype,Qd=Ae.matches||Ae.matchesSelector||Ae.mozMatchesSelector||Ae.msMatchesSelector||Ae.oMatchesSelector||Ae.webkitMatchesSelector,po=function(s,e){return Qd.call(s,e)};class P{constructor(e){window.ShadyDOM&&window.ShadyDOM.inUse&&window.ShadyDOM.patch(e),this.node=e}observeNodes(e){return new ee(this.node,e)}unobserveNodes(e){e.disconnect()}notifyObserver(){}deepContains(e){if(f(this.node).contains(e))return!0;let t=e,i=e.ownerDocument;for(;t&&t!==i&&t!==this.node;)t=f(t).parentNode||f(t).host;return t===this.node}getOwnerRoot(){return f(this.node).getRootNode()}getDistributedNodes(){return this.node.localName==="slot"?f(this.node).assignedNodes({flatten:!0}):[]}getDestinationInsertionPoints(){let e=[],t=f(this.node).assignedSlot;for(;t;)e.push(t),t=f(t).assignedSlot;return e}importNode(e,t){let i=this.node instanceof Document?this.node:this.node.ownerDocument;return f(i).importNode(e,t)}getEffectiveChildNodes(){return ee.getFlattenedNodes(this.node)}queryDistributedElements(e){let t=this.getEffectiveChildNodes(),i=[];for(let r,n=0,o=t.length;n<o&&(r=t[n]);n++)r.nodeType===Node.ELEMENT_NODE&&po(r,e)&&i.push(r);return i}get activeElement(){let e=this.node;return e._activeElement!==void 0?e._activeElement:e.activeElement}}function Kd(s,e){for(let t=0;t<e.length;t++){let i=e[t];s[i]=function(){return this.node[i].apply(this.node,arguments)}}}function Nr(s,e){for(let t=0;t<e.length;t++){let i=e[t];Object.defineProperty(s,i,{get:function(){return this.node[i]},configurable:!0})}}function eh(s,e){for(let t=0;t<e.length;t++){let i=e[t];Object.defineProperty(s,i,{get:function(){return this.node[i]},set:function(r){this.node[i]=r},configurable:!0})}}class Wi{constructor(e){this.event=e}get rootTarget(){return this.path[0]}get localTarget(){return this.event.target}get path(){return this.event.composedPath()}}P.prototype.cloneNode,P.prototype.appendChild,P.prototype.insertBefore,P.prototype.removeChild,P.prototype.replaceChild,P.prototype.setAttribute,P.prototype.removeAttribute,P.prototype.querySelector,P.prototype.querySelectorAll,P.prototype.parentNode,P.prototype.firstChild,P.prototype.lastChild,P.prototype.nextSibling,P.prototype.previousSibling,P.prototype.firstElementChild,P.prototype.lastElementChild,P.prototype.nextElementSibling,P.prototype.previousElementSibling,P.prototype.childNodes,P.prototype.children,P.prototype.classList,P.prototype.textContent,P.prototype.innerHTML;let Yi=P;if(window.ShadyDOM&&window.ShadyDOM.inUse&&window.ShadyDOM.noPatch&&window.ShadyDOM.Wrapper){class s extends window.ShadyDOM.Wrapper{}Object.getOwnPropertyNames(P.prototype).forEach(e=>{e!="activeElement"&&(s.prototype[e]=P.prototype[e])}),Nr(s.prototype,["classList"]),Yi=s,Object.defineProperties(Wi.prototype,{localTarget:{get(){const e=this.event.currentTarget,t=e&&me(e).getOwnerRoot(),i=this.path;for(let r=0;r<i.length;r++){const n=i[r];if(me(n).getOwnerRoot()===t)return n}},configurable:!0},path:{get(){return window.ShadyDOM.composedPath(this.event)},configurable:!0}})}else Kd(P.prototype,["cloneNode","appendChild","insertBefore","removeChild","replaceChild","setAttribute","removeAttribute","querySelector","querySelectorAll"]),Nr(P.prototype,["parentNode","firstChild","lastChild","nextSibling","previousSibling","firstElementChild","lastElementChild","nextElementSibling","previousElementSibling","childNodes","children","classList"]),eh(P.prototype,["textContent","innerHTML","className"]);const me=function(s){if((s=s||document)instanceof Yi||s instanceof Wi)return s;let e=s.__domApi;return e||(e=s instanceof Event?new Wi(s):new Yi(s),s.__domApi=e),e},Ci=window.ShadyDOM,zr=window.ShadyCSS;function Mr(s,e){return f(s).getRootNode()===e}function th(s,e=!1){if(!Ci||!zr||!Ci.handlesDynamicScoping)return null;const t=zr.ScopingShim;if(!t)return null;const i=t.scopeForNode(s),r=f(s).getRootNode(),n=o=>{if(!Mr(o,r))return;const a=Array.from(Ci.nativeMethods.querySelectorAll.call(o,"*"));a.push(o);for(let l=0;l<a.length;l++){const d=a[l];if(!Mr(d,r))continue;const h=t.currentScopeForNode(d);h!==i&&(h!==""&&t.unscopeNode(d,h),t.scopeNode(d,i))}};if(n(s),e){const o=new MutationObserver(a=>{for(let l=0;l<a.length;l++){const d=a[l];for(let h=0;h<d.addedNodes.length;h++){const c=d.addedNodes[h];c.nodeType===Node.ELEMENT_NODE&&n(c)}}});return o.observe(s,{childList:!0,subtree:!0}),o}return null}const Ai="disable-upgrade",_o=s=>{for(;s;){const e=Object.getOwnPropertyDescriptor(s,"observedAttributes");if(e)return e.get;s=Object.getPrototypeOf(s.prototype).constructor}return()=>[]};j(s=>{const e=Qt(s);let t=_o(e);class i extends e{constructor(){super(),this.__isUpgradeDisabled}static get observedAttributes(){return t.call(this).concat(Ai)}_initializeProperties(){this.hasAttribute(Ai)?this.__isUpgradeDisabled=!0:super._initializeProperties()}_enableProperties(){this.__isUpgradeDisabled||super._enableProperties()}_canApplyPropertyDefault(n){return super._canApplyPropertyDefault(n)&&!(this.__isUpgradeDisabled&&this._isPropertyPending(n))}attributeChangedCallback(n,o,a,l){n==Ai?this.__isUpgradeDisabled&&a==null&&(super._initializeProperties(),this.__isUpgradeDisabled=!1,f(this).isConnected&&super.connectedCallback()):super.attributeChangedCallback(n,o,a,l)}connectedCallback(){this.__isUpgradeDisabled||super.connectedCallback()}disconnectedCallback(){this.__isUpgradeDisabled||super.disconnectedCallback()}}return i});const St="disable-upgrade";let ih=window.ShadyCSS;const mo=j(s=>{const e=pt(Qt(s)),t=Li?e:qd(e),i=_o(t),r={x:"pan-x",y:"pan-y",none:"none",all:"auto"};class n extends t{constructor(){super(),this.isAttached,this.__boundListeners,this._debouncers,this.__isUpgradeDisabled,this.__needsAttributesAtConnected,this._legacyForceObservedAttributes}static get importMeta(){return this.prototype.importMeta}created(){}__attributeReaction(a,l,d){(this.__dataAttributes&&this.__dataAttributes[a]||a===St)&&this.attributeChangedCallback(a,l,d,null)}setAttribute(a,l){if(wt&&!this._legacyForceObservedAttributes){const d=this.getAttribute(a);super.setAttribute(a,l),this.__attributeReaction(a,d,String(l))}else super.setAttribute(a,l)}removeAttribute(a){if(wt&&!this._legacyForceObservedAttributes){const l=this.getAttribute(a);super.removeAttribute(a),this.__attributeReaction(a,l,null)}else super.removeAttribute(a)}static get observedAttributes(){return wt&&!this.prototype._legacyForceObservedAttributes?(this.hasOwnProperty(JSCompiler_renameProperty("__observedAttributes",this))||(this.__observedAttributes=[],this.prototype,void 0),this.__observedAttributes):i.call(this).concat(St)}_enableProperties(){this.__isUpgradeDisabled||super._enableProperties()}_canApplyPropertyDefault(a){return super._canApplyPropertyDefault(a)&&!(this.__isUpgradeDisabled&&this._isPropertyPending(a))}connectedCallback(){this.__needsAttributesAtConnected&&this._takeAttributes(),this.__isUpgradeDisabled||(super.connectedCallback(),this.isAttached=!0,this.attached())}attached(){}disconnectedCallback(){this.__isUpgradeDisabled||(super.disconnectedCallback(),this.isAttached=!1,this.detached())}detached(){}attributeChangedCallback(a,l,d,h){l!==d&&(a==St?this.__isUpgradeDisabled&&d==null&&(this._initializeProperties(),this.__isUpgradeDisabled=!1,f(this).isConnected&&this.connectedCallback()):(super.attributeChangedCallback(a,l,d,h),this.attributeChanged(a,l,d)))}attributeChanged(a,l,d){}_initializeProperties(){if(tt&&this.hasAttribute(St))this.__isUpgradeDisabled=!0;else{let a=Object.getPrototypeOf(this);a.hasOwnProperty(JSCompiler_renameProperty("__hasRegisterFinished",a))||(this._registered(),a.__hasRegisterFinished=!0),super._initializeProperties(),this.root=this,this.created(),wt&&!this._legacyForceObservedAttributes&&(this.hasAttributes()?this._takeAttributes():this.parentNode||(this.__needsAttributesAtConnected=!0)),this._applyListeners()}}_takeAttributes(){const a=this.attributes;for(let l=0,d=a.length;l<d;l++){const h=a[l];this.__attributeReaction(h.name,null,h.value)}}_registered(){}ready(){this._ensureAttributes(),super.ready()}_ensureAttributes(){}_applyListeners(){}serialize(a){return this._serializeValue(a)}deserialize(a,l){return this._deserializeValue(a,l)}reflectPropertyToAttribute(a,l,d){this._propertyToAttribute(a,l,d)}serializeValueToAttribute(a,l,d){this._valueToNodeAttribute(d||this,a,l)}extend(a,l){if(!a||!l)return a||l;let d=Object.getOwnPropertyNames(l);for(let h,c=0;c<d.length&&(h=d[c]);c++){let _=Object.getOwnPropertyDescriptor(l,h);_&&Object.defineProperty(a,h,_)}return a}mixin(a,l){for(let d in l)a[d]=l[d];return a}chainObject(a,l){return a&&l&&a!==l&&(a.__proto__=l),a}instanceTemplate(a){let l=this.constructor._contentForTemplate(a);return document.importNode(l,!0)}fire(a,l,d){d=d||{},l=l??{};let h=new Event(a,{bubbles:d.bubbles===void 0||d.bubbles,cancelable:!!d.cancelable,composed:d.composed===void 0||d.composed});h.detail=l;let c=d.node||this;return f(c).dispatchEvent(h),h}listen(a,l,d){a=a||this;let h=this.__boundListeners||(this.__boundListeners=new WeakMap),c=h.get(a);c||(c={},h.set(a,c));let _=l+d;c[_]||(c[_]=this._addMethodEventListenerToNode(a,l,d,this))}unlisten(a,l,d){a=a||this;let h=this.__boundListeners&&this.__boundListeners.get(a),c=l+d,_=h&&h[c];_&&(this._removeEventListenerFromNode(a,l,_),h[c]=null)}setScrollDirection(a,l){Gn(l||this,r[a]||"auto")}$$(a){return this.root.querySelector(a)}get domHost(){let a=f(this).getRootNode();return a instanceof DocumentFragment?a.host:a}distributeContent(){const a=me(this);window.ShadyDOM&&a.shadowRoot&&ShadyDOM.flush()}getEffectiveChildNodes(){return me(this).getEffectiveChildNodes()}queryDistributedElements(a){return me(this).queryDistributedElements(a)}getEffectiveChildren(){return this.getEffectiveChildNodes().filter(function(a){return a.nodeType===Node.ELEMENT_NODE})}getEffectiveTextContent(){let a=this.getEffectiveChildNodes(),l=[];for(let d,h=0;d=a[h];h++)d.nodeType!==Node.COMMENT_NODE&&l.push(d.textContent);return l.join("")}queryEffectiveChildren(a){let l=this.queryDistributedElements(a);return l&&l[0]}queryAllEffectiveChildren(a){return this.queryDistributedElements(a)}getContentChildNodes(a){let l=this.root.querySelector(a||"slot");return l?me(l).getDistributedNodes():[]}getContentChildren(a){return this.getContentChildNodes(a).filter(function(l){return l.nodeType===Node.ELEMENT_NODE})}isLightDescendant(a){const l=this;return l!==a&&f(l).contains(a)&&f(l).getRootNode()===f(a).getRootNode()}isLocalDescendant(a){return this.root===f(a).getRootNode()}scopeSubtree(a,l=!1){return th(a,l)}getComputedStyleValue(a){return ih.getComputedStyleValue(this,a)}debounce(a,l,d){return this._debouncers=this._debouncers||{},this._debouncers[a]=F.debounce(this._debouncers[a],d>0?Y.after(d):U,l.bind(this))}isDebouncerActive(a){this._debouncers=this._debouncers||{};let l=this._debouncers[a];return!(!l||!l.isActive())}flushDebouncer(a){this._debouncers=this._debouncers||{};let l=this._debouncers[a];l&&l.flush()}cancelDebouncer(a){this._debouncers=this._debouncers||{};let l=this._debouncers[a];l&&l.cancel()}async(a,l){return l>0?Y.run(a.bind(this),l):~U.run(a.bind(this))}cancelAsync(a){a<0?U.cancel(~a):Y.cancel(a)}create(a,l){let d=document.createElement(a);if(l)if(d.setProperties)d.setProperties(l);else for(let h in l)d[h]=l[h];return d}elementMatches(a,l){return po(l||this,a)}toggleAttribute(a,l){let d=this;return arguments.length===3&&(d=arguments[2]),arguments.length==1&&(l=!d.hasAttribute(a)),l?(f(d).setAttribute(a,""),!0):(f(d).removeAttribute(a),!1)}toggleClass(a,l,d){d=d||this,arguments.length==1&&(l=!d.classList.contains(a)),l?d.classList.add(a):d.classList.remove(a)}transform(a,l){(l=l||this).style.webkitTransform=a,l.style.transform=a}translate3d(a,l,d,h){h=h||this,this.transform("translate3d("+a+","+l+","+d+")",h)}arrayDelete(a,l){let d;if(Array.isArray(a)){if(d=a.indexOf(l),d>=0)return a.splice(d,1)}else if(d=L(this,a).indexOf(l),d>=0)return this.splice(a,d,1);return null}_logger(a,l){switch(Array.isArray(l)&&l.length===1&&Array.isArray(l[0])&&(l=l[0]),a){case"log":case"warn":case"error":console[a](...l)}}_log(...a){this._logger("log",a)}_warn(...a){this._logger("warn",a)}_error(...a){this._logger("error",a)}_logf(a,...l){return["[%s::%s]",this.is,a,...l]}}return n.prototype.is="",n}),sh={attached:!0,detached:!0,ready:!0,created:!0,beforeRegister:!0,registered:!0,attributeChanged:!0,listeners:!0,hostAttributes:!0},fo={attached:!0,detached:!0,ready:!0,created:!0,beforeRegister:!0,registered:!0,attributeChanged:!0,behaviors:!0,_noAccessors:!0},rh=Object.assign({listeners:!0,hostAttributes:!0,properties:!0,observers:!0},fo);function nh(s,e,t){const i=s._noAccessors,r=Object.getOwnPropertyNames(s);for(let n=0;n<r.length;n++){let o=r[n];if(!(o in t))if(i)e[o]=s[o];else{let a=Object.getOwnPropertyDescriptor(s,o);a&&(a.configurable=!0,Object.defineProperty(e,o,a))}}}function oh(s,e,t){for(let i=0;i<e.length;i++)go(s,e[i],t,rh)}function go(s,e,t,i){nh(e,s,i);for(let r in sh)e[r]&&(t[r]=t[r]||[],t[r].push(e[r]))}function yo(s,e,t){e=e||[];for(let i=s.length-1;i>=0;i--){let r=s[i];r?Array.isArray(r)?yo(r,e):e.indexOf(r)<0&&(!t||t.indexOf(r)<0)&&e.unshift(r):console.warn("behavior is null, check for missing or 404 import")}return e}function kr(s,e){for(const t in e){const i=s[t],r=e[t];s[t]=!("value"in r)&&i&&"value"in i?Object.assign({value:i.value},r):r}}const Dr=mo(HTMLElement);function ah(s,e,t){let i;const r={};class n extends e{static _finalizeClass(){if(this.hasOwnProperty(JSCompiler_renameProperty("generatedFrom",this))){if(i)for(let l,d=0;d<i.length;d++)l=i[d],l.properties&&this.createProperties(l.properties),l.observers&&this.createObservers(l.observers,l.properties);s.properties&&this.createProperties(s.properties),s.observers&&this.createObservers(s.observers,s.properties),this._prepareTemplate()}else e._finalizeClass.call(this)}static get properties(){const l={};if(i)for(let d=0;d<i.length;d++)kr(l,i[d].properties);return kr(l,s.properties),l}static get observers(){let l=[];if(i)for(let d,h=0;h<i.length;h++)d=i[h],d.observers&&(l=l.concat(d.observers));return s.observers&&(l=l.concat(s.observers)),l}created(){super.created();const l=r.created;if(l)for(let d=0;d<l.length;d++)l[d].call(this)}_registered(){const l=n.prototype;if(!l.hasOwnProperty(JSCompiler_renameProperty("__hasRegisterFinished",l))){l.__hasRegisterFinished=!0,super._registered(),tt&&o(l);const d=Object.getPrototypeOf(this);let h=r.beforeRegister;if(h)for(let c=0;c<h.length;c++)h[c].call(d);if(h=r.registered,h)for(let c=0;c<h.length;c++)h[c].call(d)}}_applyListeners(){super._applyListeners();const l=r.listeners;if(l)for(let d=0;d<l.length;d++){const h=l[d];if(h)for(let c in h)this._addMethodEventListenerToNode(this,c,h[c])}}_ensureAttributes(){const l=r.hostAttributes;if(l)for(let d=l.length-1;d>=0;d--){const h=l[d];for(let c in h)this._ensureAttribute(c,h[c])}super._ensureAttributes()}ready(){super.ready();let l=r.ready;if(l)for(let d=0;d<l.length;d++)l[d].call(this)}attached(){super.attached();let l=r.attached;if(l)for(let d=0;d<l.length;d++)l[d].call(this)}detached(){super.detached();let l=r.detached;if(l)for(let d=0;d<l.length;d++)l[d].call(this)}attributeChanged(l,d,h){super.attributeChanged();let c=r.attributeChanged;if(c)for(let _=0;_<c.length;_++)c[_].call(this,l,d,h)}}if(t){Array.isArray(t)||(t=[t]);let a=e.prototype.behaviors;i=yo(t,null,a),n.prototype.behaviors=a?a.concat(t):i}const o=a=>{i&&oh(a,i,r),go(a,s,r,fo)};return tt||o(n.prototype),n.generatedFrom=s,n}const lh=function(s,e){s||console.warn("Polymer.Class requires `info` argument");let t=e?e(Dr):Dr;return t=ah(s,t,s.behaviors),t.is=t.prototype.is=s.is,t};function vs(s,e,t,i,r){let n;r&&(n=typeof t=="object"&&t!==null,n&&(i=s.__dataTemp[e]));let o=i!==t&&(i==i||t==t);return n&&o&&(s.__dataTemp[e]=t),o}const ws=j(s=>{class e extends s{_shouldPropertyChange(i,r,n){return vs(this,i,r,n,!0)}}return e}),bo=j(s=>{class e extends s{static get properties(){return{mutableData:Boolean}}_shouldPropertyChange(i,r,n){return vs(this,i,r,n,this.mutableData)}}return e});ws._mutablePropertyChange=vs;let Zi=null;function Ji(){return Zi}Ji.prototype=Object.create(HTMLTemplateElement.prototype,{constructor:{value:Ji,writable:!0}});const vo=Xt(Ji),dh=ws(vo);function hh(s,e){Zi=s,Object.setPrototypeOf(s,e.prototype),new e,Zi=null}const ch=Xt(class{});function wo(s,e){for(let t=0;t<e.length;t++){let i=e[t];if(!!s!=!!i.__hideTemplateChildren__)if(i.nodeType===Node.TEXT_NODE)s?(i.__polymerTextContent__=i.textContent,i.textContent=""):i.textContent=i.__polymerTextContent__;else if(i.localName==="slot")if(s)i.__polymerReplaced__=document.createComment("hidden-slot"),f(f(i).parentNode).replaceChild(i.__polymerReplaced__,i);else{const r=i.__polymerReplaced__;r&&f(f(r).parentNode).replaceChild(i,r)}else i.style&&(s?(i.__polymerDisplay__=i.style.display,i.style.display="none"):i.style.display=i.__polymerDisplay__);i.__hideTemplateChildren__=s,i._showHideChildren&&i._showHideChildren(s)}}class pe extends ch{constructor(e){super(),this._configureProperties(e),this.root=this._stampTemplate(this.__dataHost);let t=[];this.children=t;for(let r=this.root.firstChild;r;r=r.nextSibling)t.push(r),r.__templatizeInstance=this;this.__templatizeOwner&&this.__templatizeOwner.__hideTemplateChildren__&&this._showHideChildren(!0);let i=this.__templatizeOptions;(e&&i.instanceProps||!i.instanceProps)&&this._enableProperties()}_configureProperties(e){if(this.__templatizeOptions.forwardHostProp)for(let t in this.__hostProps)this._setPendingProperty(t,this.__dataHost["_host_"+t]);for(let t in e)this._setPendingProperty(t,e[t])}forwardHostProp(e,t){this._setPendingPropertyOrPath(e,t,!1,!0)&&this.__dataHost._enqueueClient(this)}_addEventListenerToNode(e,t,i){if(this._methodHost&&this.__templatizeOptions.parentModel)this._methodHost._addEventListenerToNode(e,t,r=>{r.model=this,i(r)});else{let r=this.__dataHost.__dataHost;r&&r._addEventListenerToNode(e,t,i)}}_showHideChildren(e){wo(e,this.children)}_setUnmanagedPropertyToNode(e,t,i){e.__hideTemplateChildren__&&e.nodeType==Node.TEXT_NODE&&t=="textContent"?e.__polymerTextContent__=i:super._setUnmanagedPropertyToNode(e,t,i)}get parentModel(){let e=this.__parentModel;if(!e){let t;e=this;do e=e.__dataHost.__dataHost;while((t=e.__templatizeOptions)&&!t.parentModel);this.__parentModel=e}return e}dispatchEvent(e){return!0}}pe.prototype.__dataHost,pe.prototype.__templatizeOptions,pe.prototype._methodHost,pe.prototype.__templatizeOwner,pe.prototype.__hostProps;const uh=ws(pe);function Lr(s){let e=s.__dataHost;return e&&e._methodHost||e}function ph(s,e,t){let i=t.mutableData?uh:pe;ht.mixin&&(i=ht.mixin(i));let r=class extends i{};return r.prototype.__templatizeOptions=t,r.prototype._bindTemplate(s),fh(r,s,e,t),r}function _h(s,e,t,i){let r=t.forwardHostProp;if(r&&e.hasHostProps){const n=s.localName=="template";let o=e.templatizeTemplateClass;if(!o){if(n){let l=t.mutableData?dh:vo;class d extends l{}o=e.templatizeTemplateClass=d}else{const l=s.constructor;class d extends l{}o=e.templatizeTemplateClass=d}let a=e.hostProps;for(let l in a)o.prototype._addPropertyEffect("_host_"+l,o.prototype.PROPERTY_EFFECT_TYPES.PROPAGATE,{fn:mh(l,r)}),o.prototype._createNotifyingProperty("_host_"+l);un&&i&&bh(e,t,i)}if(s.__dataProto&&Object.assign(s.__data,s.__dataProto),n)hh(s,o),s.__dataTemp={},s.__dataPending=null,s.__dataOld=null,s._enableProperties();else{Object.setPrototypeOf(s,o.prototype);const a=e.hostProps;for(let l in a)if(l="_host_"+l,l in s){const d=s[l];delete s[l],s.__data[l]=d}}}}function mh(s,e){return function(t,i,r){e.call(t.__templatizeOwner,i.substring(6),r[i])}}function fh(s,e,t,i){let r=t.hostProps||{};for(let n in i.instanceProps){delete r[n];let o=i.notifyInstanceProp;o&&s.prototype._addPropertyEffect(n,s.prototype.PROPERTY_EFFECT_TYPES.NOTIFY,{fn:gh(n,o)})}if(i.forwardHostProp&&e.__dataHost)for(let n in r)t.hasHostProps||(t.hasHostProps=!0),s.prototype._addPropertyEffect(n,s.prototype.PROPERTY_EFFECT_TYPES.NOTIFY,{fn:yh()})}function gh(s,e){return function(t,i,r){e.call(t.__templatizeOwner,t,i,r[i])}}function yh(){return function(s,e,t){s.__dataHost._setPendingPropertyOrPath("_host_"+e,t[e],!0,!0)}}function ht(s,e,t){if(Ne&&!Lr(s))throw new Error("strictTemplatePolicy: template owner not trusted");if(t=t||{},s.__templatizeOwner)throw new Error("A <template> can only be templatized once");s.__templatizeOwner=e;let i=(e?e.constructor:pe)._parseTemplate(s),r=i.templatizeInstanceClass;r||(r=ph(s,i,t),i.templatizeInstanceClass=r);const n=Lr(s);_h(s,i,t,n);let o=class extends r{};return o.prototype._methodHost=n,o.prototype.__dataHost=s,o.prototype.__templatizeOwner=e,o.prototype.__hostProps=i.hostProps,o}function bh(s,e,t){const i=t.constructor._properties,{propertyEffects:r}=s,{instanceProps:n}=e;for(let o in r)if(!(i[o]||n&&n[o])){const a=r[o];for(let l=0;l<a.length;l++){const{part:d}=a[l].info;if(!d.signature||!d.signature.static){console.warn(`Property '${o}' used in template but not declared in 'properties'; attribute will not be observed.`);break}}}}function vh(s,e){let t;for(;e;)if(t=e.__dataHost?e:e.__templatizeInstance){if(t.__dataHost==s)return t;e=t.__dataHost}else e=f(e).parentNode;return null}let Hr=!1;function Cs(){if(tt&&!ts){if(!Hr){Hr=!0;const s=document.createElement("style");s.textContent="dom-bind,dom-if,dom-repeat{display:none;}",document.head.appendChild(s)}return!0}return!1}const wh=pt(bo(Xt(HTMLElement)));class Ch extends wh{static get observedAttributes(){return["mutable-data"]}constructor(){if(super(),Ne)throw new Error("strictTemplatePolicy: dom-bind not allowed");this.root=null,this.$=null,this.__children=null}attributeChangedCallback(e,t,i,r){this.mutableData=!0}connectedCallback(){Cs()||(this.style.display="none"),this.render()}disconnectedCallback(){this.__removeChildren()}__insertChildren(){f(f(this).parentNode).insertBefore(this.root,this)}__removeChildren(){if(this.__children)for(let e=0;e<this.__children.length;e++)this.root.appendChild(this.__children[e])}render(){let e;if(!this.__children){if(e=e||this.querySelector("template"),!e){let t=new MutationObserver(()=>{if(e=this.querySelector("template"),!e)throw new Error("dom-bind requires a <template> child");t.disconnect(),this.render()});return void t.observe(this,{childList:!0})}this.root=this._stampTemplate(e),this.$=this.root.$,this.__children=[];for(let t=this.root.firstChild;t;t=t.nextSibling)this.__children[this.__children.length]=t;this._enableProperties()}this.__insertChildren(),this.dispatchEvent(new CustomEvent("dom-change",{bubbles:!0,composed:!0}))}}customElements.define("dom-bind",Ch);const Ah=bo(ie);class $r extends Ah{static get is(){return"dom-repeat"}static get template(){return null}static get properties(){return{items:{type:Array},as:{type:String,value:"item"},indexAs:{type:String,value:"index"},itemsIndexAs:{type:String,value:"itemsIndex"},sort:{type:Function,observer:"__sortChanged"},filter:{type:Function,observer:"__filterChanged"},observe:{type:String,observer:"__observeChanged"},delay:Number,renderedItemCount:{type:Number,notify:!Ti,readOnly:!0},initialCount:{type:Number},targetFramerate:{type:Number,value:20},_targetFrameTime:{type:Number,computed:"__computeFrameTime(targetFramerate)"},notifyDomChange:{type:Boolean},reuseChunkedInstances:{type:Boolean}}}static get observers(){return["__itemsChanged(items.*)"]}constructor(){super(),this.__instances=[],this.__renderDebouncer=null,this.__itemsIdxToInstIdx={},this.__chunkCount=null,this.__renderStartTime=null,this.__itemsArrayChanged=!1,this.__shouldMeasureChunk=!1,this.__shouldContinueChunking=!1,this.__chunkingId=0,this.__sortFn=null,this.__filterFn=null,this.__observePaths=null,this.__ctor=null,this.__isDetached=!0,this.template=null,this._templateInfo}disconnectedCallback(){super.disconnectedCallback(),this.__isDetached=!0;for(let e=0;e<this.__instances.length;e++)this.__detachInstance(e)}connectedCallback(){if(super.connectedCallback(),Cs()||(this.style.display="none"),this.__isDetached){this.__isDetached=!1;let e=f(f(this).parentNode);for(let t=0;t<this.__instances.length;t++)this.__attachInstance(t,e)}}__ensureTemplatized(){if(!this.__ctor){const e=this;let t=this.template=e._templateInfo?e:this.querySelector("template");if(!t){let r=new MutationObserver(()=>{if(!this.querySelector("template"))throw new Error("dom-repeat requires a <template> child");r.disconnect(),this.__render()});return r.observe(this,{childList:!0}),!1}let i={};i[this.as]=!0,i[this.indexAs]=!0,i[this.itemsIndexAs]=!0,this.__ctor=ht(t,this,{mutableData:this.mutableData,parentModel:!0,instanceProps:i,forwardHostProp:function(r,n){let o=this.__instances;for(let a,l=0;l<o.length&&(a=o[l]);l++)a.forwardHostProp(r,n)},notifyInstanceProp:function(r,n,o){if(ja(this.as,n)){let a=r[this.itemsIndexAs];n==this.as&&(this.items[a]=o);let l=ot(this.as,`${JSCompiler_renameProperty("items",this)}.${a}`,n);this.notifyPath(l,o)}}})}return!0}__getMethodHost(){return this.__dataHost._methodHost||this.__dataHost}__functionFromPropertyValue(e){if(typeof e=="string"){let t=e,i=this.__getMethodHost();return function(){return i[t].apply(i,arguments)}}return e}__sortChanged(e){this.__sortFn=this.__functionFromPropertyValue(e),this.items&&this.__debounceRender(this.__render)}__filterChanged(e){this.__filterFn=this.__functionFromPropertyValue(e),this.items&&this.__debounceRender(this.__render)}__computeFrameTime(e){return Math.ceil(1e3/e)}__observeChanged(){this.__observePaths=this.observe&&this.observe.replace(".*",".").split(" ")}__handleObservedPaths(e){if(this.__sortFn||this.__filterFn)if(e){if(this.__observePaths){let t=this.__observePaths;for(let i=0;i<t.length;i++)e.indexOf(t[i])===0&&this.__debounceRender(this.__render,this.delay)}}else this.__debounceRender(this.__render,this.delay)}__itemsChanged(e){this.items&&!Array.isArray(this.items)&&console.warn("dom-repeat expected array for `items`, found",this.items),this.__handleItemPath(e.path,e.value)||(e.path==="items"&&(this.__itemsArrayChanged=!0),this.__debounceRender(this.__render))}__debounceRender(e,t=0){this.__renderDebouncer=F.debounce(this.__renderDebouncer,t>0?Y.after(t):U,e.bind(this)),Kt(this.__renderDebouncer)}render(){this.__debounceRender(this.__render),Me()}__render(){if(!this.__ensureTemplatized())return;let e=this.items||[];const t=this.__sortAndFilterItems(e),i=this.__calculateLimit(t.length);this.__updateInstances(e,i,t),this.initialCount&&(this.__shouldMeasureChunk||this.__shouldContinueChunking)&&(cancelAnimationFrame(this.__chunkingId),this.__chunkingId=requestAnimationFrame(()=>this.__continueChunking())),this._setRenderedItemCount(this.__instances.length),Ti&&!this.notifyDomChange||this.dispatchEvent(new CustomEvent("dom-change",{bubbles:!0,composed:!0}))}__sortAndFilterItems(e){let t=new Array(e.length);for(let i=0;i<e.length;i++)t[i]=i;return this.__filterFn&&(t=t.filter((i,r,n)=>this.__filterFn(e[i],r,n))),this.__sortFn&&t.sort((i,r)=>this.__sortFn(e[i],e[r])),t}__calculateLimit(e){let t=e;const i=this.__instances.length;if(this.initialCount){let r;!this.__chunkCount||this.__itemsArrayChanged&&!this.reuseChunkedInstances?(t=Math.min(e,this.initialCount),r=Math.max(t-i,0),this.__chunkCount=r||1):(r=Math.min(Math.max(e-i,0),this.__chunkCount),t=Math.min(i+r,e)),this.__shouldMeasureChunk=r===this.__chunkCount,this.__shouldContinueChunking=t<e,this.__renderStartTime=performance.now()}return this.__itemsArrayChanged=!1,t}__continueChunking(){if(this.__shouldMeasureChunk){const e=performance.now()-this.__renderStartTime,t=this._targetFrameTime/e;this.__chunkCount=Math.round(this.__chunkCount*t)||1}this.__shouldContinueChunking&&this.__debounceRender(this.__render)}__updateInstances(e,t,i){const r=this.__itemsIdxToInstIdx={};let n;for(n=0;n<t;n++){let o=this.__instances[n],a=i[n],l=e[a];r[a]=n,o?(o._setPendingProperty(this.as,l),o._setPendingProperty(this.indexAs,n),o._setPendingProperty(this.itemsIndexAs,a),o._flushProperties()):this.__insertInstance(l,n,a)}for(let o=this.__instances.length-1;o>=n;o--)this.__detachAndRemoveInstance(o)}__detachInstance(e){let t=this.__instances[e];const i=f(t.root);for(let r=0;r<t.children.length;r++){let n=t.children[r];i.appendChild(n)}return t}__attachInstance(e,t){let i=this.__instances[e];t.insertBefore(i.root,this)}__detachAndRemoveInstance(e){this.__detachInstance(e),this.__instances.splice(e,1)}__stampInstance(e,t,i){let r={};return r[this.as]=e,r[this.indexAs]=t,r[this.itemsIndexAs]=i,new this.__ctor(r)}__insertInstance(e,t,i){const r=this.__stampInstance(e,t,i);let n=this.__instances[t+1],o=n?n.children[0]:this;return f(f(this).parentNode).insertBefore(r.root,o),this.__instances[t]=r,r}_showHideChildren(e){for(let t=0;t<this.__instances.length;t++)this.__instances[t]._showHideChildren(e)}__handleItemPath(e,t){let i=e.slice(6),r=i.indexOf("."),n=r<0?i:i.substring(0,r);if(n==parseInt(n,10)){let o=r<0?"":i.substring(r+1);this.__handleObservedPaths(o);let a=this.__itemsIdxToInstIdx[n],l=this.__instances[a];if(l){let d=this.as+(o?"."+o:"");l._setPendingPropertyOrPath(d,t,!1,!0),l._flushProperties()}return!0}}itemForElement(e){let t=this.modelForElement(e);return t&&t[this.as]}indexForElement(e){let t=this.modelForElement(e);return t&&t[this.indexAs]}modelForElement(e){return vh(this.template,e)}}customElements.define($r.is,$r);class Co extends ie{static get is(){return"dom-if"}static get template(){return null}static get properties(){return{if:{type:Boolean,observer:"__debounceRender"},restamp:{type:Boolean,observer:"__debounceRender"},notifyDomChange:{type:Boolean}}}constructor(){super(),this.__renderDebouncer=null,this._lastIf=!1,this.__hideTemplateChildren__=!1,this.__template,this._templateInfo}__debounceRender(){this.__renderDebouncer=F.debounce(this.__renderDebouncer,U,()=>this.__render()),Kt(this.__renderDebouncer)}disconnectedCallback(){super.disconnectedCallback();const e=f(this).parentNode;e&&(e.nodeType!=Node.DOCUMENT_FRAGMENT_NODE||f(e).host)||this.__teardownInstance()}connectedCallback(){super.connectedCallback(),Cs()||(this.style.display="none"),this.if&&this.__debounceRender()}__ensureTemplate(){if(!this.__template){const e=this;let t=e._templateInfo?e:f(e).querySelector("template");if(!t){let i=new MutationObserver(()=>{if(!f(this).querySelector("template"))throw new Error("dom-if requires a <template> child");i.disconnect(),this.__render()});return i.observe(this,{childList:!0}),!1}this.__template=t}return!0}__ensureInstance(){let e=f(this).parentNode;if(this.__hasInstance()){let t=this.__getInstanceNodes();if(t&&t.length&&f(this).previousSibling!==t[t.length-1])for(let i,r=0;r<t.length&&(i=t[r]);r++)f(e).insertBefore(i,this)}else{if(!e||!this.__ensureTemplate())return!1;this.__createAndInsertInstance(e)}return!0}render(){Me()}__render(){if(this.if){if(!this.__ensureInstance())return}else this.restamp&&this.__teardownInstance();this._showHideChildren(),Ti&&!this.notifyDomChange||this.if==this._lastIf||(this.dispatchEvent(new CustomEvent("dom-change",{bubbles:!0,composed:!0})),this._lastIf=this.if)}__hasInstance(){}__getInstanceNodes(){}__createAndInsertInstance(e){}__teardownInstance(){}_showHideChildren(){}}class Sh extends Co{constructor(){super(),this.__instance=null,this.__syncInfo=null}__hasInstance(){return!!this.__instance}__getInstanceNodes(){return this.__instance.templateInfo.childNodes}__createAndInsertInstance(e){const t=this.__dataHost||this;if(Ne&&!this.__dataHost)throw new Error("strictTemplatePolicy: template owner not trusted");const i=t._bindTemplate(this.__template,!0);i.runEffects=(r,n,o)=>{let a=this.__syncInfo;if(this.if)a&&(this.__syncInfo=null,this._showHideChildren(),n=Object.assign(a.changedProps,n)),r(n,o);else if(this.__instance)if(a||(a=this.__syncInfo={runEffects:r,changedProps:{}}),o)for(const l in n){const d=te(l);a.changedProps[d]=this.__dataHost[d]}else Object.assign(a.changedProps,n)},this.__instance=t._stampTemplate(this.__template,i),f(e).insertBefore(this.__instance,this)}__syncHostProperties(){const e=this.__syncInfo;e&&(this.__syncInfo=null,e.runEffects(e.changedProps,!1))}__teardownInstance(){const e=this.__dataHost||this;this.__instance&&(e._removeBoundDom(this.__instance),this.__instance=null,this.__syncInfo=null)}_showHideChildren(){const e=this.__hideTemplateChildren__||!this.if;this.__instance&&!!this.__instance.__hidden!==e&&(this.__instance.__hidden=e,wo(e,this.__instance.templateInfo.childNodes)),e||this.__syncHostProperties()}}class xh extends Co{constructor(){super(),this.__ctor=null,this.__instance=null,this.__invalidProps=null}__hasInstance(){return!!this.__instance}__getInstanceNodes(){return this.__instance.children}__createAndInsertInstance(e){this.__ctor||(this.__ctor=ht(this.__template,this,{mutableData:!0,forwardHostProp:function(t,i){this.__instance&&(this.if?this.__instance.forwardHostProp(t,i):(this.__invalidProps=this.__invalidProps||Object.create(null),this.__invalidProps[te(t)]=!0))}})),this.__instance=new this.__ctor,f(e).insertBefore(this.__instance.root,this)}__teardownInstance(){if(this.__instance){let e=this.__instance.children;if(e&&e.length){let t=f(e[0]).parentNode;if(t){t=f(t);for(let i,r=0;r<e.length&&(i=e[r]);r++)t.removeChild(i)}}this.__invalidProps=null,this.__instance=null}}__syncHostProperties(){let e=this.__invalidProps;if(e){this.__invalidProps=null;for(let t in e)this.__instance._setPendingProperty(t,this.__dataHost[t]);this.__instance._flushProperties()}}_showHideChildren(){const e=this.__hideTemplateChildren__||!this.if;this.__instance&&!!this.__instance.__hidden!==e&&(this.__instance.__hidden=e,this.__instance._showHideChildren(e)),e||this.__syncHostProperties()}}const Br=pn?Sh:xh;customElements.define(Br.is,Br);let Eh=j(s=>{let e=Qt(s);class t extends e{static get properties(){return{items:{type:Array},multi:{type:Boolean,value:!1},selected:{type:Object,notify:!0},selectedItem:{type:Object,notify:!0},toggle:{type:Boolean,value:!1}}}static get observers(){return["__updateSelection(multi, items.*)"]}constructor(){super(),this.__lastItems=null,this.__lastMulti=null,this.__selectedMap=null}__updateSelection(r,n){let o=n.path;if(o==JSCompiler_renameProperty("items",this)){let a=n.base||[],l=this.__lastItems;if(r!==this.__lastMulti&&this.clearSelection(),l){let d=uo(a,l);this.__applySplices(d)}this.__lastItems=a,this.__lastMulti=r}else if(n.path==`${JSCompiler_renameProperty("items",this)}.splices`)this.__applySplices(n.value.indexSplices);else{let a=o.slice(`${JSCompiler_renameProperty("items",this)}.`.length),l=parseInt(a,10);a.indexOf(".")<0&&a==l&&this.__deselectChangedIdx(l)}}__applySplices(r){let n=this.__selectedMap;for(let a=0;a<r.length;a++){let l=r[a];n.forEach((d,h)=>{d<l.index||(d>=l.index+l.removed.length?n.set(h,d+l.addedCount-l.removed.length):n.set(h,-1))});for(let d=0;d<l.addedCount;d++){let h=l.index+d;n.has(this.items[h])&&n.set(this.items[h],h)}}this.__updateLinks();let o=0;n.forEach((a,l)=>{a<0?(this.multi?this.splice(JSCompiler_renameProperty("selected",this),o,1):this.selected=this.selectedItem=null,n.delete(l)):o++})}__updateLinks(){if(this.__dataLinkedPaths={},this.multi){let r=0;this.__selectedMap.forEach(n=>{n>=0&&this.linkPaths(`${JSCompiler_renameProperty("items",this)}.${n}`,`${JSCompiler_renameProperty("selected",this)}.${r++}`)})}else this.__selectedMap.forEach(r=>{this.linkPaths(JSCompiler_renameProperty("selected",this),`${JSCompiler_renameProperty("items",this)}.${r}`),this.linkPaths(JSCompiler_renameProperty("selectedItem",this),`${JSCompiler_renameProperty("items",this)}.${r}`)})}clearSelection(){this.__dataLinkedPaths={},this.__selectedMap=new Map,this.selected=this.multi?[]:null,this.selectedItem=null}isSelected(r){return this.__selectedMap.has(r)}isIndexSelected(r){return this.isSelected(this.items[r])}__deselectChangedIdx(r){let n=this.__selectedIndexForItemIndex(r);if(n>=0){let o=0;this.__selectedMap.forEach((a,l)=>{n==o++&&this.deselect(l)})}}__selectedIndexForItemIndex(r){let n=this.__dataLinkedPaths[`${JSCompiler_renameProperty("items",this)}.${r}`];if(n)return parseInt(n.slice(`${JSCompiler_renameProperty("selected",this)}.`.length),10)}deselect(r){let n=this.__selectedMap.get(r);if(n>=0){let o;this.__selectedMap.delete(r),this.multi&&(o=this.__selectedIndexForItemIndex(n)),this.__updateLinks(),this.multi?this.splice(JSCompiler_renameProperty("selected",this),o,1):this.selected=this.selectedItem=null}}deselectIndex(r){this.deselect(this.items[r])}select(r){this.selectIndex(this.items.indexOf(r))}selectIndex(r){let n=this.items[r];this.isSelected(n)?this.toggle&&this.deselectIndex(r):(this.multi||this.__selectedMap.clear(),this.__selectedMap.set(n,r),this.__updateLinks(),this.multi?this.push(JSCompiler_renameProperty("selected",this),n):this.selected=this.selectedItem=n)}}return t})(ie);class Vr extends Eh{static get is(){return"array-selector"}static get template(){return null}}customElements.define(Vr.is,Vr);const Se=mo(HTMLElement).prototype;var xt=new Set;const Ih={properties:{_parentResizable:{type:Object,observer:"_parentResizableChanged"},_notifyingDescendant:{type:Boolean,value:!1}},listeners:{"iron-request-resize-notifications":"_onIronRequestResizeNotifications"},created:function(){this._interestedResizables=[],this._boundNotifyResize=this.notifyResize.bind(this),this._boundOnDescendantIronResize=this._onDescendantIronResize.bind(this)},attached:function(){this._requestResizeNotifications()},detached:function(){this._parentResizable?this._parentResizable.stopResizeNotificationsFor(this):(xt.delete(this),window.removeEventListener("resize",this._boundNotifyResize)),this._parentResizable=null},notifyResize:function(){this.isAttached&&(this._interestedResizables.forEach(function(s){this.resizerShouldNotify(s)&&this._notifyDescendant(s)},this),this._fireResize())},assignParentResizable:function(s){this._parentResizable&&this._parentResizable.stopResizeNotificationsFor(this),this._parentResizable=s,s&&s._interestedResizables.indexOf(this)===-1&&(s._interestedResizables.push(this),s._subscribeIronResize(this))},stopResizeNotificationsFor:function(s){var e=this._interestedResizables.indexOf(s);e>-1&&(this._interestedResizables.splice(e,1),this._unsubscribeIronResize(s))},_subscribeIronResize:function(s){s.addEventListener("iron-resize",this._boundOnDescendantIronResize)},_unsubscribeIronResize:function(s){s.removeEventListener("iron-resize",this._boundOnDescendantIronResize)},resizerShouldNotify:function(s){return!0},_onDescendantIronResize:function(s){this._notifyingDescendant?s.stopPropagation():ts||this._fireResize()},_fireResize:function(){this.fire("iron-resize",null,{node:this,bubbles:!1})},_onIronRequestResizeNotifications:function(s){var e=me(s).rootTarget;e!==this&&(e.assignParentResizable(this),this._notifyDescendant(e),s.stopPropagation())},_parentResizableChanged:function(s){s&&window.removeEventListener("resize",this._boundNotifyResize)},_notifyDescendant:function(s){this.isAttached&&(this._notifyingDescendant=!0,s.notifyResize(),this._notifyingDescendant=!1)},_requestResizeNotifications:function(){if(this.isAttached)if(document.readyState==="loading"){var s=this._requestResizeNotifications.bind(this);document.addEventListener("readystatechange",function e(){document.removeEventListener("readystatechange",e),s()})}else this._findParent(),this._parentResizable?this._parentResizable._interestedResizables.forEach(function(e){e!==this&&e._findParent()},this):(xt.forEach(function(e){e!==this&&e._findParent()},this),window.addEventListener("resize",this._boundNotifyResize),this.notifyResize())},_findParent:function(){this.assignParentResizable(null),this.fire("iron-request-resize-notifications",null,{node:this,bubbles:!0,cancelable:!0}),this._parentResizable?xt.delete(this):xt.add(this)}},Ph={properties:{scrollTarget:{type:HTMLElement,value:function(){return this._defaultScrollTarget}}},observers:["_scrollTargetChanged(scrollTarget, isAttached)"],_shouldHaveListener:!0,_scrollTargetChanged:function(s,e){if(this._oldScrollTarget&&(this._toggleScrollListener(!1,this._oldScrollTarget),this._oldScrollTarget=null),e)if(s==="document")this.scrollTarget=this._doc;else if(typeof s=="string"){var t=this.domHost;this.scrollTarget=t&&t.$?t.$[s]:me(this.ownerDocument).querySelector("#"+s)}else this._isValidScrollTarget()&&(this._oldScrollTarget=s,this._toggleScrollListener(this._shouldHaveListener,s))},_scrollHandler:function(){},get _defaultScrollTarget(){return this._doc},get _doc(){return this.ownerDocument.documentElement},get _scrollTop(){return this._isValidScrollTarget()?this.scrollTarget===this._doc?window.pageYOffset:this.scrollTarget.scrollTop:0},get _scrollLeft(){return this._isValidScrollTarget()?this.scrollTarget===this._doc?window.pageXOffset:this.scrollTarget.scrollLeft:0},set _scrollTop(s){this.scrollTarget===this._doc?window.scrollTo(window.pageXOffset,s):this._isValidScrollTarget()&&(this.scrollTarget.scrollTop=s)},set _scrollLeft(s){this.scrollTarget===this._doc?window.scrollTo(s,window.pageYOffset):this._isValidScrollTarget()&&(this.scrollTarget.scrollLeft=s)},scroll:function(s,e){var t;typeof s=="object"?(t=s.left,e=s.top):t=s,t=t||0,e=e||0,this.scrollTarget===this._doc?window.scrollTo(t,e):this._isValidScrollTarget()&&(this.scrollTarget.scrollLeft=t,this.scrollTarget.scrollTop=e)},get _scrollTargetWidth(){return this._isValidScrollTarget()?this.scrollTarget===this._doc?window.innerWidth:this.scrollTarget.offsetWidth:0},get _scrollTargetHeight(){return this._isValidScrollTarget()?this.scrollTarget===this._doc?window.innerHeight:this.scrollTarget.offsetHeight:0},_isValidScrollTarget:function(){return this.scrollTarget instanceof HTMLElement},_toggleScrollListener:function(s,e){var t=e===this._doc?window:e;s?this._boundScrollHandler||(this._boundScrollHandler=this._scrollHandler.bind(this),t.addEventListener("scroll",this._boundScrollHandler)):this._boundScrollHandler&&(t.removeEventListener("scroll",this._boundScrollHandler),this._boundScrollHandler=null)},toggleScrollListener:function(s){this._shouldHaveListener=s,this._toggleScrollListener(s,this.scrollTarget)}},jr=navigator.userAgent.match(/iP(?:hone|ad;(?: U;)? CPU) OS (\d+)/),Th=jr&&jr[1]>=8,Gr=3,Oh=lh({behaviors:[Ih,Ph],_ratio:.5,_scrollerPaddingTop:0,_scrollPosition:0,_physicalSize:0,_physicalAverage:0,_physicalAverageCount:0,_physicalTop:0,_virtualCount:0,_estScrollHeight:0,_scrollHeight:0,_viewportHeight:0,_viewportWidth:0,_physicalItems:null,_physicalSizes:null,_firstVisibleIndexVal:null,_lastVisibleIndexVal:null,_maxPages:2,_focusedVirtualIndex:-1,_templateCost:0,get _physicalBottom(){return this._physicalTop+this._physicalSize},get _scrollBottom(){return this._scrollPosition+this._viewportHeight},get _virtualEnd(){return this._virtualStart+this._physicalCount-1},get _hiddenContentSize(){return this._physicalSize-this._viewportHeight},get _maxScrollTop(){return this._estScrollHeight-this._viewportHeight+this._scrollOffset},get _maxVirtualStart(){return Math.max(0,this._virtualCount-this._physicalCount)},set _virtualStart(s){s=this._clamp(s,0,this._maxVirtualStart),this._virtualStartVal=s},get _virtualStart(){return this._virtualStartVal||0},set _physicalStart(s){(s%=this._physicalCount)<0&&(s=this._physicalCount+s),this._physicalStartVal=s},get _physicalStart(){return this._physicalStartVal||0},get _physicalEnd(){return(this._physicalStart+this._physicalCount-1)%this._physicalCount},set _physicalCount(s){this._physicalCountVal=s},get _physicalCount(){return this._physicalCountVal||0},get _optPhysicalSize(){return this._viewportHeight===0?1/0:this._viewportHeight*this._maxPages},get _isVisible(){return!!(this.offsetWidth||this.offsetHeight)},get firstVisibleIndex(){let s=this._firstVisibleIndexVal;if(s==null){let e=this._physicalTop+this._scrollOffset;s=this._iterateItems(function(t,i){if(e+=this._physicalSizes[t],e>this._scrollPosition)return i})||0,this._firstVisibleIndexVal=s}return s},get lastVisibleIndex(){let s=this._lastVisibleIndexVal;if(s==null){let e=this._physicalTop+this._scrollOffset;this._iterateItems(function(t,i){e<this._scrollBottom&&(s=i),e+=this._physicalSizes[t]}),this._lastVisibleIndexVal=s}return s},get _scrollOffset(){return this._scrollerPaddingTop},attached:function(){this._debounce("_render",this._render,Q),this.listen(this,"iron-resize","_resizeHandler")},detached:function(){this.unlisten(this,"iron-resize","_resizeHandler")},updateViewportBoundaries:function(){const s=window.getComputedStyle(this);this._scrollerPaddingTop=this.scrollTarget===this?0:parseInt(s["padding-top"],10),this._isRTL=s.direction==="rtl",this._viewportWidth=this.$.items.offsetWidth,this._viewportHeight=this._scrollTargetHeight},_scrollHandler:function(){const s=Math.max(0,Math.min(this._maxScrollTop,this._scrollTop));let e=s-this._scrollPosition;const t=e>=0;if(this._scrollPosition=s,this._firstVisibleIndexVal=null,this._lastVisibleIndexVal=null,Math.abs(e)>this._physicalSize&&this._physicalSize>0){e-=this._scrollOffset;const i=Math.round(e/this._physicalAverage);this._virtualStart=this._virtualStart+i,this._physicalStart=this._physicalStart+i,this._physicalTop=Math.floor(this._virtualStart)*this._physicalAverage,this._update()}else if(this._physicalCount>0){const{physicalTop:i,indexes:r}=this._getReusables(t);t?(this._physicalTop=i,this._virtualStart=this._virtualStart+r.length,this._physicalStart=this._physicalStart+r.length):(this._virtualStart=this._virtualStart-r.length,this._physicalStart=this._physicalStart-r.length),this._update(r,t?null:r),this._debounce("_increasePoolIfNeeded",this._increasePoolIfNeeded.bind(this,0),U)}},_getReusables:function(s){let e,t,i;const r=[],n=this._hiddenContentSize*this._ratio,o=this._virtualStart,a=this._virtualEnd,l=this._physicalCount;let d=this._physicalTop+this._scrollOffset;const h=this._physicalBottom+this._scrollOffset,c=this._scrollTop,_=this._scrollBottom;for(s?(e=this._physicalStart,t=c-d):(e=this._physicalEnd,t=h-_);i=this._physicalSizes[e],t-=i,!(r.length>=l||t<=n);)if(s){if(a+r.length+1>=this._virtualCount||d+i>=c-this._scrollOffset)break;r.push(e),d+=i,e=(e+1)%l}else{if(o-r.length<=0||d+this._physicalSize-i<=_)break;r.push(e),d-=i,e=e===0?l-1:e-1}return{indexes:r,physicalTop:d-this._scrollOffset}},_update:function(s,e){if(!(s&&s.length===0||this._physicalCount===0)){if(this._assignModels(s),this._updateMetrics(s),e)for(;e.length;){const t=e.pop();this._physicalTop-=this._physicalSizes[t]}this._positionItems(),this._updateScrollerSize()}},_isClientFull:function(){return this._scrollBottom!=0&&this._physicalBottom-1>=this._scrollBottom&&this._physicalTop<=this._scrollPosition},_increasePoolIfNeeded:function(s){const e=this._clamp(this._physicalCount+s,Gr,this._virtualCount-this._virtualStart)-this._physicalCount;let t=Math.round(.5*this._physicalCount);if(!(e<0)){if(e>0){const i=window.performance.now();[].push.apply(this._physicalItems,this._createPool(e));for(let r=0;r<e;r++)this._physicalSizes.push(0);this._physicalCount=this._physicalCount+e,this._physicalStart>this._physicalEnd&&this._isIndexRendered(this._focusedVirtualIndex)&&this._getPhysicalIndex(this._focusedVirtualIndex)<this._physicalEnd&&(this._physicalStart=this._physicalStart+e),this._update(),this._templateCost=(window.performance.now()-i)/e,t=Math.round(.5*this._physicalCount)}this._virtualEnd>=this._virtualCount-1||t===0||(this._isClientFull()?this._physicalSize<this._optPhysicalSize&&this._debounce("_increasePoolIfNeeded",this._increasePoolIfNeeded.bind(this,this._clamp(Math.round(50/this._templateCost),1,t)),Pn):this._debounce("_increasePoolIfNeeded",this._increasePoolIfNeeded.bind(this,t),U))}},_render:function(){if(this.isAttached&&this._isVisible)if(this._physicalCount!==0){const{physicalTop:s,indexes:e}=this._getReusables(!0);this._physicalTop=s,this._virtualStart=this._virtualStart+e.length,this._physicalStart=this._physicalStart+e.length,this._update(e),this._update(),this._increasePoolIfNeeded(0)}else this._virtualCount>0&&(this.updateViewportBoundaries(),this._increasePoolIfNeeded(Gr))},_itemsChanged:function(s){s.path==="items"&&(this._virtualStart=0,this._physicalTop=0,this._virtualCount=this.items?this.items.length:0,this._physicalIndexForKey={},this._firstVisibleIndexVal=null,this._lastVisibleIndexVal=null,this._physicalCount=this._physicalCount||0,this._physicalItems=this._physicalItems||[],this._physicalSizes=this._physicalSizes||[],this._physicalStart=0,this._scrollTop>this._scrollOffset&&this._resetScrollPosition(0),this._debounce("_render",this._render,Q))},_iterateItems:function(s,e){let t,i,r,n;if(arguments.length===2&&e){for(n=0;n<e.length;n++)if(t=e[n],i=this._computeVidx(t),(r=s.call(this,t,i))!=null)return r}else{for(t=this._physicalStart,i=this._virtualStart;t<this._physicalCount;t++,i++)if((r=s.call(this,t,i))!=null)return r;for(t=0;t<this._physicalStart;t++,i++)if((r=s.call(this,t,i))!=null)return r}},_computeVidx:function(s){return s>=this._physicalStart?this._virtualStart+(s-this._physicalStart):this._virtualStart+(this._physicalCount-this._physicalStart)+s},_updateMetrics:function(s){Me();let e=0,t=0;const i=this._physicalAverageCount,r=this._physicalAverage;this._iterateItems(function(n){t+=this._physicalSizes[n],this._physicalSizes[n]=this._physicalItems[n].offsetHeight,e+=this._physicalSizes[n],this._physicalAverageCount+=this._physicalSizes[n]?1:0},s),this._physicalSize=this._physicalSize+e-t,this._physicalAverageCount!==i&&(this._physicalAverage=Math.round((r*i+e)/this._physicalAverageCount))},_positionItems:function(){this._adjustScrollPosition();let s=this._physicalTop;this._iterateItems(function(e){this.translate3d(0,s+"px",0,this._physicalItems[e]),s+=this._physicalSizes[e]})},_adjustScrollPosition:function(){const s=this._virtualStart===0?this._physicalTop:Math.min(this._scrollPosition+this._physicalTop,0);if(s!==0){this._physicalTop=this._physicalTop-s;const e=this._scrollTop;!Th&&e>0&&this._resetScrollPosition(e-s)}},_resetScrollPosition:function(s){this.scrollTarget&&s>=0&&(this._scrollTop=s,this._scrollPosition=this._scrollTop)},_updateScrollerSize:function(s){this._estScrollHeight=this._physicalBottom+Math.max(this._virtualCount-this._physicalCount-this._virtualStart,0)*this._physicalAverage,((s=(s=s||this._scrollHeight===0)||this._scrollPosition>=this._estScrollHeight-this._physicalSize)||Math.abs(this._estScrollHeight-this._scrollHeight)>=this._viewportHeight)&&(this.$.items.style.height=this._estScrollHeight+"px",this._scrollHeight=this._estScrollHeight)},scrollToIndex:function(s){if(typeof s!="number"||s<0||s>this.items.length-1||(Me(),this._physicalCount===0))return;s=this._clamp(s,0,this._virtualCount-1),(!this._isIndexRendered(s)||s>=this._maxVirtualStart)&&(this._virtualStart=s-1),this._assignModels(),this._updateMetrics(),this._physicalTop=Math.floor(this._virtualStart)*this._physicalAverage;let e=this._physicalStart,t=this._virtualStart,i=0;const r=this._hiddenContentSize;for(;t<s&&i<=r;)i+=this._physicalSizes[e],e=(e+1)%this._physicalCount,t++;this._updateScrollerSize(!0),this._positionItems(),this._resetScrollPosition(this._physicalTop+this._scrollOffset+i),this._increasePoolIfNeeded(0),this._firstVisibleIndexVal=null,this._lastVisibleIndexVal=null},_resetAverage:function(){this._physicalAverage=0,this._physicalAverageCount=0},_resizeHandler:function(){this._debounce("_render",function(){this._firstVisibleIndexVal=null,this._lastVisibleIndexVal=null,this.updateViewportBoundaries(),this._isVisible?(this.toggleScrollListener(!0),this._resetAverage(),this._render()):this.toggleScrollListener(!1)},Q)},_isIndexRendered:function(s){return s>=this._virtualStart&&s<=this._virtualEnd},_getPhysicalIndex:function(s){return(this._physicalStart+(s-this._virtualStart))%this._physicalCount},_clamp:function(s,e,t){return Math.min(t,Math.max(e,s))},_debounce:function(s,e,t){this._debouncers=this._debouncers||{},this._debouncers[s]=F.debounce(this._debouncers[s],t,e.bind(this)),Kt(this._debouncers[s])}});class Rh extends Oh{static get properties(){return{size:{type:Number,notify:!0},_vidxOffset:{type:Number,value:0}}}static get observers(){return["_effectiveSizeChanged(_effectiveSize)"]}connectedCallback(){super.connectedCallback(),this._scrollHandler()}_updateScrollerItem(){}_afterScroll(){}_getRowTarget(){}_createScrollerRows(){}_canPopulate(){}scrollToIndex(e){this._warnPrivateAPIAccess("scrollToIndex"),this._scrollingToIndex=!0,e=Math.min(Math.max(e,0),this._effectiveSize-1),this.$.table.scrollTop=e/this._effectiveSize*(this.$.table.scrollHeight-this.$.table.offsetHeight),this._scrollHandler(),this._accessIronListAPI(()=>this._maxScrollTop)&&this._virtualCount<this._effectiveSize&&this._adjustVirtualIndexOffset(1e6),this._accessIronListAPI(()=>super.scrollToIndex(e-this._vidxOffset)),this._scrollHandler();const t=Array.from(this.$.items.children).filter(i=>i.index===e)[0];if(t){const i=t.getBoundingClientRect().top-this.$.header.getBoundingClientRect().bottom;Math.abs(i)>1&&(this.$.table.scrollTop+=i,this._scrollHandler())}this._scrollingToIndex=!1}_effectiveSizeChanged(e){let t,i=0;this._iterateItems((r,n)=>{if(n===this._firstVisibleIndex){const o=this._physicalItems[r];t=o.index,i=o.getBoundingClientRect().top}}),this.items&&e<this.items.length&&(this._scrollTop=0),!Array.isArray(this.items)&&(this.items={length:Math.min(e,1e5)}),this._accessIronListAPI(()=>super._itemsChanged({path:"items"})),this._virtualCount=Math.min(this.items.length,e)||0,this._scrollTop===0&&(this._accessIronListAPI(()=>this._scrollToIndex(Math.min(e-1,t))),this._iterateItems(r=>{const n=this._physicalItems[r];if(n.index===t&&(this.$.table.scrollTop+=Math.round(n.getBoundingClientRect().top-i)),n.index===this._focusedItemIndex&&this._itemsFocusable&&this.$.items.contains(this.shadowRoot.activeElement)){const o=Array.from(this._itemsFocusable.parentElement.children).indexOf(this._itemsFocusable);n.children[o].focus()}})),this._assignModels(),requestAnimationFrame(()=>this._update()),this.__updateFooterPositioning()}_positionItems(){let e;this._adjustScrollPosition(),isNaN(this._physicalTop)&&(e=!0,this._physicalTop=0);let t=this._physicalTop;this._iterateItems(i=>{this._physicalItems[i].style.transform=`translateY(${t}px)`,t+=this._physicalSizes[i]}),e&&this._scrollToIndex(0)}_increasePoolIfNeeded(e){e===0&&this._scrollingToIndex||!this._canPopulate()||!this._effectiveSize||(this._initialPoolCreated?this._optPhysicalSize!==1/0&&(this._debounceIncreasePool=F.debounce(this._debounceIncreasePool,Q,()=>{this._updateMetrics();const t=this._optPhysicalSize-this._physicalSize;let i=Math.ceil(t/this._physicalAverage);this._physicalCount+i>this._effectiveSize&&(i=Math.max(0,this._effectiveSize-this._physicalCount)),this._physicalSize&&i>0&&this._optPhysicalSize!==1/0&&(super._increasePoolIfNeeded(i),this.__reorderChildNodes())})):(this._initialPoolCreated=!0,super._increasePoolIfNeeded(25)))}__reorderChildNodes(){const e=Array.from(this.$.items.childNodes);e.reduce((t,i,r,n)=>{if(r===0||n[r-1].index===i.index-1)return t},!0)||e.sort((t,i)=>t.index-i.index).forEach(t=>this.$.items.appendChild(t))}_createPool(e){const t=document.createDocumentFragment(),i=this._createScrollerRows(e);i.forEach(n=>t.appendChild(n)),this._getRowTarget().appendChild(t);const r=this.querySelector("[slot]");if(r){const n=r.getAttribute("slot");r.setAttribute("slot","foo-bar"),r.setAttribute("slot",n)}return ud(this,()=>this.notifyResize()),i}_assignModels(e){this._iterateItems((t,i)=>{const r=this._physicalItems[t];this._toggleAttribute("hidden",i>=this._effectiveSize,r),this._updateScrollerItem(r,i+(this._vidxOffset||0))},e)}_scrollHandler(){const e=this.$.table.scrollTop-this._scrollPosition;this._accessIronListAPI(super._scrollHandler);const t=this._vidxOffset;this._accessIronListAPI(()=>this._maxScrollTop)&&this._virtualCount<this._effectiveSize?this._adjustVirtualIndexOffset(e):this._vidxOffset=0,this._vidxOffset!==t&&this._update(),this._afterScroll()}_adjustVirtualIndexOffset(e){if(Math.abs(e)>1e4){if(this._noScale)return void(this._noScale=!1);const t=this.$.table.scrollTop/(this.$.table.scrollHeight-this.$.table.offsetHeight),i=t*this._effectiveSize;this._vidxOffset=Math.round(i-t*this._virtualCount)}else{const t=this._vidxOffset||0,i=1e3,r=100;this._scrollTop===0?(this._vidxOffset=0,t!==this._vidxOffset&&super.scrollToIndex(0)):this.firstVisibleIndex<i&&this._vidxOffset>0&&(this._vidxOffset-=Math.min(this._vidxOffset,r),t!==this._vidxOffset&&super.scrollToIndex(this.firstVisibleIndex+(t-this._vidxOffset)),this._noScale=!0);const n=this._effectiveSize-this._virtualCount;this._scrollTop>=this._maxScrollTop&&this._maxScrollTop>0?(this._vidxOffset=n,t!==this._vidxOffset&&super.scrollToIndex(this._virtualCount)):this.firstVisibleIndex>this._virtualCount-i&&this._vidxOffset<n&&(this._vidxOffset+=Math.min(n-this._vidxOffset,r),t!==this._vidxOffset&&super.scrollToIndex(this.firstVisibleIndex-(this._vidxOffset-t)),this._noScale=!0)}}_accessIronListAPI(e){this._warnPrivateAPIAccessAsyncEnabled=!1;const t=e.apply(this);return this._debouncerWarnPrivateAPIAccess=F.debounce(this._debouncerWarnPrivateAPIAccess,Q,()=>this._warnPrivateAPIAccessAsyncEnabled=!0),t}_debounceRender(e,t){super._debounceRender(()=>this._accessIronListAPI(e),t)}_warnPrivateAPIAccess(e){this._warnPrivateAPIAccessAsyncEnabled&&console.warn(`Accessing private API (${e})!`)}_render(){this._accessIronListAPI(super._render)}_itemsChanged(){}get _firstVisibleIndex(){return this._accessIronListAPI(()=>super.firstVisibleIndex)}get _lastVisibleIndex(){return this._accessIronListAPI(()=>super.lastVisibleIndex)}_scrollToIndex(e){this._accessIronListAPI(()=>this.scrollToIndex(e))}get firstVisibleIndex(){return this._warnPrivateAPIAccess("firstVisibleIndex"),super.firstVisibleIndex}set firstVisibleIndex(e){this._warnPrivateAPIAccess("firstVisibleIndex"),super.firstVisibleIndex=e}get lastVisibleIndex(){return this._warnPrivateAPIAccess("lastVisibleIndex"),super.lastVisibleIndex}set lastVisibleIndex(e){this._warnPrivateAPIAccess("lastVisibleIndex"),super.lastVisibleIndex=e}updateViewportBoundaries(){this._warnPrivateAPIAccess("updateViewportBoundaries"),super.updateViewportBoundaries.apply(this,arguments)}_resizeHandler(){super._resizeHandler(),Me()}}const Fh=s=>class extends s{static get observers(){return["_a11yUpdateGridSize(size, _columnTree, _columnTree.*)"]}_a11yGetHeaderRowCount(e){return e.filter(t=>t.some(i=>i._headerTemplate||i.headerRenderer||i.path||i.header)).length}_a11yGetFooterRowCount(e){return e.filter(t=>t.some(i=>i._headerTemplate||i.headerRenderer)).length}_a11yUpdateGridSize(e,t){if(e===void 0||t===void 0)return;const i=t[t.length-1];this.$.table.setAttribute("aria-rowcount",e+this._a11yGetHeaderRowCount(t)+this._a11yGetFooterRowCount(t)),this.$.table.setAttribute("aria-colcount",i&&i.length||0),this._a11yUpdateHeaderRows(),this._a11yUpdateFooterRows()}_a11yUpdateHeaderRows(){Array.from(this.$.header.children).forEach((e,t)=>e.setAttribute("aria-rowindex",t+1))}_a11yUpdateFooterRows(){Array.from(this.$.footer.children).forEach((e,t)=>e.setAttribute("aria-rowindex",this._a11yGetHeaderRowCount(this._columnTree)+this.size+t+1))}_a11yUpdateRowRowindex(e,t){e.setAttribute("aria-rowindex",t+this._a11yGetHeaderRowCount(this._columnTree)+1)}_a11yUpdateRowSelected(e,t){e.setAttribute("aria-selected",!!t),Array.from(e.children).forEach(i=>i.setAttribute("aria-selected",!!t))}_a11yUpdateRowLevel(e,t){e.setAttribute("aria-level",t+1)}_a11yUpdateRowDetailsOpened(e,t){Array.from(e.children).forEach(i=>{typeof t=="boolean"?i.setAttribute("aria-expanded",t):i.hasAttribute("aria-expanded")&&i.removeAttribute("aria-expanded")})}_a11ySetRowDetailsCell(e,t){Array.from(e.children).forEach(i=>{i!==t&&i.setAttribute("aria-controls",t.id)})}_a11yUpdateCellColspan(e,t){e.setAttribute("aria-colspan",Number(t))}_a11yUpdateSorters(){Array.from(this.querySelectorAll("vaadin-grid-sorter")).forEach(e=>{let t=e.parentNode;for(;t&&t.localName!=="vaadin-grid-cell-content";)t=t.parentNode;t&&t.assignedSlot&&t.assignedSlot.parentNode.setAttribute("aria-sort",{asc:"ascending",desc:"descending"}[String(e.direction)]||"none")})}},Nh=s=>class extends s{static get properties(){return{activeItem:{type:Object,notify:!0,value:null}}}ready(){super.ready(),this.$.scroller.addEventListener("click",this._onClick.bind(this)),this.addEventListener("cell-activate",this._activateItem.bind(this))}_activateItem(e){const t=e.detail.model,i=t?t.item:null;i&&(this.activeItem=this._itemsEqual(this.activeItem,i)?null:i)}_onClick(e){if(e.defaultPrevented)return;const t=e.composedPath(),i=t[t.indexOf(this.$.table)-3];if(!i||i.getAttribute("part").indexOf("details-cell")>-1)return;const r=i._content,n=this.getRootNode().activeElement;r.contains(n)||this._isFocusable(e.target)||this.dispatchEvent(new CustomEvent("cell-activate",{detail:{model:this.__getRowModel(i.parentElement)}}))}_isFocusable(e){return zh(e)}},zh=s=>{if(!s.parentNode)return!1;const e=Array.from(s.parentNode.querySelectorAll("[tabindex], button, input, select, textarea, object, iframe, label, a[href], area[href]")).filter(t=>t.getAttribute("part")!=="cell body-cell").indexOf(s)!==-1;return!s.disabled&&e},Mh=s=>class extends s{static get properties(){return{items:Array}}static get observers(){return["_itemsChanged(items, items.*, isAttached)"]}_itemsChanged(e,t,i){if(i){if(!Array.isArray(e))return e==null&&(this.size=0),void(this.dataProvider===this._arrayDataProvider&&(this.dataProvider=void 0));this.size=e.length,this.dataProvider=this.dataProvider||this._arrayDataProvider,this.clearCache(),this._ensureFirstPageLoaded()}}_arrayDataProvider(e,t){let i=(Array.isArray(this.items)?this.items:[]).slice(0);this._filters&&this._checkPaths(this._filters,"filtering",i)&&(i=this._filter(i)),this.size=i.length,e.sortOrders.length&&this._checkPaths(this._sorters,"sorting",i)&&(i=i.sort(this._multiSort.bind(this)));const r=e.page*e.pageSize,n=r+e.pageSize;t(i.slice(r,n),i.length)}_checkPaths(e,t,i){if(!i.length)return!1;let r=!0;for(let n in e){const o=e[n].path;if(!o||o.indexOf(".")===-1)continue;const a=o.replace(/\.[^.]*$/,"");Se.get(a,i[0])===void 0&&(console.warn(`Path "${o}" used for ${t} does not exist in all of the items, ${t} is disabled.`),r=!1)}return r}_multiSort(e,t){return this._sorters.map(i=>i.direction==="asc"?this._compare(Se.get(i.path,e),Se.get(i.path,t)):i.direction==="desc"?this._compare(Se.get(i.path,t),Se.get(i.path,e)):0).reduce((i,r)=>i||r,0)}_normalizeEmptyValue(e){return[void 0,null].indexOf(e)>=0?"":isNaN(e)?e.toString():e}_compare(e,t){return(e=this._normalizeEmptyValue(e))<(t=this._normalizeEmptyValue(t))?-1:e>t?1:0}_filter(e){return e.filter(t=>this._filters.filter(i=>{const r=this._normalizeEmptyValue(Se.get(i.path,t)),n=this._normalizeEmptyValue(i.value).toString().toLowerCase();return r.toString().toLowerCase().indexOf(n)===-1}).length===0)}},kh=s=>class extends pt(s){ready(){super.ready();const e=this.$.scroller;_s(e,"track",this._onHeaderTrack.bind(this)),e.addEventListener("touchmove",t=>e.hasAttribute("column-resizing")&&t.preventDefault()),e.addEventListener("contextmenu",t=>t.target.getAttribute("part")=="resize-handle"&&t.preventDefault()),e.addEventListener("mousedown",t=>t.target.getAttribute("part")==="resize-handle"&&t.preventDefault())}_onHeaderTrack(e){const t=e.target;if(t.getAttribute("part")==="resize-handle"){let i=t.parentElement._column;for(this._toggleAttribute("column-resizing",!0,this.$.scroller);i.localName==="vaadin-grid-column-group";)i=Array.prototype.slice.call(i._childColumns,0).sort(function(o,a){return o._order-a._order}).filter(function(o){return!o.hidden}).pop();const r=Array.from(this.$.header.querySelectorAll('[part~="row"]:last-child [part~="cell"]')),n=r.filter(o=>o._column===i)[0];if(n.offsetWidth){const o=window.getComputedStyle(n),a=10+parseInt(o.paddingLeft)+parseInt(o.paddingRight)+parseInt(o.borderLeftWidth)+parseInt(o.borderRightWidth)+parseInt(o.marginLeft)+parseInt(o.marginRight),l=n.offsetWidth+(this.__isRTL?n.getBoundingClientRect().left-e.detail.x:e.detail.x-n.getBoundingClientRect().right);i.width=Math.max(a,l)+"px",i.flexGrow=0}r.sort(function(o,a){return o._column._order-a._column._order}).forEach(function(o,a,l){a<l.indexOf(n)&&(o._column.width=o.offsetWidth+"px",o._column.flexGrow=0)}),e.detail.state==="end"&&(this._toggleAttribute("column-resizing",!1,this.$.scroller),this.dispatchEvent(new CustomEvent("column-resize",{detail:{resizedColumn:i}}))),this._resizeHandler()}}},Ur=class Ao{constructor(e,t,i){this.grid=e,this.parentCache=t,this.parentItem=i,this.itemCaches={},this.items={},this.effectiveSize=0,this.size=0,this.pendingRequests={}}isLoading(){return!!(Object.keys(this.pendingRequests).length||Object.keys(this.itemCaches).filter(e=>this.itemCaches[e].isLoading())[0])}getItemForIndex(e){const{cache:t,scaledIndex:i}=this.getCacheAndIndex(e);return t.items[i]}updateSize(){this.effectiveSize=!this.parentItem||this.grid._isExpanded(this.parentItem)?this.size+Object.keys(this.itemCaches).reduce((e,t)=>{const i=this.itemCaches[t];return i.updateSize(),e+i.effectiveSize},0):0}ensureSubCacheForScaledIndex(e){if(!this.itemCaches[e]){const t=new Ao(this.grid,this,this.items[e]);this.itemCaches[e]=t,this.grid._loadPage(0,t)}}getCacheAndIndex(e){let t=e;const i=Object.keys(this.itemCaches);for(let r=0;r<i.length;r++){const n=Number(i[r]),o=this.itemCaches[n];if(t<=n)return{cache:this,scaledIndex:t};if(t<=n+o.effectiveSize)return o.getCacheAndIndex(t-n-1);t-=o.effectiveSize}return{cache:this,scaledIndex:t}}},Dh=s=>class extends s{static get properties(){return{pageSize:{type:Number,value:50,observer:"_pageSizeChanged"},dataProvider:{type:Object,notify:!0,observer:"_dataProviderChanged"},loading:{type:Boolean,notify:!0,readOnly:!0,reflectToAttribute:!0},_cache:{type:Object,value:function(){return new Ur(this)}},itemIdPath:{type:String,value:null},expandedItems:{type:Object,notify:!0,value:()=>[]}}}static get observers(){return["_sizeChanged(size)","_itemIdPathChanged(itemIdPath)","_expandedItemsChanged(expandedItems.*)"]}_sizeChanged(e){const t=e-this._cache.size;this._cache.size+=t,this._cache.effectiveSize+=t,this._effectiveSize=this._cache.effectiveSize,this._increasePoolIfNeeded(0),this._debounceIncreasePool&&this._debounceIncreasePool.flush()}_getItem(e,t){if(e>=this._effectiveSize)return;t.index=e;const{cache:i,scaledIndex:r}=this._cache.getCacheAndIndex(e),n=i.items[r];n?(this._toggleAttribute("loading",!1,t),this._updateItem(t,n),this._isExpanded(n)&&i.ensureSubCacheForScaledIndex(r)):(this._toggleAttribute("loading",!0,t),this._loadPage(this._getPageForIndex(r),i))}_expandedInstanceChangedCallback(e,t){e.item!==void 0&&(t?this.expandItem(e.item):this.collapseItem(e.item))}getItemId(e){return this.itemIdPath?this.get(this.itemIdPath,e):e}_isExpanded(e){return this.__expandedKeys.has(this.getItemId(e))}_expandedItemsChanged(){this.__cacheExpandedKeys(),this._cache.updateSize(),this._effectiveSize=this._cache.effectiveSize,this._assignModels()}_itemIdPathChanged(){this.__cacheExpandedKeys()}__cacheExpandedKeys(){this.expandedItems&&(this.__expandedKeys=new Set,this.expandedItems.forEach(e=>{this.__expandedKeys.add(this.getItemId(e))}))}expandItem(e){this._isExpanded(e)||this.push("expandedItems",e)}collapseItem(e){this._isExpanded(e)&&this.splice("expandedItems",this._getItemIndexInArray(e,this.expandedItems),1)}_getIndexLevel(e){let{cache:t}=this._cache.getCacheAndIndex(e),i=0;for(;t.parentCache;)t=t.parentCache,i++;return i}_canPopulate(){return!!(this._hasData&&this._columnTree)}_loadPage(e,t){if(!t.pendingRequests[e]&&this.dataProvider){this._setLoading(!0),t.pendingRequests[e]=!0;const i={page:e,pageSize:this.pageSize,sortOrders:this._mapSorters(),filters:this._mapFilters(),parentItem:t.parentItem};this._debounceIncreasePool&&this._debounceIncreasePool.flush(),this.dataProvider(i,(r,n)=>{n!==void 0?t.size=n:i.parentItem&&(t.size=r.length);const o=Array.from(this.$.items.children).map(a=>a._item);r.forEach((a,l)=>{const d=e*this.pageSize+l;t.items[d]=a,this._isExpanded(a)&&o.indexOf(a)>-1&&t.ensureSubCacheForScaledIndex(d)}),this._hasData=!0,delete t.pendingRequests[e],this._debouncerApplyCachedData=F.debounce(this._debouncerApplyCachedData,Y.after(0),()=>{this._setLoading(!1),this._cache.updateSize(),this._effectiveSize=this._cache.effectiveSize,Array.from(this.$.items.children).filter(a=>!a.hidden).forEach(a=>{this._cache.getItemForIndex(a.index)&&this._getItem(a.index,a)}),this._increasePoolIfNeeded(0),this.__scrollToPendingIndex()}),this._cache.isLoading()||this._debouncerApplyCachedData.flush(),this.__itemsReceived()})}}_getPageForIndex(e){return Math.floor(e/this.pageSize)}clearCache(){this._cache=new Ur(this),Array.from(this.$.items.children).forEach(e=>{Array.from(e.children).forEach(t=>{t._instance&&t._instance._setPendingProperty("item",{},!1)})}),this._cache.size=this.size||0,this._cache.updateSize(),this._hasData=!1,this._assignModels(),this._effectiveSize&&this._initialPoolCreated||this._loadPage(0,this._cache)}_pageSizeChanged(e,t){t!==void 0&&e!==t&&this.clearCache()}_checkSize(){this.size===void 0&&this._effectiveSize===0&&console.warn("The <vaadin-grid> needs the total number of items in order to display rows. Set the total number of items to the `size` property, or provide the total number of items in the second argument of the `dataProvider`’s `callback` call.")}_dataProviderChanged(e,t){t!==void 0&&this.clearCache(),e&&this.items&&this.items.length&&this._scrollToIndex(this._firstVisibleIndex),this._ensureFirstPageLoaded(),this._debouncerCheckSize=F.debounce(this._debouncerCheckSize,Y.after(2e3),this._checkSize.bind(this)),this._scrollHandler()}_ensureFirstPageLoaded(){this._hasData||this._loadPage(0,this._cache)}_itemsEqual(e,t){return this.getItemId(e)===this.getItemId(t)}_getItemIndexInArray(e,t){let i=-1;return t.forEach((r,n)=>{this._itemsEqual(r,e)&&(i=n)}),i}scrollToIndex(e){super.scrollToIndex(e),isNaN(e)||!this._cache.isLoading()&&this.clientHeight||(this.__pendingScrollToIndex=e)}__scrollToPendingIndex(){if(this.__pendingScrollToIndex&&this.$.items.children.length){const e=this.__pendingScrollToIndex;delete this.__pendingScrollToIndex,this._debounceIncreasePool&&this._debounceIncreasePool.flush(),this.scrollToIndex(e)}}},Lh=s=>class extends s{ready(){super.ready(),this._addNodeObserver()}_hasColumnGroups(e){for(let t=0;t<e.length;t++)if(e[t].localName==="vaadin-grid-column-group")return!0;return!1}_getChildColumns(e){return ee.getFlattenedNodes(e).filter(this._isColumnElement)}_flattenColumnGroups(e){return e.map(t=>t.localName==="vaadin-grid-column-group"?this._getChildColumns(t):[t]).reduce((t,i)=>t.concat(i),[])}_getColumnTree(){const e=[];for(let t=ee.getFlattenedNodes(this).filter(this._isColumnElement);e.push(t),this._hasColumnGroups(t);)t=this._flattenColumnGroups(t);return e}_updateColumnTree(){const e=this._getColumnTree();this._arrayEquals(e,this._columnTree)||(this._columnTree=e)}_addNodeObserver(){this._observer=new ee(this,e=>{const t=e.addedNodes.filter(r=>r.localName==="template"&&r.classList.contains("row-details"))[0];t&&this._rowDetailsTemplate!==t&&(this._rowDetailsTemplate=t);const i=r=>r.filter(this._isColumnElement).length>0;if(i(e.addedNodes)||i(e.removedNodes)){const r=e.removedNodes.flatMap(o=>o._allCells),n=o=>r.filter(a=>a._content.contains(o)).length;this.__removeSorters(this._sorters.filter(n)),this.__removeFilters(this._filters.filter(n)),this._updateColumnTree()}this._debouncerCheckImports=F.debounce(this._debouncerCheckImports,Y.after(2e3),this._checkImports.bind(this)),this._ensureFirstPageLoaded()})}_arrayEquals(e,t){if(!e||!t||e.length!=t.length)return!1;for(let i=0,r=e.length;i<r;i++)if(e[i]instanceof Array&&t[i]instanceof Array){if(!this._arrayEquals(e[i],t[i]))return!1}else if(e[i]!=t[i])return!1;return!0}_checkImports(){["vaadin-grid-column-group","vaadin-grid-filter","vaadin-grid-filter-column","vaadin-grid-tree-toggle","vaadin-grid-selection-column","vaadin-grid-sort-column","vaadin-grid-sorter"].forEach(e=>{const t=this.querySelector(e);!t||t instanceof ie||console.warn(`Make sure you have imported the required module for <${e}> element.`)})}_updateFirstAndLastColumn(){Array.from(this.shadowRoot.querySelectorAll("tr")).forEach(e=>this._updateFirstAndLastColumnForRow(e))}_updateFirstAndLastColumnForRow(e){Array.from(e.querySelectorAll('[part~="cell"]:not([part~="details-cell"])')).sort((t,i)=>t._column._order-i._column._order).forEach((t,i,r)=>{this._toggleAttribute("first-column",i===0,t),this._toggleAttribute("last-column",i===r.length-1,t)})}_isColumnElement(e){return e.nodeType===Node.ELEMENT_NODE&&/\bcolumn\b/.test(e.localName)}},Hh=s=>class extends s{getEventContext(e){const t={},i=e.composedPath(),r=i[i.indexOf(this.$.table)-3];return r&&(t.section=["body","header","footer","details"].filter(n=>r.getAttribute("part").indexOf(n)>-1)[0],r._column&&(t.column=r._column),t.section!=="body"&&t.section!=="details"||Object.assign(t,this.__getRowModel(r.parentElement))),t}},$h=s=>class extends s{static get properties(){return{_filters:{type:Array,value:function(){return[]}}}}ready(){super.ready(),this.addEventListener("filter-changed",this._filterChanged.bind(this))}_filterChanged(e){e.stopPropagation(),this.__addFilter(e.target),this.__applyFilters()}__removeFilters(e){e.length!=0&&(this._filters=this._filters.filter(t=>e.indexOf(t)<0),this.__applyFilters())}__addFilter(e){this._filters.indexOf(e)===-1&&this._filters.push(e)}__applyFilters(){this.dataProvider&&this.isAttached&&this.clearCache()}_mapFilters(){return this._filters.map(e=>({path:e.path,value:e.value}))}};class Gt extends ie{static get is(){return"vaadin-grid-templatizer"}static get properties(){return{dataHost:Object,template:Object,_templateInstances:{type:Array,value:function(){return[]}},_parentPathValues:{value:function(){return{}}},_grid:Object}}static get observers(){return["_templateInstancesChanged(_templateInstances.*, _parentPathValues.*)"]}constructor(){super(),this._instanceProps={detailsOpened:!0,index:!0,item:!0,selected:!0,expanded:!0,level:!0}}createInstance(){this._ensureTemplatized();const e=new this._TemplateClass({});return this.addInstance(e),e}addInstance(e){this._templateInstances.indexOf(e)===-1&&(this._templateInstances.push(e),requestAnimationFrame(()=>this.notifyPath("_templateInstances.*",this._templateInstances)))}removeInstance(e){const t=this._templateInstances.indexOf(e);this.splice("_templateInstances",t,1)}_ensureTemplatized(){this._TemplateClass||(this._TemplateClass=ht(this.template,this,{instanceProps:this._instanceProps,parentModel:!0,forwardHostProp:function(e,t){this._forwardParentProp(e,t),this._templateInstances&&this._templateInstances.forEach(i=>i.notifyPath(e,t))},notifyInstanceProp:function(e,t,i){if(t==="index"||t==="item")return;const r=`__${t}__`;if(e[r]===i)return;e[r]=i;const n=Array.from(this._grid.$.items.children).filter(l=>this._grid._itemsEqual(l._item,e.item))[0];n&&Array.from(n.children).forEach(l=>{l._instance&&(l._instance[r]=i,l._instance.notifyPath(t,i))});const o="item.";if(Array.isArray(this._grid.items)&&t.indexOf(o)===0){const l=this._grid.items.indexOf(e.item),d=t.slice(o.length);this._grid.notifyPath(`items.${l}.${d}`,i)}const a=`_${t}InstanceChangedCallback`;this._grid&&this._grid[a]&&this._grid[a](e,i)}}))}_forwardParentProp(e,t){this._parentPathValues[e]=t,this._templateInstances.forEach(i=>i.notifyPath(e,t))}_templateInstancesChanged(e){let t,i;if(e.path==="_templateInstances")t=0,i=this._templateInstances.length;else{if(e.path!=="_templateInstances.splices")return;t=e.value.index,i=e.value.addedCount}Object.keys(this._parentPathValues||{}).forEach(r=>{for(let n=t;n<t+i;n++)this._templateInstances[n].set(r,this._parentPathValues[r])})}}customElements.define(Gt.is,Gt);const Bh=s=>class extends s{static get properties(){return{detailsOpenedItems:{type:Array,value:function(){return[]}},_rowDetailsTemplate:Object,rowDetailsRenderer:Function,_detailsCells:{type:Array}}}static get observers(){return["_detailsOpenedItemsChanged(detailsOpenedItems.*, _rowDetailsTemplate, rowDetailsRenderer)","_rowDetailsTemplateOrRendererChanged(_rowDetailsTemplate, rowDetailsRenderer)"]}_rowDetailsTemplateOrRendererChanged(e,t){if(e&&t)throw new Error("You should only use either a renderer or a template for row details");if(e||t){if(e&&!e.templatizer){const i=new Gt;i._grid=this,i.dataHost=this.dataHost,i.template=e,e.templatizer=i}this._columnTree&&Array.from(this.$.items.children).forEach(i=>{i.querySelector("[part~=details-cell]")||(this._updateRow(i,this._columnTree[this._columnTree.length-1]),this._a11yUpdateRowDetailsOpened(i,!1)),delete i.querySelector("[part~=details-cell]")._instance}),this.detailsOpenedItems.length&&(Array.from(this.$.items.children).forEach(this._toggleDetailsCell,this),this._update())}}_detailsOpenedItemsChanged(e){e.path!=="detailsOpenedItems.length"&&e.value&&Array.from(this.$.items.children).forEach(t=>{this._toggleDetailsCell(t,t._item),this._a11yUpdateRowDetailsOpened(t,this._isDetailsOpened(t._item)),this._toggleAttribute("details-opened",this._isDetailsOpened(t._item),t)})}_configureDetailsCell(e){e.setAttribute("part","cell details-cell"),this._toggleAttribute("frozen",!0,e)}_toggleDetailsCell(e,t){const i=e.querySelector('[part~="details-cell"]');if(!i)return;const r=!this._isDetailsOpened(t),n=!!i.hidden!==r;(i._instance||i._renderer)&&i.hidden===r||(i.hidden=r,r?e.style.removeProperty("padding-bottom"):(this.rowDetailsRenderer?(i._renderer=this.rowDetailsRenderer,i._renderer.call(this,i._content,this,{index:e.index,item:t})):this._rowDetailsTemplate&&!i._instance&&(i._instance=this._rowDetailsTemplate.templatizer.createInstance(),i._content.innerHTML="",i._content.appendChild(i._instance.root),this._updateItem(e,t)),Me(),e.style.setProperty("padding-bottom",`${i.offsetHeight}px`),requestAnimationFrame(()=>this.notifyResize()))),n&&(this._updateMetrics(),this._positionItems())}_updateDetailsCellHeights(){Array.from(this.$.items.querySelectorAll('[part~="details-cell"]:not([hidden])')).forEach(e=>{e.parentElement.style.setProperty("padding-bottom",`${e.offsetHeight}px`)})}_isDetailsOpened(e){return this.detailsOpenedItems&&this._getItemIndexInArray(e,this.detailsOpenedItems)!==-1}openItemDetails(e){this._isDetailsOpened(e)||this.push("detailsOpenedItems",e)}closeItemDetails(e){this._isDetailsOpened(e)&&this.splice("detailsOpenedItems",this._getItemIndexInArray(e,this.detailsOpenedItems),1)}_detailsOpenedInstanceChangedCallback(e,t){t?this.openItemDetails(e.item):this.closeItemDetails(e.item)}},Si={SCROLLING:500,IGNORE_WHEEL:500},Vh=s=>class extends s{static get properties(){return{_frozenCells:{type:Array,value:()=>[]},_rowWithFocusedElement:Element,_deltaYAcc:{type:Number,value:0},_useSticky:{type:Boolean,value:window.CSS&&window.CSS.supports&&(window.CSS.supports("position","sticky")||window.CSS.supports("position","-webkit-sticky"))}}}static get observers(){return["_scrollViewportHeightUpdated(_viewportHeight)"]}set _scrollTop(e){this.$.table.scrollTop=e}get _scrollTop(){return this.$.table.scrollTop}constructor(){super(),this._scrollLineHeight=this._getScrollLineHeight()}_getScrollLineHeight(){const e=document.createElement("div");e.style.fontSize="initial",e.style.display="none",document.body.appendChild(e);const t=window.getComputedStyle(e).fontSize;return document.body.removeChild(e),t?window.parseInt(t):void 0}_scrollViewportHeightUpdated(e){this._scrollPageHeight=e-this.$.header.clientHeight-this.$.footer.clientHeight-this._scrollLineHeight}ready(){super.ready(),this.$.outerscroller=document.createElement("div"),this.scrollTarget=this.$.table,this.addEventListener("wheel",this._onWheel),this.$.items.addEventListener("focusin",e=>{const t=e.composedPath().indexOf(this.$.items);this._rowWithFocusedElement=e.composedPath()[t-1]}),this.$.items.addEventListener("focusout",()=>this._rowWithFocusedElement=void 0),this.scrollTarget.addEventListener("mousedown",()=>this.__mouseDown=!0),this.scrollTarget.addEventListener("mouseup",()=>{this.__mouseDown=!1,this.__pendingReorder&&(this.__pendingReorder=!1,setTimeout(()=>this._reorderRows(),Si.SCROLLING))})}scrollToIndex(e){this._accessIronListAPI(()=>super.scrollToIndex(e))}_onWheel(e){if(e.ctrlKey||this._hasScrolledAncestor(e.target,e.deltaX,e.deltaY))return;const t=this.$.table;let i=e.deltaY;if(e.deltaMode===WheelEvent.DOM_DELTA_LINE?i*=this._scrollLineHeight:e.deltaMode===WheelEvent.DOM_DELTA_PAGE&&(i*=this._scrollPageHeight),this._wheelAnimationFrame)return this._deltaYAcc+=i,void e.preventDefault();i+=this._deltaYAcc,this._deltaYAcc=0,this._wheelAnimationFrame=!0,this._debouncerWheelAnimationFrame=F.debounce(this._debouncerWheelAnimationFrame,Q,()=>this._wheelAnimationFrame=!1);const r=Math.abs(e.deltaX)+Math.abs(i);this._canScroll(t,e.deltaX,i)?(e.preventDefault(),t.scrollTop+=i,t.scrollLeft+=e.deltaX,this._scrollHandler(),this._hasResidualMomentum=!0,this._ignoreNewWheel=!0,this._debouncerIgnoreNewWheel=F.debounce(this._debouncerIgnoreNewWheel,Y.after(Si.IGNORE_WHEEL),()=>this._ignoreNewWheel=!1)):this._hasResidualMomentum&&r<=this._previousMomentum||this._ignoreNewWheel?e.preventDefault():r>this._previousMomentum&&(this._hasResidualMomentum=!1),this._previousMomentum=r}_hasScrolledAncestor(e,t,i){return e.localName!=="vaadin-grid-cell-content"&&(!(!this._canScroll(e,t,i)||["auto","scroll"].indexOf(getComputedStyle(e).overflow)===-1)||(e!==this&&e.parentElement?this._hasScrolledAncestor(e.parentElement,t,i):void 0))}_canScroll(e,t,i){return i>0&&e.scrollTop<e.scrollHeight-e.offsetHeight||i<0&&e.scrollTop>0||t>0&&e.scrollLeft<e.scrollWidth-e.offsetWidth||t<0&&e.scrollLeft>0}_scheduleScrolling(){this._scrollingFrame||(this._scrollingFrame=requestAnimationFrame(()=>this._toggleAttribute("scrolling",!0,this.$.scroller))),this._debounceScrolling=F.debounce(this._debounceScrolling,Y.after(Si.SCROLLING),()=>{cancelAnimationFrame(this._scrollingFrame),delete this._scrollingFrame,this._toggleAttribute("scrolling",!1,this.$.scroller),this._reorderRows()})}_afterScroll(){this._translateStationaryElements(),this.hasAttribute("reordering")||this._scheduleScrolling(),this._updateOverflow()}_updateOverflow(){let e="";const t=this.$.table;t.scrollTop<t.scrollHeight-t.clientHeight&&(e+=" bottom"),t.scrollTop>0&&(e+=" top"),t.scrollLeft<t.scrollWidth-t.clientWidth&&(e+=" right"),t.scrollLeft>0&&(e+=" left"),this._debounceOverflow=F.debounce(this._debounceOverflow,Q,()=>{const i=e.trim();i.length>0&&this.getAttribute("overflow")!==i?this.setAttribute("overflow",i):i.length==0&&this.hasAttribute("overflow")&&this.removeAttribute("overflow")})}_reorderRows(){if(this.__mouseDown)return void(this.__pendingReorder=!0);const e=this.$.items,t=e.querySelectorAll("tr");if(!t.length)return;const i=this._virtualStart+this._vidxOffset,r=this._rowWithFocusedElement||Array.from(t).filter(a=>!a.hidden)[0];if(!r)return;const n=r.index-i,o=Array.from(t).indexOf(r)-n;if(o>0)for(let a=0;a<o;a++)e.appendChild(t[a]);else if(o<0)for(let a=t.length+o;a<t.length;a++)e.insertBefore(t[a],t[0]);if(this._safari){const{transform:a}=this.$.header.style;this.$.header.style.transform="",setTimeout(()=>this.$.header.style.transform=a)}}_frozenCellsChanged(){this._debouncerCacheElements=F.debounce(this._debouncerCacheElements,U,()=>{Array.from(this.shadowRoot.querySelectorAll('[part~="cell"]')).forEach(function(e){e.style.transform=""}),this._frozenCells=Array.prototype.slice.call(this.$.table.querySelectorAll("[frozen]")),this._updateScrollerMeasurements(),this._translateStationaryElements()}),this._updateLastFrozen()}_updateScrollerMeasurements(){this._frozenCells.length>0&&this.__isRTL&&(this.__scrollerMetrics={scrollWidth:this.$.table.scrollWidth,clientWidth:this.$.table.clientWidth})}_updateLastFrozen(){if(!this._columnTree)return;const e=this._columnTree[this._columnTree.length-1].slice(0);e.sort((i,r)=>i._order-r._order);const t=e.reduce((i,r,n)=>(r._lastFrozen=!1,r.frozen&&!r.hidden?n:i),void 0);t!==void 0&&(e[t]._lastFrozen=!0)}_translateStationaryElements(){const e=Math.max(0,this._scrollLeft),t=Math.max(0,this._scrollTop);let i=0,r=0,n=0;if(this._useSticky||(i=e,r=t,n=this.$.table.clientHeight-this.$.footer.offsetHeight-this.$.footer.offsetTop),this.$.header.style.transform=this._getTranslate(-e+i,r),this.$.footer.style.transform=this._getTranslate(-e+i,r+n),this.$.items.style.transform=this._getTranslate(-e+i,0),this._frozenCells.length>0){const o=this.__isRTL?this.__getNormalizedScrollLeft(this.$.table)+this.__scrollerMetrics.clientWidth-this.__scrollerMetrics.scrollWidth:this._scrollLeft,a=this._getTranslate(o,0);for(let l=0;l<this._frozenCells.length;l++)this._frozenCells[l].style.transform=a}}_getTranslate(e,t){return`translate(${e}px, ${t}px)`}},jh=s=>class extends s{static get properties(){return{selectedItems:{type:Object,notify:!0,value:()=>[]}}}static get observers(){return["_selectedItemsChanged(selectedItems.*)"]}_isSelected(e){return this.selectedItems&&this._getItemIndexInArray(e,this.selectedItems)>-1}selectItem(e){this._isSelected(e)||this.push("selectedItems",e)}deselectItem(e){const t=this._getItemIndexInArray(e,this.selectedItems);t>-1&&this.splice("selectedItems",t,1)}_toggleItem(e){this._getItemIndexInArray(e,this.selectedItems)===-1?this.selectItem(e):this.deselectItem(e)}_selectedItemsChanged(e){!this.$.items.children.length||e.path!=="selectedItems"&&e.path!=="selectedItems.splices"||Array.from(this.$.items.children).forEach(t=>{this._updateItem(t,t._item)})}_selectedInstanceChangedCallback(e,t){t?this.selectItem(e.item):this.deselectItem(e.item)}},Gh=s=>class extends s{static get properties(){return{multiSort:{type:Boolean,value:!1},_sorters:{type:Array,value:function(){return[]}},_previousSorters:{type:Array,value:function(){return[]}}}}ready(){super.ready(),this.addEventListener("sorter-changed",this._onSorterChanged)}_onSorterChanged(e){const t=e.target;e.stopPropagation(),this.__updateSorter(t),this.__applySorters()}__removeSorters(e){e.length!=0&&(this._sorters=this._sorters.filter(t=>e.indexOf(t)<0),this.multiSort&&this.__updateSortOrders(),this.__applySorters())}__updateSortOrders(){this._sorters.forEach((e,t)=>e._order=this._sorters.length>1?t:null,this)}__updateSorter(e){if(e.direction||this._sorters.indexOf(e)!==-1){if(e._order=null,this.multiSort)this._removeArrayItem(this._sorters,e),e.direction&&this._sorters.unshift(e),this.__updateSortOrders();else if(e.direction){const t=this._sorters.filter(i=>i!=e);this._sorters=[e],t.forEach(i=>{i._order=null,i.direction=null})}}}__applySorters(){this.dataProvider&&this.isAttached&&JSON.stringify(this._previousSorters)!==JSON.stringify(this._mapSorters())&&this.clearCache(),this._a11yUpdateSorters(),this._previousSorters=this._mapSorters()}_mapSorters(){return this._sorters.map(e=>({path:e.path,direction:e.direction}))}_removeArrayItem(e,t){const i=e.indexOf(t);i>-1&&e.splice(i,1)}},Uh=s=>class extends s{static get properties(){return{cellClassNameGenerator:Function}}static get observers(){return["__cellClassNameGeneratorChanged(cellClassNameGenerator)"]}__cellClassNameGeneratorChanged(){this.generateCellClassNames()}generateCellClassNames(){Array.from(this.$.items.children).filter(e=>!e.hidden).forEach(e=>this._generateCellClassNames(e,this.__getRowModel(e)))}_generateCellClassNames(e,t){Array.from(e.children).forEach(i=>{if(i.__generatedClasses&&i.__generatedClasses.forEach(r=>i.classList.remove(r)),this.cellClassNameGenerator){const r=this.cellClassNameGenerator(i._column,t);i.__generatedClasses=r&&r.split(" ").filter(n=>n.length>0),i.__generatedClasses&&i.__generatedClasses.forEach(n=>i.classList.add(n))}})}},Ve={BETWEEN:"between",ON_TOP:"on-top",ON_TOP_OR_BETWEEN:"on-top-or-between",ON_GRID:"on-grid"},oe={ON_TOP:"on-top",ABOVE:"above",BELOW:"below",EMPTY:"empty"},qh=s=>class extends s{static get properties(){return{dropMode:String,rowsDraggable:Boolean,dragFilter:Function,dropFilter:Function,__dndAutoScrollThreshold:{value:50}}}static get observers(){return["_dragDropAccessChanged(rowsDraggable, dropMode, dragFilter, dropFilter)"]}ready(){super.ready(),this.$.table.addEventListener("dragstart",this._onDragStart.bind(this)),this.$.table.addEventListener("dragend",this._onDragEnd.bind(this)),this.$.table.addEventListener("dragover",this._onDragOver.bind(this)),this.$.table.addEventListener("dragleave",this._onDragLeave.bind(this)),this.$.table.addEventListener("drop",this._onDrop.bind(this)),this.$.table.addEventListener("dragenter",e=>{this.dropMode&&(e.preventDefault(),e.stopPropagation())})}_onDragStart(e){if(this.rowsDraggable){let t=e.target;if(t.localName==="vaadin-grid-cell-content"&&(t=t.assignedSlot.parentNode.parentNode),t.parentNode!==this.$.items)return;if(e.stopPropagation(),this._toggleAttribute("dragging-rows",!0,this),this._safari){const o=t.style.transform;t.style.top=/translateY\((.*)\)/.exec(o)[1],t.style.transform="none",requestAnimationFrame(()=>{t.style.top="",t.style.transform=o})}const i=t.getBoundingClientRect();this._ios?e.dataTransfer.setDragImage(t):e.dataTransfer.setDragImage(t,e.clientX-i.left,e.clientY-i.top);let r=[t];this._isSelected(t._item)&&(r=this.__getViewportRows().filter(o=>this._isSelected(o._item)).filter(o=>!this.dragFilter||this.dragFilter(this.__getRowModel(o)))),e.dataTransfer.setData("text",this.__formatDefaultTransferData(r)),t.setAttribute("dragstart",r.length>1?r.length:""),this.updateStyles({"--_grid-drag-start-x":e.clientX-i.left+20+"px","--_grid-drag-start-y":e.clientY-i.top+10+"px"}),requestAnimationFrame(()=>{t.removeAttribute("dragstart"),this.updateStyles({"--_grid-drag-start-x":"","--_grid-drag-start-y":""})});const n=new CustomEvent("grid-dragstart",{detail:{draggedItems:r.map(o=>o._item),setDragData:(o,a)=>e.dataTransfer.setData(o,a),setDraggedItemsCount:o=>t.setAttribute("dragstart",o)}});n.originalEvent=e,this.dispatchEvent(n)}}_onDragEnd(e){this._toggleAttribute("dragging-rows",!1,this),e.stopPropagation();const t=new CustomEvent("grid-dragend");t.originalEvent=e,this.dispatchEvent(t)}_onDragLeave(e){e.stopPropagation(),this._clearDragStyles()}_onDragOver(e){if(this.dropMode){if(this._dropLocation=void 0,this._dragOverItem=void 0,this.__dndAutoScroll(e.clientY))return void this._clearDragStyles();let t=e.composedPath().filter(i=>i.localName==="tr")[0];if(this._effectiveSize&&this.dropMode!==Ve.ON_GRID)if(t&&t.parentNode===this.$.items){const i=t.getBoundingClientRect();if(this._dropLocation=oe.ON_TOP,this.dropMode===Ve.BETWEEN){const r=e.clientY-i.top<i.bottom-e.clientY;this._dropLocation=r?oe.ABOVE:oe.BELOW}else this.dropMode===Ve.ON_TOP_OR_BETWEEN&&(e.clientY-i.top<i.height/3?this._dropLocation=oe.ABOVE:e.clientY-i.top>i.height/3*2&&(this._dropLocation=oe.BELOW))}else{if(t||this.dropMode!==Ve.BETWEEN&&this.dropMode!==Ve.ON_TOP_OR_BETWEEN)return;t=Array.from(this.$.items.children).filter(i=>!i.hidden).pop(),this._dropLocation=oe.BELOW}else this._dropLocation=oe.EMPTY;if(t&&t.hasAttribute("drop-disabled"))return void(this._dropLocation=void 0);e.stopPropagation(),e.preventDefault(),this._dropLocation===oe.EMPTY?this._toggleAttribute("dragover",!0,this):t?(this._dragOverItem=t._item,t.getAttribute("dragover")!==this._dropLocation&&t.setAttribute("dragover",this._dropLocation)):this._clearDragStyles()}}__dndAutoScroll(e){if(this.__dndAutoScrolling)return!0;const t=this.$.header.getBoundingClientRect().bottom,i=this.$.footer.getBoundingClientRect().top,r=t-e+this.__dndAutoScrollThreshold,n=e-i+this.__dndAutoScrollThreshold;let o=0;if(n>0?o=2*n:r>0&&(o=2*-r),o){const a=this.$.table.scrollTop;if(this.$.table.scrollTop+=o,a!==this.$.table.scrollTop)return this.__dndAutoScrolling=!0,setTimeout(()=>this.__dndAutoScrolling=!1,20),this._scrollHandler(),!0}}__getViewportRows(){const e=this.$.header.getBoundingClientRect().bottom,t=this.$.footer.getBoundingClientRect().top;return Array.from(this.$.items.children).filter(i=>{const r=i.getBoundingClientRect();return r.bottom>e&&r.top<t})}_clearDragStyles(){this.removeAttribute("dragover"),Array.from(this.$.items.children).forEach(e=>e.removeAttribute("dragover"))}_onDrop(e){if(this.dropMode){e.stopPropagation(),e.preventDefault();const t=e.dataTransfer.types&&Array.from(e.dataTransfer.types).map(r=>({type:r,data:e.dataTransfer.getData(r)}));this._clearDragStyles();const i=new CustomEvent("grid-drop",{bubbles:e.bubbles,cancelable:e.cancelable,detail:{dropTargetItem:this._dragOverItem,dropLocation:this._dropLocation,dragData:t}});i.originalEvent=e,this.dispatchEvent(i)}}__formatDefaultTransferData(e){return e.map(t=>Array.from(t.children).filter(i=>!i.hidden&&i.getAttribute("part").indexOf("details-cell")===-1).sort((i,r)=>i._column._order>r._column._order?1:-1).map(i=>i._content.textContent.trim()).filter(i=>i).join("	")).join(`
`)}_dragDropAccessChanged(){this.filterDragAndDrop()}filterDragAndDrop(){Array.from(this.$.items.children).filter(e=>!e.hidden).forEach(e=>{this._filterDragAndDrop(e,this.__getRowModel(e))})}_filterDragAndDrop(e,t){const i=!this.rowsDraggable||this.dragFilter&&!this.dragFilter(t),r=!this.dropMode||this.dropFilter&&!this.dropFilter(t);Array.from(e.children).map(n=>n._content).forEach(n=>{i?n.removeAttribute("draggable"):n.setAttribute("draggable",!0)}),this._toggleAttribute("drag-disabled",i,e),this._toggleAttribute("drop-disabled",r,e)}},Wh=s=>class extends s{static get properties(){return{_headerFocusable:{type:Object,observer:"_focusableChanged"},_itemsFocusable:{type:Object,observer:"_focusableChanged"},_footerFocusable:{type:Object,observer:"_focusableChanged"},_navigatingIsHidden:Boolean,_focusedItemIndex:{type:Number,value:0},_focusedColumnOrder:Number}}ready(){super.ready(),this._ios||this._android||(this.addEventListener("keydown",this._onKeyDown),this.addEventListener("keyup",this._onKeyUp),this.addEventListener("focusin",this._onFocusIn),this.addEventListener("focusout",this._onFocusOut),this.$.table.addEventListener("focusin",this._onCellFocusIn.bind(this)),this.$.table.addEventListener("focusout",this._onCellFocusOut.bind(this)),this.addEventListener("mousedown",()=>{this._toggleAttribute("navigating",!1,this),this._isMousedown=!0}),this.addEventListener("mouseup",()=>this._isMousedown=!1))}_focusableChanged(e,t){t&&t.setAttribute("tabindex","-1"),e&&e.setAttribute("tabindex","0")}_onKeyDown(e){const t=e.key;let i;switch(t){case"ArrowUp":case"ArrowDown":case"ArrowLeft":case"ArrowRight":case"PageUp":case"PageDown":case"Home":case"End":i="Navigation";break;case"Enter":case"Escape":case"F2":i="Interaction";break;case"Tab":i="Tab";break;case" ":i="Space"}this._detectInteracting(e),this.hasAttribute("interacting")&&i!=="Interaction"&&(i=void 0),i&&this[`_on${i}KeyDown`](e,t)}_ensureScrolledToIndex(e){Array.from(this.$.items.children).filter(t=>t.index===e)[0]||this._scrollToIndex(e)}_onNavigationKeyDown(e,t){function i(I){return Array.prototype.indexOf.call(I.parentNode.children,I)}this._scrollHandler(),e.preventDefault();const r=this._lastVisibleIndex-this._firstVisibleIndex-1;let n=0,o=0;switch(t){case"ArrowRight":n=this.__isRTL?-1:1;break;case"ArrowLeft":n=this.__isRTL?1:-1;break;case"Home":n=-1/0,e.ctrlKey&&(o=-1/0);break;case"End":n=1/0,e.ctrlKey&&(o=1/0);break;case"ArrowDown":o=1;break;case"ArrowUp":o=-1;break;case"PageDown":o=r;break;case"PageUp":o=-r}const a=e.composedPath()[0],l=i(a),d=this._elementMatches(a,'[part~="details-cell"]'),h=a.parentNode,c=h.parentNode,_=(c===this.$.items?this._effectiveSize:c.children.length)-1,g=c===this.$.items?this._focusedItemIndex!==void 0?this._focusedItemIndex:h.index:i(h);let m=Math.max(0,Math.min(g+o,_)),y=!1;if(c===this.$.items){const I=h._item,Z=this._cache.getItemForIndex(m);y=d?o===0:o===1&&this._isDetailsOpened(I)||o===-1&&m!==g&&this._isDetailsOpened(Z),y!==d&&(o===1&&y||o===-1&&!y)&&(m=g)}if(c!==this.$.items){if(m>g)for(;m<_&&c.children[m].hidden;)m++;else if(m<g)for(;m>0&&c.children[m].hidden;)m--}this._focusedColumnOrder===void 0&&(this._focusedColumnOrder=d?0:this._getColumns(c,g).filter(I=>!I.hidden)[l]._order);const w=this._getColumns(c,m).filter(I=>!I.hidden),b=w.map(I=>I._order).sort((I,Z)=>I-Z),E=b.length-1,T=b.indexOf(b.slice(0).sort((I,Z)=>Math.abs(I-this._focusedColumnOrder)-Math.abs(Z-this._focusedColumnOrder))[0]),q=o===0&&d?T:Math.max(0,Math.min(T+n,E));q!==T&&(this._focusedColumnOrder=void 0),c===this.$.items&&this._ensureScrolledToIndex(m),this._toggleAttribute("navigating",!0,this);const H=w.reduce((I,Z,_t)=>(I[Z._order]=_t,I),{})[b[q]],se=c===this.$.items?Array.from(c.children).filter(I=>I.index===m)[0]:c.children[m];if(!se)return;const De=y?Array.from(se.children).filter(I=>this._elementMatches(I,'[part~="details-cell"]'))[0]:se.children[H];if(this._scrollHorizontallyToCell(De),c===this.$.items&&(this._focusedItemIndex=m),c===this.$.items){const I=De.getBoundingClientRect(),Z=this.$.footer.getBoundingClientRect().top,_t=this.$.header.getBoundingClientRect().bottom;I.bottom>Z?(this.$.table.scrollTop+=I.bottom-Z,this._scrollHandler()):I.top<_t&&(this.$.table.scrollTop-=_t-I.top,this._scrollHandler())}De.focus()}_parseEventPath(e){const t=e.indexOf(this.$.table);return{rowGroup:e[t-1],row:e[t-2],cell:e[t-3]}}_onInteractionKeyDown(e,t){const i=e.composedPath()[0],r=i.localName==="input"&&!/^(button|checkbox|color|file|image|radio|range|reset|submit)$/i.test(i.type);let n;switch(t){case"Enter":n=!this.hasAttribute("interacting")||!r;break;case"Escape":n=!1;break;case"F2":n=!this.hasAttribute("interacting")}const{cell:o}=this._parseEventPath(e.composedPath());if(this.hasAttribute("interacting")!==n)if(n){const a=o._content.querySelector("[focus-target]")||o._content.firstElementChild;a&&(e.preventDefault(),a.focus(),this._toggleAttribute("interacting",!0,this),this._toggleAttribute("navigating",!1,this))}else e.preventDefault(),this._focusedColumnOrder=void 0,o.focus(),this._toggleAttribute("interacting",!1,this),this._toggleAttribute("navigating",!0,this)}_predictFocusStepTarget(e,t){const i=[this.$.table,this._headerFocusable,this._itemsFocusable,this._footerFocusable,this.$.focusexit];let r=i.indexOf(e);for(r+=t;r>=0&&r<=i.length-1&&(!i[r]||i[r].parentNode.hidden);)r+=t;return i[r]}_onTabKeyDown(e){const t=this._predictFocusStepTarget(e.composedPath()[0],e.shiftKey?-1:1);if(t===this.$.table)this.$.table.focus();else if(t===this.$.focusexit)this.$.focusexit.focus();else if(t===this._itemsFocusable){let i=t;const r=this._itemsFocusable.parentNode;if(this._ensureScrolledToIndex(this._focusedItemIndex),r.index!==this._focusedItemIndex){const n=Array.from(r.children).indexOf(this._itemsFocusable),o=Array.from(this.$.items.children).filter(a=>a.index===this._focusedItemIndex)[0];o&&(i=o.children[n])}e.preventDefault(),i.focus()}else e.preventDefault(),t.focus();this._toggleAttribute("navigating",!0,this)}_onSpaceKeyDown(e){e.preventDefault();const t=e.composedPath()[0];t._content&&t._content.firstElementChild||this.dispatchEvent(new CustomEvent("cell-activate",{detail:{model:this.__getRowModel(t.parentElement)}}))}_onKeyUp(e){if(!/^( |SpaceBar)$/.test(e.key))return;e.preventDefault();const t=e.composedPath()[0];if(t._content&&t._content.firstElementChild){const i=this.hasAttribute("navigating");t._content.firstElementChild.click(),this._toggleAttribute("navigating",i,this)}}_onFocusIn(e){this._isMousedown||this._toggleAttribute("navigating",!0,this);const t=e.composedPath()[0];t===this.$.table||t===this.$.focusexit?(this._predictFocusStepTarget(t,t===this.$.table?1:-1).focus(),this._toggleAttribute("interacting",!1,this)):this._detectInteracting(e)}_onFocusOut(e){this._toggleAttribute("navigating",!1,this),this._detectInteracting(e)}_onCellFocusIn(e){if(this._detectInteracting(e),e.composedPath().indexOf(this.$.table)===3){const t=e.composedPath()[0];this._activeRowGroup=t.parentNode.parentNode,this._activeRowGroup===this.$.header?this._headerFocusable=t:this._activeRowGroup===this.$.items?this._itemsFocusable=t:this._activeRowGroup===this.$.footer&&(this._footerFocusable=t),t._content.dispatchEvent(new CustomEvent("cell-focusin",{bubbles:!1}))}this._detectFocusedItemIndex(e)}_onCellFocusOut(e){e.composedPath().indexOf(this.$.table)===3&&e.composedPath()[0]._content.dispatchEvent(new CustomEvent("cell-focusout",{bubbles:!1}))}_detectInteracting(e){this._toggleAttribute("interacting",e.composedPath().some(t=>t.localName==="vaadin-grid-cell-content"),this)}_detectFocusedItemIndex(e){const{rowGroup:t,row:i}=this._parseEventPath(e.composedPath());t===this.$.items&&(this._focusedItemIndex=i.index)}_preventScrollerRotatingCellFocus(e,t){e.index===this._focusedItemIndex&&this.hasAttribute("navigating")&&this._activeRowGroup===this.$.items&&(this._navigatingIsHidden=!0,this._toggleAttribute("navigating",!1,this)),t===this._focusedItemIndex&&this._navigatingIsHidden&&(this._navigatingIsHidden=!1,this._toggleAttribute("navigating",!0,this))}_getColumns(e,t){let i=this._columnTree.length-1;return e===this.$.header?i=t:e===this.$.footer&&(i=this._columnTree.length-1-t),this._columnTree[i]}_resetKeyboardNavigation(){if(this.$.header.firstElementChild&&(this._headerFocusable=Array.from(this.$.header.firstElementChild.children).filter(e=>!e.hidden)[0]),this.$.items.firstElementChild){const e=this._iterateItems((t,i)=>{if(this._firstVisibleIndex===i)return this.$.items.children[t]});e&&(this._itemsFocusable=Array.from(e.children).filter(t=>!t.hidden)[0])}this.$.footer.firstElementChild&&(this._footerFocusable=Array.from(this.$.footer.firstElementChild.children).filter(e=>!e.hidden)[0])}_scrollHorizontallyToCell(e){if(e.hasAttribute("frozen")||this._elementMatches(e,'[part~="details-cell"]'))return;const t=e.getBoundingClientRect(),i=e.parentNode,r=Array.from(i.children).indexOf(e),n=this.$.table.getBoundingClientRect();let o=n.left,a=n.right;for(let l=r-1;l>=0;l--){const d=i.children[l];if(!d.hasAttribute("hidden")&&!this._elementMatches(d,'[part~="details-cell"]')&&d.hasAttribute("frozen")){o=d.getBoundingClientRect().right;break}}for(let l=r+1;l<i.children.length;l++){const d=i.children[l];if(!d.hasAttribute("hidden")&&!this._elementMatches(d,'[part~="details-cell"]')&&d.hasAttribute("frozen")){a=d.getBoundingClientRect().left;break}}t.left<o&&(this.$.table.scrollLeft+=Math.round(t.left-o)),t.right>a&&(this.$.table.scrollLeft+=Math.round(t.right-a))}_elementMatches(e,t){return e.matches?e.matches(t):Array.from(e.parentNode.querySelectorAll(t)).indexOf(e)!==-1}},Yh=s=>class extends pt(s){static get properties(){return{columnReorderingAllowed:{type:Boolean,value:!1},_orderBaseScope:{type:Number,value:1e7}}}static get observers(){return["_updateOrders(_columnTree, _columnTree.*)"]}ready(){super.ready(),_s(this,"track",this._onTrackEvent),this._reorderGhost=this.shadowRoot.querySelector('[part="reorder-ghost"]'),this.addEventListener("touchstart",this._onTouchStart.bind(this)),this.addEventListener("touchmove",this._onTouchMove.bind(this)),this.addEventListener("touchend",this._onTouchEnd.bind(this)),this.addEventListener("contextmenu",this._onContextMenu.bind(this))}_onContextMenu(e){this.hasAttribute("reordering")&&e.preventDefault()}_onTouchStart(e){this._startTouchReorderTimeout=setTimeout(()=>{this._onTrackStart({detail:{x:e.touches[0].clientX,y:e.touches[0].clientY}})},100)}_onTouchMove(e){this._draggedColumn&&e.preventDefault(),clearTimeout(this._startTouchReorderTimeout)}_onTouchEnd(){clearTimeout(this._startTouchReorderTimeout),this._onTrackEnd()}_onTrackEvent(e){if(e.detail.state==="start"){const t=e.composedPath(),i=t[t.indexOf(this.$.header)-2];if(!i||!i._content||i._content.contains(this.getRootNode().activeElement)||this.$.scroller.hasAttribute("column-resizing"))return;this._touchDevice||this._onTrackStart(e)}else e.detail.state==="track"?this._onTrack(e):e.detail.state==="end"&&this._onTrackEnd(e)}_onTrackStart(e){if(!this.columnReorderingAllowed)return;const t=e.composedPath&&e.composedPath();if(t&&t.filter(r=>r.hasAttribute&&r.hasAttribute("draggable"))[0])return;const i=this._cellFromPoint(e.detail.x,e.detail.y);if(i&&i.getAttribute("part").indexOf("header-cell")!==-1){for(this._toggleAttribute("reordering",!0,this),this._draggedColumn=i._column;this._draggedColumn.parentElement.childElementCount===1;)this._draggedColumn=this._draggedColumn.parentElement;this._setSiblingsReorderStatus(this._draggedColumn,"allowed"),this._draggedColumn._reorderStatus="dragging",this._updateGhost(i),this._reorderGhost.style.visibility="visible",this._updateGhostPosition(e.detail.x,this._touchDevice?e.detail.y-50:e.detail.y),this._autoScroller()}}_onTrack(e){if(!this._draggedColumn)return;const t=this._cellFromPoint(e.detail.x,e.detail.y);if(!t)return;const i=this._getTargetColumn(t,this._draggedColumn);this._isSwapAllowed(this._draggedColumn,i)&&this._isSwappableByPosition(i,e.detail.x)&&this._swapColumnOrders(this._draggedColumn,i),this._updateGhostPosition(e.detail.x,this._touchDevice?e.detail.y-50:e.detail.y),this._lastDragClientX=e.detail.x}_onTrackEnd(){this._draggedColumn&&(this._toggleAttribute("reordering",!1,this),this._draggedColumn._reorderStatus="",this._setSiblingsReorderStatus(this._draggedColumn,""),this._draggedColumn=null,this._lastDragClientX=null,this._reorderGhost.style.visibility="hidden",this.dispatchEvent(new CustomEvent("column-reorder",{detail:{columns:this._getColumnsInOrder()}})))}_getColumnsInOrder(){return this._columnTree.slice(0).pop().filter(e=>!e.hidden).sort((e,t)=>e._order-t._order)}_cellFromPoint(e,t){e=e||0,t=t||0,this._draggedColumn||this._toggleAttribute("no-content-pointer-events",!0,this.$.scroller);const i=this.shadowRoot.elementFromPoint(e,t);if(this._toggleAttribute("no-content-pointer-events",!1,this.$.scroller),i&&i._column)return i}_updateGhostPosition(e,t){const i=this._reorderGhost.getBoundingClientRect(),r=e-i.width/2,n=t-i.height/2,o=parseInt(this._reorderGhost._left||0),a=parseInt(this._reorderGhost._top||0);this._reorderGhost._left=o-(i.left-r),this._reorderGhost._top=a-(i.top-n),this._reorderGhost.style.transform=`translate(${this._reorderGhost._left}px, ${this._reorderGhost._top}px)`}_updateGhost(e){const t=this._reorderGhost;t.textContent=e._content.innerText;const i=window.getComputedStyle(e);return["boxSizing","display","width","height","background","alignItems","padding","border","flex-direction","overflow"].forEach(r=>t.style[r]=i[r]),t}_updateOrders(e,t){e!==void 0&&t!==void 0&&(e[0].forEach(i=>i._order=0),e[0].forEach((i,r)=>i._order=(r+1)*this._orderBaseScope))}_setSiblingsReorderStatus(e,t){Array.from(e.parentNode.children).filter(i=>/column/.test(i.localName)&&this._isSwapAllowed(i,e)).forEach(i=>i._reorderStatus=t)}_autoScroller(){if(this._lastDragClientX){const e=this._lastDragClientX-this.getBoundingClientRect().right+50,t=this.getBoundingClientRect().left-this._lastDragClientX+50;e>0?this.$.table.scrollLeft+=e/10:t>0&&(this.$.table.scrollLeft-=t/10),this._scrollHandler()}this._draggedColumn&&this.async(this._autoScroller,10)}_isSwapAllowed(e,t){if(e&&t){const i=e!==t,r=e.parentElement===t.parentElement,n=e.frozen===t.frozen;return i&&r&&n}}_isSwappableByPosition(e,t){const i=Array.from(this.$.header.querySelectorAll('tr:not([hidden]) [part~="cell"]')).filter(o=>e.contains(o._column))[0],r=this.$.header.querySelector("tr:not([hidden]) [reorder-status=dragging]").getBoundingClientRect(),n=i.getBoundingClientRect();return n.left>r.left?t>n.right-r.width:t<n.left+r.width}_swapColumnOrders(e,t){const i=e._order;e._order=t._order,t._order=i,this._updateLastFrozen(),this._updateFirstAndLastColumn()}_getTargetColumn(e,t){if(e&&t){let i=e._column;for(;i.parentElement!==t.parentElement&&i!==this;)i=i.parentElement;return i.parentElement===t.parentElement?i:e._column}}},So=s=>class extends s{static get properties(){return{resizable:{type:Boolean,value:function(){if(this.localName==="vaadin-grid-column-group")return;const e=this.parentNode;return e&&e.localName==="vaadin-grid-column-group"&&e.resizable||!1}},_headerTemplate:{type:Object},_footerTemplate:{type:Object},frozen:{type:Boolean,value:!1},hidden:{type:Boolean},header:{type:String},textAlign:{type:String},_lastFrozen:{type:Boolean,value:!1},_order:Number,_reorderStatus:Boolean,_emptyCells:Array,_headerCell:Object,_footerCell:Object,_grid:Object,headerRenderer:Function,footerRenderer:Function}}static get observers(){return["_widthChanged(width, _headerCell, _footerCell, _cells.*)","_frozenChanged(frozen, _headerCell, _footerCell, _cells.*)","_flexGrowChanged(flexGrow, _headerCell, _footerCell, _cells.*)","_pathOrHeaderChanged(path, header, _headerCell, _footerCell, _cells.*, renderer, headerRenderer, _bodyTemplate, _headerTemplate)","_textAlignChanged(textAlign, _cells.*, _headerCell, _footerCell)","_orderChanged(_order, _headerCell, _footerCell, _cells.*)","_lastFrozenChanged(_lastFrozen)","_setBodyTemplateOrRenderer(_bodyTemplate, renderer, _cells, _cells.*)","_setHeaderTemplateOrRenderer(_headerTemplate, headerRenderer, _headerCell)","_setFooterTemplateOrRenderer(_footerTemplate, footerRenderer, _footerCell)","_resizableChanged(resizable, _headerCell)","_reorderStatusChanged(_reorderStatus, _headerCell, _footerCell, _cells.*)","_hiddenChanged(hidden, _headerCell, _footerCell, _cells.*)"]}connectedCallback(){super.connectedCallback(),this._bodyTemplate&&(this._bodyTemplate.templatizer._grid=this._grid),this._headerTemplate&&(this._headerTemplate.templatizer._grid=this._grid),this._footerTemplate&&(this._footerTemplate.templatizer._grid=this._grid),this._templateObserver.flush(),this._bodyTemplate||this._templateObserver.callback(),requestAnimationFrame(()=>{this._allCells.forEach(e=>{e._content.parentNode||this._grid&&this._grid.appendChild(e._content)})})}disconnectedCallback(){super.disconnectedCallback(),requestAnimationFrame(()=>{this._findHostGrid()||this._allCells.forEach(e=>{e._content.parentNode&&e._content.parentNode.removeChild(e._content)})}),this._gridValue=void 0}_findHostGrid(){let e=this;for(;e&&!/^vaadin.*grid(-pro)?$/.test(e.localName);)e=e.assignedSlot?e.assignedSlot.parentNode:e.parentNode;return e||void 0}get _grid(){return this._gridValue||(this._gridValue=this._findHostGrid()),this._gridValue}get _allCells(){return[].concat(this._cells||[]).concat(this._emptyCells||[]).concat(this._headerCell).concat(this._footerCell).filter(e=>e)}constructor(){super(),this._templateObserver=new ee(this,()=>{this._headerTemplate=this._prepareHeaderTemplate(),this._footerTemplate=this._prepareFooterTemplate(),this._bodyTemplate=this._prepareBodyTemplate()})}_prepareHeaderTemplate(){return this._prepareTemplatizer(this._findTemplate(!0)||null,{})}_prepareFooterTemplate(){return this._prepareTemplatizer(this._findTemplate(!1,!0)||null,{})}_prepareBodyTemplate(){return this._prepareTemplatizer(this._findTemplate()||null)}_prepareTemplatizer(e,t){if(e&&!e.templatizer){const i=new Gt;i._grid=this._grid,i.dataHost=this.dataHost,i._instanceProps=t||i._instanceProps,i.template=e,e.templatizer=i}return e}_renderHeaderAndFooter(){this.headerRenderer&&this._headerCell&&this.__runRenderer(this.headerRenderer,this._headerCell),this.footerRenderer&&this._footerCell&&this.__runRenderer(this.footerRenderer,this._footerCell)}__runRenderer(e,t,i){const r=[t._content,this];i&&i.item&&r.push(i),e.apply(this,r)}__setColumnTemplateOrRenderer(e,t,i){if(!this.hidden){if(e&&t)throw new Error("You should only use either a renderer or a template");i.forEach(r=>{const n=this._grid.__getRowModel(r.parentElement);if(t)r._renderer=t,(n.item||t===this.headerRenderer||t===this.footerRenderer)&&this.__runRenderer(t,r,n);else if(r._template!==e){r._template=e,r._content.innerHTML="",e.templatizer._grid=e.templatizer._grid||this._grid;const o=e.templatizer.createInstance();r._content.appendChild(o.root),r._instance=o,n.item&&r._instance.setProperties(n)}})}}_setBodyTemplateOrRenderer(e,t,i){(e||t)&&i&&this.__setColumnTemplateOrRenderer(e,t,i)}_setHeaderTemplateOrRenderer(e,t,i){(e||t)&&i&&this.__setColumnTemplateOrRenderer(e,t,[i])}_setFooterTemplateOrRenderer(e,t,i){(e||t)&&i&&(this.__setColumnTemplateOrRenderer(e,t,[i]),this._grid.__updateHeaderFooterRowVisibility(i.parentElement))}_selectFirstTemplate(e=!1,t=!1){return ee.getFlattenedNodes(this).filter(i=>i.localName==="template"&&i.classList.contains("header")===e&&i.classList.contains("footer")===t)[0]}_findTemplate(e,t){const i=this._selectFirstTemplate(e,t);return i&&this.dataHost&&(i._rootDataHost=this.dataHost._rootDataHost||this.dataHost),i}_flexGrowChanged(e){this.parentElement&&this.parentElement._columnPropChanged&&this.parentElement._columnPropChanged("flexGrow"),this._allCells.forEach(t=>t.style.flexGrow=e)}_orderChanged(e){this._allCells.forEach(t=>t.style.order=e)}_widthChanged(e){this.parentElement&&this.parentElement._columnPropChanged&&this.parentElement._columnPropChanged("width"),this._allCells.forEach(t=>t.style.width=e),this._grid&&this._grid.__forceReflow&&this._grid.__forceReflow()}_frozenChanged(e){this.parentElement&&this.parentElement._columnPropChanged&&this.parentElement._columnPropChanged("frozen",e),this._allCells.forEach(t=>this._toggleAttribute("frozen",e,t)),this._grid&&this._grid._frozenCellsChanged&&this._grid._frozenCellsChanged()}_lastFrozenChanged(e){this._allCells.forEach(t=>this._toggleAttribute("last-frozen",e,t)),this.parentElement&&this.parentElement._columnPropChanged&&(this.parentElement._lastFrozen=e)}_pathOrHeaderChanged(e,t,i,r,n,o,a,l,d){const h=t!==void 0;if(!a&&!d&&h&&i&&this.__setTextContent(i._content,t),e&&n.value){if(!o&&!l){const c=(_,g,{item:m})=>this.__setTextContent(_,this.get(e,m));this.__setColumnTemplateOrRenderer(void 0,c,n.value)}a||d||h||!i||t===null||this.__setTextContent(i._content,this._generateHeader(e))}i&&this._grid.__updateHeaderFooterRowVisibility(i.parentElement)}__setTextContent(e,t){e.textContent!==t&&(e.textContent=t)}_generateHeader(e){return e.substr(e.lastIndexOf(".")+1).replace(/([A-Z])/g,"-$1").toLowerCase().replace(/-/g," ").replace(/^./,t=>t.toUpperCase())}_toggleAttribute(e,t,i){i.hasAttribute(e)===!t&&(t?i.setAttribute(e,""):i.removeAttribute(e))}_reorderStatusChanged(e){this._allCells.forEach(t=>t.setAttribute("reorder-status",e))}_resizableChanged(e,t){e!==void 0&&t!==void 0&&t&&[t].concat(this._emptyCells).forEach(i=>{if(i){const r=i.querySelector('[part~="resize-handle"]');if(r&&i.removeChild(r),e){const n=document.createElement("div");n.setAttribute("part","resize-handle"),i.appendChild(n)}}})}_textAlignChanged(e){if(e===void 0)return;if(["start","end","center"].indexOf(e)===-1)return void console.warn('textAlign can only be set as "start", "end" or "center"');let t;getComputedStyle(this._grid).direction==="ltr"?e==="start"?t="left":e==="end"&&(t="right"):e==="start"?t="right":e==="end"&&(t="left"),this._allCells.forEach(i=>{i._content.style.textAlign=e,getComputedStyle(i._content).textAlign!==e&&(i._content.style.textAlign=t)})}_hiddenChanged(e){this.parentElement&&this.parentElement._columnPropChanged&&this.parentElement._columnPropChanged("hidden",e),!!e!=!!this._previousHidden&&this._grid&&(e===!0&&this._allCells.forEach(t=>{t._content.parentNode&&t._content.parentNode.removeChild(t._content)}),this._grid._debouncerHiddenChanged=F.debounce(this._grid._debouncerHiddenChanged,Q,()=>{this._grid&&this._grid._renderColumnTree&&this._grid._renderColumnTree(this._grid._columnTree)}),this._grid._updateLastFrozen&&this._grid._updateLastFrozen(),this._grid.notifyResize&&this._grid.notifyResize(),this._grid._resetKeyboardNavigation&&this._grid._resetKeyboardNavigation()),this._previousHidden=e}};class Ut extends So(gs(ie)){static get is(){return"vaadin-grid-column"}static get properties(){return{width:{type:String,value:"100px"},flexGrow:{type:Number,value:1},renderer:Function,path:{type:String},autoWidth:{type:Boolean,value:!1},_bodyTemplate:{type:Object},_cells:Array}}}customElements.define(Ut.is,Ut),rt("vaadin-grid",st`
    @keyframes vaadin-grid-appear {
      to {
        opacity: 1;
      }
    }

    :host {
      display: block;
      animation: 1ms vaadin-grid-appear;
      height: 400px;
      flex: 1 1 auto;
      align-self: stretch;
      position: relative;
    }

    :host([hidden]) {
      display: none !important;
    }

    #scroller {
      display: block;
      transform: translateY(0);
      width: auto;
      height: auto;
      position: absolute;
      top: 0;
      right: 0;
      bottom: 0;
      left: 0;
    }

    :host([height-by-rows]) {
      height: auto;
      align-self: flex-start;
      flex-grow: 0;
      width: 100%;
    }

    :host([height-by-rows]) #scroller {
      width: 100%;
      height: 100%;
      position: relative;
    }

    #table {
      display: flex;
      flex-direction: column;
      width: 100%;
      height: 100%;
      overflow: auto;
      position: relative;
      outline: none;
      /* Workaround for a Desktop Safari bug: new stacking context here prevents the scrollbar from getting hidden */
      z-index: 0;
    }

    #header,
    #footer {
      display: block;
      position: -webkit-sticky;
      position: sticky;
      left: 0;
      overflow: visible;
      width: 100%;
      z-index: 1;
    }

    #header {
      top: 0;
    }

    th {
      text-align: inherit;
    }

    /* Safari doesn't work with "inherit" */
    [safari] th {
      text-align: initial;
    }

    #footer {
      bottom: 0;
    }

    #items {
      flex-grow: 1;
      flex-shrink: 0;
      display: block;
      position: -webkit-sticky;
      position: sticky;
      width: 100%;
      left: 0;
      overflow: visible;
    }

    [part~='row'] {
      display: flex;
      width: 100%;
      box-sizing: border-box;
      margin: 0;
    }

    [part~='row'][loading] [part~='body-cell'] ::slotted(vaadin-grid-cell-content) {
      opacity: 0;
    }

    #items [part~='row'] {
      position: absolute;
    }

    #items [part~='row']:empty {
      height: 1em;
    }

    [part~='cell']:not([part~='details-cell']) {
      flex-shrink: 0;
      flex-grow: 1;
      box-sizing: border-box;
      display: flex;
      width: 100%;
      position: relative;
      align-items: center;
      padding: 0;
      white-space: nowrap;
    }

    [part~='details-cell'] {
      position: absolute;
      bottom: 0;
      width: 100%;
      box-sizing: border-box;
      padding: 0;
    }

    [part~='cell'] ::slotted(vaadin-grid-cell-content) {
      display: block;
      width: 100%;
      box-sizing: border-box;
      overflow: hidden;
      text-overflow: ellipsis;
    }

    [hidden] {
      display: none !important;
    }

    [frozen] {
      z-index: 2;
      will-change: transform;
    }

    [no-scrollbars][safari] #table,
    [no-scrollbars][firefox] #table {
      overflow: hidden;
    }

    /* Reordering styles */
    :host([reordering]) [part~='cell'] ::slotted(vaadin-grid-cell-content),
    :host([reordering]) [part~='resize-handle'],
    #scroller[no-content-pointer-events] [part~='cell'] ::slotted(vaadin-grid-cell-content) {
      pointer-events: none;
    }

    [part~='reorder-ghost'] {
      visibility: hidden;
      position: fixed;
      pointer-events: none;
      opacity: 0.5;

      /* Prevent overflowing the grid in Firefox */
      top: 0;
      left: 0;
    }

    :host([reordering]) {
      -moz-user-select: none;
      -webkit-user-select: none;
      user-select: none;
    }

    /* Resizing styles */
    [part~='resize-handle'] {
      position: absolute;
      top: 0;
      right: 0;
      height: 100%;
      cursor: col-resize;
      z-index: 1;
    }

    [part~='resize-handle']::before {
      position: absolute;
      content: '';
      height: 100%;
      width: 35px;
      transform: translateX(-50%);
    }

    [last-column] [part~='resize-handle']::before,
    [last-frozen] [part~='resize-handle']::before {
      width: 18px;
      transform: none;
      right: 0;
    }

    #scroller[column-resizing] {
      -ms-user-select: none;
      -moz-user-select: none;
      -webkit-user-select: none;
      user-select: none;
    }

    /* Sizer styles */
    #sizer {
      display: flex;
      position: absolute;
      visibility: hidden;
    }

    #sizer [part~='details-cell'] {
      display: none !important;
    }

    #sizer [part~='cell'][hidden] {
      display: none !important;
    }

    #sizer [part~='cell'] {
      display: block;
      flex-shrink: 0;
      line-height: 0;
      height: 0 !important;
      min-height: 0 !important;
      max-height: 0 !important;
      padding: 0 !important;
      border: none !important;
    }

    #sizer [part~='cell']::before {
      content: '-';
    }

    #sizer [part~='cell'] ::slotted(vaadin-grid-cell-content) {
      display: none !important;
    }

    /* RTL specific styles */

    :host([dir='rtl']) #items,
    :host([dir='rtl']) #header,
    :host([dir='rtl']) #footer {
      left: auto;
    }

    :host([dir='rtl']) [part~='reorder-ghost'] {
      left: auto;
      right: 0;
    }

    :host([dir='rtl']) [part~='resize-handle'] {
      left: 0;
      right: auto;
    }

    :host([dir='rtl']) [part~='resize-handle']::before {
      transform: translateX(50%);
    }

    :host([dir='rtl']) [last-column] [part~='resize-handle']::before,
    :host([dir='rtl']) [last-frozen] [part~='resize-handle']::before {
      left: 0;
      right: auto;
    }
  `,{moduleId:"vaadin-grid-styles"});const Zh=(()=>{try{return document.createEvent("TouchEvent"),!0}catch{return!1}})();class qr extends qn(fs(Dh(Mh(Lh(Nh(Vh(jh(Gh(Bh(Wh(Fh($h(Yh(kh(Hh(qh(Uh(Rh)))))))))))))))))){static get template(){return ct`
      <div
        id="scroller"
        safari$="[[_safari]]"
        ios$="[[_ios]]"
        loading$="[[loading]]"
        column-reordering-allowed$="[[columnReorderingAllowed]]"
      >
        <table id="table" role="grid" aria-multiselectable="true" tabindex="0">
          <caption id="sizer" part="row"></caption>
          <thead id="header" role="rowgroup"></thead>
          <tbody id="items" role="rowgroup"></tbody>
          <tfoot id="footer" role="rowgroup"></tfoot>
        </table>

        <div part="reorder-ghost"></div>
      </div>

      <div id="focusexit" tabindex="0"></div>
    `}static get is(){return"vaadin-grid"}static get version(){return"6.0.2"}static get observers(){return["_columnTreeChanged(_columnTree, _columnTree.*)"]}static get properties(){return{_safari:{type:Boolean,value:/^((?!chrome|android).)*safari/i.test(navigator.userAgent)},_ios:{type:Boolean,value:/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream||navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1},_firefox:{type:Boolean,value:navigator.userAgent.toLowerCase().indexOf("firefox")>-1},_android:{type:Boolean,value:/android/i.test(navigator.userAgent)},_touchDevice:{type:Boolean,value:Zh},heightByRows:{type:Boolean,value:!1,reflectToAttribute:!0,observer:"_heightByRowsChanged"},_recalculateColumnWidthOnceLoadingFinished:{type:Boolean,value:!0}}}constructor(){super(),this.addEventListener("animationend",this._onAnimationEnd)}connectedCallback(){super.connectedCallback(),this.recalculateColumnWidths()}attributeChangedCallback(e,t,i){super.attributeChangedCallback(e,t,i),e==="dir"&&(this.__isRTL=i==="rtl",this._updateScrollerMeasurements())}__hasRowsWithClientHeight(){return!!Array.from(this.$.items.children).filter(e=>e.clientHeight).length}__itemsReceived(){this._recalculateColumnWidthOnceLoadingFinished&&!this._cache.isLoading()&&this.__hasRowsWithClientHeight()&&(this._recalculateColumnWidthOnceLoadingFinished=!1,this.recalculateColumnWidths())}_recalculateColumnWidths(e){e.forEach(t=>{t.width="auto",t._origFlexGrow=t.flexGrow,t.flexGrow=0}),e.forEach(t=>{t._currentWidth=0,t._allCells.forEach(i=>{const r=i.offsetWidth+1;t._currentWidth=Math.max(t._currentWidth,r)})}),e.forEach(t=>{t.width=`${t._currentWidth}px`,t.flexGrow=t._origFlexGrow,t._currentWidth=void 0,t._origFlexGrow=void 0})}recalculateColumnWidths(){if(this._columnTree)if(this._cache.isLoading())this._recalculateColumnWidthOnceLoadingFinished=!0;else{const e=this._getColumns().filter(t=>!t.hidden&&t.autoWidth);this._recalculateColumnWidths(e)}}_createScrollerRows(e){const t=[];for(let i=0;i<e;i++){const r=document.createElement("tr");r.setAttribute("part","row"),r.setAttribute("role","row"),this._columnTree&&this._updateRow(r,this._columnTree[this._columnTree.length-1],"body",!1,!0),t.push(r)}return this._columnTree&&this._columnTree[this._columnTree.length-1].forEach(i=>i.isConnected&&i.notifyPath&&i.notifyPath("_cells.*",i._cells)),cd(this,()=>{this._updateFirstAndLastColumn(),this._resetKeyboardNavigation()}),t}_getRowTarget(){return this.$.items}_createCell(e){const t="vaadin-grid-cell-content-"+(this._contentIndex=this._contentIndex+1||0),i=document.createElement("vaadin-grid-cell-content");i.setAttribute("slot",t);const r=document.createElement(e);r.id=t.replace("-content-","-"),r.setAttribute("tabindex","-1"),r.setAttribute("role",e==="td"?"gridcell":"columnheader");const n=document.createElement("slot");return n.setAttribute("name",t),r.appendChild(n),r._content=i,i.addEventListener("mousedown",()=>{if(window.chrome){const o=()=>{i.contains(this.getRootNode().activeElement)||r.focus(),document.removeEventListener("mouseup",o,!0)};document.addEventListener("mouseup",o,!0)}else setTimeout(()=>{i.contains(this.getRootNode().activeElement)||r.focus()})}),r}_updateRow(e,t,i,r,n){i=i||"body";const o=document.createDocumentFragment();Array.from(e.children).forEach(a=>a._vacant=!0),e.innerHTML="",e.id!=="sizer"&&(e.hidden=!0),t.filter(a=>!a.hidden).forEach((a,l,d)=>{let h;if(i==="body"){if(a._cells=a._cells||[],h=a._cells.filter(c=>c._vacant)[0],h||(h=this._createCell("td"),a._cells.push(h)),h.setAttribute("part","cell body-cell"),e.appendChild(h),l===d.length-1&&(this._rowDetailsTemplate||this.rowDetailsRenderer)){this._detailsCells=this._detailsCells||[];const c=this._detailsCells.filter(_=>_._vacant)[0]||this._createCell("td");this._detailsCells.indexOf(c)===-1&&this._detailsCells.push(c),c._content.parentElement||o.appendChild(c._content),this._configureDetailsCell(c),e.appendChild(c),this._a11ySetRowDetailsCell(e,c),c._vacant=!1}a.notifyPath&&!n&&a.notifyPath("_cells.*",a._cells)}else{const c=i==="header"?"th":"td";r||a.localName==="vaadin-grid-column-group"?(h=a[`_${i}Cell`]||this._createCell(c),h._column=a,e.appendChild(h),a[`_${i}Cell`]=h):(a._emptyCells=a._emptyCells||[],h=a._emptyCells.filter(_=>_._vacant)[0]||this._createCell(c),h._column=a,e.appendChild(h),a._emptyCells.indexOf(h)===-1&&a._emptyCells.push(h)),h.setAttribute("part",`cell ${i}-cell`),this.__updateHeaderFooterRowVisibility(e)}h._content.parentElement||o.appendChild(h._content),h._vacant=!1,h._column=a}),this.appendChild(o),this._frozenCellsChanged(),this._updateFirstAndLastColumnForRow(e)}__updateHeaderFooterRowVisibility(e){if(!e)return;const t=Array.from(e.children).filter(i=>{const r=i._column;if(r._emptyCells&&r._emptyCells.indexOf(i)>-1)return!1;if(e.parentElement===this.$.header){if(r.headerRenderer||r._headerTemplate)return!0;if(r.header===null)return!1;if(r.path||r.header!==void 0)return!0}else if(r.footerRenderer||r._footerTemplate)return!0});e.hidden!==!t.length&&(e.hidden=!t.length,this.notifyResize())}_updateScrollerItem(e,t){this._preventScrollerRotatingCellFocus(e,t),this._columnTree&&(this._toggleAttribute("first",t===0,e),this._toggleAttribute("odd",t%2,e),this._a11yUpdateRowRowindex(e,t),this._getItem(t,e))}_columnTreeChanged(e){this._renderColumnTree(e),this.recalculateColumnWidths()}_renderColumnTree(e){for(Array.from(this.$.items.children).forEach(t=>this._updateRow(t,e[e.length-1],null,!1,!0));this.$.header.children.length<e.length;){const t=document.createElement("tr");t.setAttribute("part","row"),t.setAttribute("role","row"),this.$.header.appendChild(t);const i=document.createElement("tr");i.setAttribute("part","row"),i.setAttribute("role","row"),this.$.footer.appendChild(i)}for(;this.$.header.children.length>e.length;)this.$.header.removeChild(this.$.header.firstElementChild),this.$.footer.removeChild(this.$.footer.firstElementChild);Array.from(this.$.header.children).forEach((t,i)=>this._updateRow(t,e[i],"header",i===e.length-1)),Array.from(this.$.footer.children).forEach((t,i)=>this._updateRow(t,e[e.length-1-i],"footer",i===0)),this._updateRow(this.$.sizer,e[e.length-1]),this._resizeHandler(),this._frozenCellsChanged(),this._updateFirstAndLastColumn(),this._resetKeyboardNavigation(),this._a11yUpdateHeaderRows(),this._a11yUpdateFooterRows(),this.__updateFooterPositioning()}__updateFooterPositioning(){this._firefox&&(this.$.items.style.paddingBottom=0,this.heightByRows||(this.$.items.style.paddingBottom=`${this.$.footer.offsetHeight}px`)),this._ios&&!window.CSS.supports("position","sticky")&&(this.$.table.style.height="",this.$.table.style.minHeight="100%",this.$.table.style.maxHeight="100%",setTimeout(()=>this.$.table.style.height=`${this.$.scroller.offsetHeight}px`))}_updateItem(e,t){e._item=t;const i=this.__getRowModel(e);this._toggleAttribute("selected",i.selected,e),this._a11yUpdateRowSelected(e,i.selected),this._a11yUpdateRowLevel(e,i.level),this._toggleAttribute("expanded",i.expanded,e),this._toggleAttribute("details-opened",this._isDetailsOpened(t),e),(this._rowDetailsTemplate||this.rowDetailsRenderer)&&this._toggleDetailsCell(e,t),this._generateCellClassNames(e,i),this._filterDragAndDrop(e,i),Array.from(e.children).forEach(r=>{if(r._renderer){const n=r._column||this;r._renderer.call(n,r._content,n,i)}else r._instance&&(r._instance.__detailsOpened__=i.detailsOpened,r._instance.__selected__=i.selected,r._instance.__level__=i.level,r._instance.__expanded__=i.expanded,r._instance.setProperties(i))}),this._debouncerUpdateHeights=F.debounce(this._debouncerUpdateHeights,Y.after(1),()=>{this._updateMetrics(),this._positionItems(),this._updateScrollerSize()})}_resizeHandler(){this._updateDetailsCellHeights(),this._accessIronListAPI(super._resizeHandler,!0),this._updateScrollerMeasurements(),this.__updateFooterPositioning()}_onAnimationEnd(e){e.animationName.indexOf("vaadin-grid-appear")===0&&(this._render(),e.stopPropagation(),this.notifyResize(),this.__itemsReceived(),requestAnimationFrame(()=>{this.__scrollToPendingIndex(),this.$.table.style.webkitOverflowScrolling="touch"}))}_toggleAttribute(e,t,i){i.hasAttribute(e)===!t&&(t?i.setAttribute(e,""):i.removeAttribute(e))}__getRowModel(e){return{index:e.index,item:e._item,level:this._getIndexLevel(e.index),expanded:this._isExpanded(e._item),selected:this._isSelected(e._item),detailsOpened:!(!this._rowDetailsTemplate&&!this.rowDetailsRenderer)&&this._isDetailsOpened(e._item)}}render(){this._columnTree&&(this._columnTree.forEach(e=>{e.forEach(t=>t._renderHeaderAndFooter())}),this._update())}notifyResize(){super.notifyResize()}_heightByRowsChanged(e,t){(e||t)&&this.notifyResize()}__forceReflow(){this._debouncerForceReflow=F.debounce(this._debouncerForceReflow,Q,()=>{this.$.scroller.style.overflow="hidden",setTimeout(()=>this.$.scroller.style.overflow="")})}}customElements.define(qr.is,qr);class Wr extends So(ie){static get is(){return"vaadin-grid-column-group"}static get properties(){return{_childColumns:{value:function(){return this._getChildColumns(this)}},flexGrow:{type:Number,readOnly:!0},width:{type:String,readOnly:!0},_visibleChildColumns:Array,_colSpan:Number,_rootColumns:Array}}static get observers(){return["_updateVisibleChildColumns(_childColumns)","_childColumnsChanged(_childColumns)","_groupFrozenChanged(frozen, _rootColumns)","_groupHiddenChanged(hidden, _rootColumns)","_visibleChildColumnsChanged(_visibleChildColumns)","_colSpanChanged(_colSpan, _headerCell, _footerCell)","_groupOrderChanged(_order, _rootColumns)","_groupReorderStatusChanged(_reorderStatus, _rootColumns)","_groupResizableChanged(resizable, _rootColumns)"]}connectedCallback(){super.connectedCallback(),this._addNodeObserver(),this._updateFlexAndWidth()}disconnectedCallback(){super.disconnectedCallback(),this._observer&&this._observer.disconnect()}_columnPropChanged(e,t){e==="hidden"&&(this._preventHiddenCascade=!0,this._updateVisibleChildColumns(this._childColumns),this._preventHiddenCascade=!1),/flexGrow|width|hidden|_childColumns/.test(e)&&this._updateFlexAndWidth(),e==="frozen"&&(this.frozen=this.frozen||t),e==="lastFrozen"&&(this._lastFrozen=this._lastFrozen||t)}_groupOrderChanged(e,t){if(t){const i=t.slice(0);if(!e)return void i.forEach(a=>a._order=0);const r=/(0+)$/.exec(e).pop().length,n=1+~~(Math.log(t.length)/Math.log(Math.LN10)),o=Math.pow(10,r-n);i[0]&&i[0]._order&&i.sort((a,l)=>a._order-l._order),i.forEach((a,l)=>a._order=e+(l+1)*o)}}_groupReorderStatusChanged(e,t){e!==void 0&&t!==void 0&&t.forEach(i=>i._reorderStatus=e)}_groupResizableChanged(e,t){e!==void 0&&t!==void 0&&t.forEach(i=>i.resizable=e)}_updateVisibleChildColumns(e){this._visibleChildColumns=Array.prototype.filter.call(e,t=>!t.hidden)}_childColumnsChanged(e){!this._autoHidden&&this.hidden&&(Array.prototype.forEach.call(e,t=>t.hidden=!0),this._updateVisibleChildColumns(e))}_updateFlexAndWidth(){this._visibleChildColumns&&(this._visibleChildColumns.length?this._setWidth("calc("+Array.prototype.reduce.call(this._visibleChildColumns,(e,t)=>e+" + "+(t.width||"0px").replace("calc",""),"").substring(3)+")"):this._setWidth("0px"),this._setFlexGrow(Array.prototype.reduce.call(this._visibleChildColumns,(e,t)=>e+t.flexGrow,0)))}_groupFrozenChanged(e,t){t!==void 0&&e!==void 0&&e!==!1&&Array.from(t).forEach(i=>i.frozen=e)}_groupHiddenChanged(e,t){t&&!this._preventHiddenCascade&&(this._ignoreVisibleChildColumns=!0,t.forEach(i=>i.hidden=e),this._ignoreVisibleChildColumns=!1),this._columnPropChanged("hidden")}_visibleChildColumnsChanged(e){this._colSpan=e.length,this._ignoreVisibleChildColumns||(e.length===0?this._autoHidden=this.hidden=!0:this.hidden&&this._autoHidden&&(this._autoHidden=this.hidden=!1))}_colSpanChanged(e,t,i){t&&(t.setAttribute("colspan",e),this._grid&&this._grid._a11yUpdateCellColspan(t,e)),i&&(i.setAttribute("colspan",e),this._grid&&this._grid._a11yUpdateCellColspan(i,e))}_getChildColumns(e){return ee.getFlattenedNodes(e).filter(this._isColumnElement)}_addNodeObserver(){this._observer=new ee(this,e=>{(e.addedNodes.filter(this._isColumnElement).length>0||e.removedNodes.filter(this._isColumnElement).length>0)&&(this._preventHiddenCascade=!0,this._rootColumns=this._getChildColumns(this),this._childColumns=this._rootColumns,this._preventHiddenCascade=!1,U.run(()=>{this._grid&&this._grid._updateColumnTree&&this._grid._updateColumnTree()}))}),this._observer.flush()}_isColumnElement(e){return e.nodeType===Node.ELEMENT_NODE&&/\bcolumn\b/.test(e.localName)}}customElements.define(Wr.is,Wr);class Yr extends Ut{static get template(){return ct`
      <template class="header" id="defaultHeaderTemplate">
        <vaadin-checkbox
          class="vaadin-grid-select-all-checkbox"
          aria-label="Select All"
          hidden$="[[_selectAllHidden]]"
          on-checked-changed="_onSelectAllCheckedChanged"
          checked="[[_isChecked(selectAll, _indeterminate)]]"
          indeterminate="[[_indeterminate]]"
        ></vaadin-checkbox>
      </template>
      <template id="defaultBodyTemplate">
        <vaadin-checkbox aria-label="Select Row" checked="{{selected}}"></vaadin-checkbox>
      </template>
    `}static get is(){return"vaadin-grid-selection-column"}static get properties(){return{width:{type:String,value:"58px"},flexGrow:{type:Number,value:0},selectAll:{type:Boolean,value:!1,notify:!0},autoSelect:{type:Boolean,value:!1},_indeterminate:Boolean,_previousActiveItem:Object,_selectAllHidden:Boolean}}static get observers(){return["_onSelectAllChanged(selectAll)"]}_pathOrHeaderChanged(e,t,i,r,n,o,a,l,d){!n.value||e===void 0&&o===void 0||(this._bodyTemplate=l=void 0,this.__cleanCellsOfTemplateProperties(n.value)),!i||t===void 0&&a===void 0||(this._headerTemplate=d=void 0,this.__cleanCellsOfTemplateProperties([i])),super._pathOrHeaderChanged(e,t,i,r,n,o,a,l,d)}__cleanCellsOfTemplateProperties(e){e.forEach(t=>{t._content.innerHTML="",delete t._instance,delete t._template})}_prepareHeaderTemplate(){const e=this._prepareTemplatizer(this._findTemplate(!0)||this.$.defaultHeaderTemplate);return e.templatizer.dataHost=e===this.$.defaultHeaderTemplate?this:this.dataHost,e}_prepareBodyTemplate(){const e=this._prepareTemplatizer(this._findTemplate()||this.$.defaultBodyTemplate);return e.templatizer.dataHost=e===this.$.defaultBodyTemplate?this:this.dataHost,e}constructor(){super(),this._boundOnActiveItemChanged=this._onActiveItemChanged.bind(this),this._boundOnDataProviderChanged=this._onDataProviderChanged.bind(this),this._boundOnSelectedItemsChanged=this._onSelectedItemsChanged.bind(this)}disconnectedCallback(){this._grid.removeEventListener("active-item-changed",this._boundOnActiveItemChanged),this._grid.removeEventListener("data-provider-changed",this._boundOnDataProviderChanged),this._grid.removeEventListener("filter-changed",this._boundOnSelectedItemsChanged),this._grid.removeEventListener("selected-items-changed",this._boundOnSelectedItemsChanged),super.disconnectedCallback()}connectedCallback(){super.connectedCallback(),this._grid&&(this._grid.addEventListener("active-item-changed",this._boundOnActiveItemChanged),this._grid.addEventListener("data-provider-changed",this._boundOnDataProviderChanged),this._grid.addEventListener("filter-changed",this._boundOnSelectedItemsChanged),this._grid.addEventListener("selected-items-changed",this._boundOnSelectedItemsChanged))}_onSelectAllChanged(e){e!==void 0&&this._grid&&(this._selectAllChangeLock||(this._grid.selectedItems=e&&Array.isArray(this._grid.items)?this._grid._filter(this._grid.items):[]))}_arrayContains(e,t){for(var i=0;e&&t&&t[i]&&e.indexOf(t[i])>=0;i++);return i==t.length}_onSelectAllCheckedChanged(e){this.selectAll=this._indeterminate||e.target.checked}_isChecked(e,t){return t||e}_onActiveItemChanged(e){const t=e.detail.value;if(this.autoSelect){const i=t||this._previousActiveItem;i&&this._grid._toggleItem(i)}this._previousActiveItem=t}_onSelectedItemsChanged(){this._selectAllChangeLock=!0,Array.isArray(this._grid.items)&&(this._grid.selectedItems.length?this._arrayContains(this._grid.selectedItems,this._grid._filter(this._grid.items))?(this.selectAll=!0,this._indeterminate=!1):(this.selectAll=!1,this._indeterminate=!0):(this.selectAll=!1,this._indeterminate=!1)),this._selectAllChangeLock=!1}_onDataProviderChanged(){this._selectAllHidden=!Array.isArray(this._grid.items)}}customElements.define(Yr.is,Yr),rt("vaadin-grid-sorter",st`
    :host {
      justify-content: flex-start;
      align-items: baseline;
      -webkit-user-select: none;
      -moz-user-select: none;
      user-select: none;
    }

    [part='content'] {
      display: inline-block;
      overflow: hidden;
      text-overflow: ellipsis;
    }

    [part='indicators'] {
      margin-left: var(--lumo-space-s);
    }

    :host(:not([direction])) [part='indicators']::before {
      opacity: 0.2;
    }

    :host([direction]) {
      color: var(--lumo-primary-text-color);
    }

    [part='order'] {
      font-size: var(--lumo-font-size-xxs);
      line-height: 1;
    }

    /* RTL specific styles */

    :host([dir='rtl']) [part='indicators'] {
      margin-right: var(--lumo-space-s);
      margin-left: 0;
    }
  `,{moduleId:"lumo-grid-sorter"});const Zr=document.createElement("template");Zr.innerHTML=`
  <style>
    @font-face {
      font-family: 'vaadin-grid-sorter-icons';
      src: url(data:application/font-woff;charset=utf-8;base64,d09GRgABAAAAAAQwAA0AAAAABuwAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAABGRlRNAAAEFAAAABkAAAAcfep+mUdERUYAAAP4AAAAHAAAAB4AJwAOT1MvMgAAAZgAAAA/AAAAYA8TBPpjbWFwAAAB7AAAAFUAAAFeF1fZ4mdhc3AAAAPwAAAACAAAAAgAAAAQZ2x5ZgAAAlgAAABcAAAAnMvguMloZWFkAAABMAAAAC8AAAA2C5Ap72hoZWEAAAFgAAAAHQAAACQGbQPHaG10eAAAAdgAAAAUAAAAHAoAAABsb2NhAAACRAAAABIAAAASAIwAYG1heHAAAAGAAAAAFgAAACAACwAKbmFtZQAAArQAAAECAAACZxWCgKhwb3N0AAADuAAAADUAAABZCrApUXicY2BkYGAA4rDECVrx/DZfGbhZGEDgyqNPOxH0/wNMq5kPALkcDEwgUQBWRA0dAHicY2BkYGA+8P8AAwMLAwgwrWZgZEAFbABY4QM8AAAAeJxjYGRgYOAAQiYGEICQSAAAAi8AFgAAeJxjYGY6yziBgZWBgWkm0xkGBoZ+CM34msGYkZMBFTAKoAkwODAwvmRiPvD/AIMDMxCD1CDJKjAwAgBktQsXAHicY2GAAMZQCM0EwqshbAALxAEKeJxjYGBgZoBgGQZGBhCIAPIYwXwWBhsgzcXAwcAEhIwMCi+Z/v/9/x+sSuElA4T9/4k4K1gHFwMMMILMY2QDYmaoABOQYGJABUA7WBiGNwAAJd4NIQAAAAAAAAAACAAIABAAGAAmAEAATgAAeJyNjLENgDAMBP9tIURJwQCMQccSZgk2i5fIYBDAidJjycXr7x5EPwE2wY8si7jmyBNXGo/bNBerxJNrpxhbO3/fEFpx8ZICpV+ghxJ74fAMe+h7Ox14AbrsHB14nK2QQWrDMBRER4mTkhQK3ZRQKOgCNk7oGQqhhEIX2WSlWEI1BAlkJ5CDdNsj5Ey9Rncdi38ES+jzNJo/HwTgATcoDEthhY3wBHc4CE+pfwsX5F/hGe7Vo/AcK/UhvMSz+mGXKhZU6pww8ISz3oWn1BvhgnwTnuEJf8Jz1OpFeIlX9YULDLdFi4ASHolkSR0iuYdjLak1vAequBhj21D61Nqyi6l3qWybGPjySbPHGScGJl6dP58MYcQRI0bts7mjebBqrFENH7t3qWtj0OuqHnXcW7b0HOTZFnKryRGW2hFX1m0O2vEM3opNMfTau+CS6Z3Vx6veNnEXY6jwDxhsc2gAAHicY2BiwA84GBgYmRiYGJkZmBlZGFkZ2djScyoLMgzZS/MyDQwMwLSrpYEBlIbxjQDrzgsuAAAAAAEAAf//AA94nGNgZGBg4AFiMSBmYmAEQnYgZgHzGAAD6wA2eJxjYGBgZACCKyoz1cD0o087YTQATOcIewAAAA==) format('woff');
      font-weight: normal;
      font-style: normal;
    }
  </style>
`,document.head.appendChild(Zr.content);class Jr extends fs(gs(ie)){static get template(){return ct`
      <style>
        :host {
          display: inline-flex;
          cursor: pointer;
          max-width: 100%;
        }

        [part='content'] {
          flex: 1 1 auto;
        }

        [part='indicators'] {
          position: relative;
          align-self: center;
          flex: none;
        }

        [part='order'] {
          display: inline;
          vertical-align: super;
        }

        [part='indicators']::before {
          font-family: 'vaadin-grid-sorter-icons';
          display: inline-block;
        }

        :host(:not([direction])) [part='indicators']::before {
          content: '\\e901';
        }

        :host([direction='asc']) [part='indicators']::before {
          content: '\\e900';
        }

        :host([direction='desc']) [part='indicators']::before {
          content: '\\e902';
        }
      </style>

      <div part="content">
        <slot></slot>
      </div>
      <div part="indicators">
        <span part="order">[[_getDisplayOrder(_order)]]</span>
      </div>
    `}static get is(){return"vaadin-grid-sorter"}static get properties(){return{path:String,direction:{type:String,reflectToAttribute:!0,notify:!0,value:null},_order:{type:Number,value:null},_isConnected:{type:Boolean,observer:"__isConnectedChanged"}}}static get observers(){return["_pathOrDirectionChanged(path, direction)"]}ready(){super.ready(),this.addEventListener("click",this._onClick.bind(this))}connectedCallback(){super.connectedCallback(),this._isConnected=!0}disconnectedCallback(){super.disconnectedCallback(),this._isConnected=!1}_pathOrDirectionChanged(){this.__dispatchSorterChangedEvenIfPossible()}__isConnectedChanged(e,t){t!==!1&&this.__dispatchSorterChangedEvenIfPossible()}__dispatchSorterChangedEvenIfPossible(){this.path!==void 0&&this.direction!==void 0&&this._isConnected&&this.dispatchEvent(new CustomEvent("sorter-changed",{bubbles:!0,composed:!0}))}_getDisplayOrder(e){return e===null?"":e+1}_onClick(e){const t=this.getRootNode().activeElement;this!==t&&this.contains(t)||(e.preventDefault(),this.direction==="asc"?this.direction="desc":this.direction==="desc"?this.direction=null:this.direction="asc")}}customElements.define(Jr.is,Jr);class Xr extends Ut{static get template(){return ct`
      <template class="header" id="headerTemplate">
        <vaadin-grid-sorter path="[[path]]" direction="{{direction}}">[[_getHeader(header, path)]]</vaadin-grid-sorter>
      </template>
    `}static get is(){return"vaadin-grid-sort-column"}static get properties(){return{path:String,direction:{type:String,notify:!0}}}_prepareHeaderTemplate(){const e=this._prepareTemplatizer(this.$.headerTemplate);return e.templatizer.dataHost=this,e}_getHeader(e,t){return e||this._generateHeader(t)}}customElements.define(Xr.is,Xr);const Qr={selectionColumn:!0,columnMenus:!0},Et="esri-grid",Jh="compact column-borders",It={base:Et,content:`${Et}__content`,grid:`${Et}__grid`,noColumnMenu:`${Et}--no-column-menu`};let R=class extends on{constructor(s,e){super(s,e),this._grid=null,this._columnElements=[],this._isDataLoaded=!1,this.itemIdPath=null,this.messages=null,this.viewModel=new dn,this.visibleElements={...Qr}}initialize(){this.addHandles([this.columns.on("change",()=>this.onColumnChange()),N(()=>{var s;return(s=this.viewModel)==null?void 0:s.size},()=>this._updateGridSize()),N(()=>{var s;return(s=this.store)==null?void 0:s.state},(s,e)=>{s!=="ready"||e!=="loaded"&&e!=="error"||this.refreshPageCache()}),ve(()=>this.highlightIds,"change",s=>{const{added:e,removed:t}=s,i=e.map(n=>{var o;return((o=this.store)==null?void 0:o.getLocalItemByKey(n))||{objectId:n}}),r=t.map(n=>{var o;return((o=this.store)==null?void 0:o.getLocalItemByKey(n))||{objectId:n}});this._deselectRows(r),this._selectRows(i)}),ve(()=>{var s,e;return(e=(s=this._grid)==null?void 0:s.$)==null?void 0:e.table},"scroll",()=>{var s;return(s=this.viewModel)==null?void 0:s.closeColumnMenus()})])}destroy(){var s;this.resetColumns(),(s=this.columns)==null||s.destroy()}resetColumns(){this.columns.items.forEach(s=>s.destroy()),this.columns.removeAll()}get cellClassNameGenerator(){return this.viewModel.cellClassNameGenerator}set cellClassNameGenerator(s){this.viewModel.cellClassNameGenerator=s}get columns(){return this.viewModel.columns}set columns(s){this.viewModel.columns=s}get columnReorderingEnabled(){return this.viewModel.columnReorderingEnabled}set columnReorderingEnabled(s){this.viewModel.columnReorderingEnabled=s}get dataProvider(){return this.viewModel.dataProvider}set dataProvider(s){this.viewModel.dataProvider=s}get highlightIds(){return this.viewModel.highlightIds}set highlightIds(s){this.viewModel.highlightIds=s}get label(){var s;return((s=this.messages)==null?void 0:s.widgetLabel)??""}set label(s){this._overrideIfSome("label",s)}get multiSortEnabled(){return this.viewModel.multiSortEnabled}set multiSortEnabled(s){this.viewModel.multiSortEnabled=s}get pageSize(){return this.viewModel.pageSize}set pageSize(s){this.viewModel.pageSize=s}get rowDetailsRenderer(){return this.viewModel.rowDetailsRenderer}set rowDetailsRenderer(s){this.viewModel.rowDetailsRenderer=s}get size(){return this.viewModel.size}get sortOrders(){var s;return(s=this._grid)!=null&&s._sorters?this._grid._sorters.filter(e=>!!e).map(({direction:e,path:t})=>({direction:e,path:t})):[]}get store(){return this.viewModel.store}set store(s){this.viewModel.store=s}castVisibleElements(s){return{...Qr,...s}}getColumnProps(s,e){const{id:t}=this,{autoWidth:i,direction:r,flexGrow:n,frozen:o,header:a,hidden:l,path:d,resizable:h,textAlign:c,width:_}=s;return{autoWidth:i,direction:r,flexGrow:n,frozen:o,header:a,hidden:l,key:`${t}_${a}_${e??d}`,path:d,resizable:h,"text-align":c,width:typeof _=="number"?`${_}px`:_,bind:this,afterCreate:this._afterColumnCreate,afterRemoved:this._afterColumnRemoved}}clearSelection(){this._clearSelection(),this.scheduleRender()}clearSort(){var e,t;let s=!1;this._grid&&((e=this._grid._sorters)!=null&&e.length&&(this._grid._sorters.forEach(i=>{i._order=null,i.direction=null}),s=!0),(t=this.columns)!=null&&t.length&&this.columns.some(i=>!!i.direction)&&(this.columns.forEach(i=>i.direction=null),s=!0),s&&(this.notifyChange("sortOrders"),this.scheduleRender()))}findColumn(s){this.viewModel.findColumn(s)}generateCellClassNames(){var s;(s=this._grid)==null||s.generateCellClassNames()}getSlotElementByName(s){var e,t;return((t=(e=this._grid)==null?void 0:e.shadowRoot)==null?void 0:t.querySelector(`slot[name='${s}']`))??null}hideColumn(s){var e;(e=this.viewModel)==null||e.hideColumn(s),this.scheduleRender()}notifyResize(){var s;(s=this._grid)==null||s.notifyResize()}recalculateColumnWidths(){var s;(s=this._grid)==null||s.recalculateColumnWidths()}async reset(){var s;this._isDataLoaded=!1,this._clearSelection(),await((s=this.store)==null?void 0:s.reset()),this.scrollToTop()}refreshPageCache(){var s;(s=this._grid)==null||s.clearCache()}selectRows(s){const e=s==null?void 0:s.filter(i=>!this.highlightIds.includes(i.objectId)),t=e.map(i=>i.objectId);t.length&&(this.highlightIds.addMany(t),this._selectRows(e))}deselectRows(s){const e=(s==null?void 0:s.map(t=>t.objectId))||[];e.length&&(this.highlightIds.removeMany(e),this._deselectRows(s))}showColumn(s){var e;(e=this.viewModel)==null||e.showColumn(s),this.scheduleRender()}sort({path:s,direction:e}){var t;(t=this.viewModel)==null||t.sortColumn(s,e),this.notifyChange("sortOrders")}scrollToIndex(s){var e;(e=this._grid)==null||e.scrollToIndex(s)}scrollToTop(){var s;(s=this._grid)==null||s.scrollToIndex(0)}isEditingActive(){return!!this._getActiveEditInfo().length}onColumnChange(){this._syncColumnRenderers()}render(){const{columnMenus:s}=this.visibleElements;return O("div",{bind:this,class:this.classes(It.base,ln.widget,{[It.noColumnMenu]:!s})},O("div",{bind:this,class:It.content},this._renderGrid()))}_renderGrid(){return O("vaadin-grid",{_safari:!1,afterCreate:this._afterGridCreate,afterUpdate:this._afterGridUpdate,bind:this,cellClassNameGenerator:this.cellClassNameGenerator,class:It.grid,columnReorderingAllowed:this.columnReorderingEnabled,dataProvider:this.dataProvider,id:`${this.id}_grid`,itemIdPath:this.itemIdPath,multiSort:this.multiSortEnabled,pageSize:this.pageSize,ref:"grid",rowDetailsRenderer:this.rowDetailsRenderer,size:this.size},this._renderAllColumns())}_renderAllColumns(){var s;return this.viewModel.state!=="disabled"&&((s=this.columns)!=null&&s.length)?[this._renderSelectionColumn(),this._renderColumns()]:null}_renderSelectionColumn(){return O("vaadin-grid-selection-column",{_selectAllHidden:!0,bind:this,frozen:!Ho(this.container),hidden:!this.visibleElements.selectionColumn,selectAll:!1,sortable:!1})}_renderColumns(){return this.columns.items.map((s,e)=>"columns"in s?this._renderGroupColumn(s,e):O("vaadin-grid-column",{...this.getColumnProps(s,e)})).filter(rn)}_renderGroupColumn(s,e){const t=this.getColumnProps(s,e);if(t.hidden||!s.columns)return null;const i=s.columns.filter(({hidden:r})=>!r);return i.length?O("vaadin-grid-column-group",{...t},i.map(r=>O("vaadin-grid-column",{...this.getColumnProps(r,e)}))):null}_afterGridCreate(s){const e=this._grid=s;e.setAttribute("theme",Jh),customElements.whenDefined("vaadin-grid").then(()=>this._addGridEventListeners()),e.__updateSorter=t=>{const i=e._sorters,r=!i.includes(t);if(t.direction||!r){if(t._order=null,e.multiSort)e._removeArrayItem(i,t),t.direction&&(t._initialOrder!=null?(r?i[t._initialOrder]=t:i.splice(t._initialOrder,0,t),t._initialOrder=null):i.unshift(t)),e.__updateSortOrders();else if(t.direction){const n=i.filter(o=>o!==t);e._sorters=[t],n.forEach(o=>{o._order=null,o.direction=null})}}}}_afterGridUpdate(s){this._grid||(this._grid=s)}_afterColumnCreate(s){this._applyRenderersToColumnElement(s),this._columnElements.push(s)}_afterColumnRemoved(s){const e=this._columnElements.indexOf(s,0);e>-1&&this._columnElements.splice(e,1)}_syncColumnRenderers(){this._columnElements.forEach(s=>{this._applyRenderersToColumnElement(s)})}_updateGridSize(){this._grid&&(this._grid.size=this.size||0,this.scheduleRender())}_getActiveEditInfo(){return!this.columns||this.columns.length?[]:this.columns.filter(s=>"activeEditInfo"in s).map(s=>s.activeEditInfo).items}_addGridEventListeners(){const s=this._grid;Ot(s),this.addHandles([mt(s,"click",e=>this._onRowClick(e)),mt(s,"selected-items-changed",e=>this._onSelectionChange(e)),mt(s,"sorter-changed",()=>this.notifyChange("sortOrders")),mt(s,"loading-changed",e=>{this._isDataLoaded||e.detail.value===!1&&(this._isDataLoaded=!0,this._selectRowsOnLoad())})])}_onRowClick(s){const e=this._grid;Ot(e);const t=e.getEventContext(s),{item:i,section:r}=t;i&&r&&r!=="details"&&r!=="header"&&this.emit("row-click",{context:t,native:s})}_clearSelection(){this._grid&&(this.highlightIds.removeAll(),this._grid.selectedItems=[],this._grid.render())}_selectRowsOnLoad(){var i;const s=this._grid;if(!s)return;const e=s.selectedItems.slice();((i=this.highlightIds)==null?void 0:i.filter(r=>e.findIndex(n=>n.objectId===r)<0)).forEach(r=>{var n;return s.selectedItems.push(((n=this.store)==null?void 0:n.getLocalItemByKey(r))||{objectId:r})}),s.render()}_selectRows(s){const e=this._grid;if(!e)return;const t=e.selectedItems.slice();s.filter(i=>t.findIndex(r=>r.objectId===i.objectId)<0).forEach(i=>e.selectedItems.push(i)),e.render()}_deselectRows(s){const e=this._grid;if(!e)return;const t=e.selectedItems.slice();s.forEach(i=>{const r=t.findIndex(n=>n.objectId===i.objectId);r>-1&&t.splice(r,1)}),e.selectedItems=t,e.render()}_onSelectionChange(s){const e=s;if(e.detail.path==="selectedItems.splices"){const{removed:t,object:i}=e.detail.value.indexSplices[0],r=i.filter(o=>!this.highlightIds.includes(o.objectId)).map(o=>o.objectId),n=t.filter(o=>this.highlightIds.includes(o.objectId)).map(o=>o.objectId);this.highlightIds.removeMany(n),this.highlightIds.addMany(r)}}_applyRenderersToColumnElement(s){const e=s==null?void 0:s.path,t=e!=null?this.viewModel.findColumn(e):void 0;if(t)try{const{renderFunction:i,footerRenderFunction:r,headerRenderFunction:n}=t;i&&"renderer"in s&&(s.renderer=(o,a,l)=>i({root:o,column:a,rowData:l})),r&&(s.footerRenderer=(o,a)=>r({root:o,column:a})),n&&(s.headerRenderer=(o,a)=>n({root:o,column:a}))}catch{}}};u([p()],R.prototype,"_grid",void 0),u([p()],R.prototype,"_isDataLoaded",void 0),u([p()],R.prototype,"cellClassNameGenerator",null),u([p()],R.prototype,"columns",null),u([p()],R.prototype,"columnReorderingEnabled",null),u([p()],R.prototype,"dataProvider",null),u([p()],R.prototype,"highlightIds",null),u([p()],R.prototype,"itemIdPath",void 0),u([p()],R.prototype,"label",null),u([p(),Re("esri/widgets/FeatureTable/t9n/FeatureTable")],R.prototype,"messages",void 0),u([p()],R.prototype,"multiSortEnabled",null),u([p()],R.prototype,"pageSize",null),u([p()],R.prototype,"rowDetailsRenderer",null),u([p()],R.prototype,"size",null),u([p({readOnly:!0})],R.prototype,"sortOrders",null),u([p()],R.prototype,"store",null),u([p()],R.prototype,"viewModel",void 0),u([p()],R.prototype,"visibleElements",void 0),u([sn("visibleElements")],R.prototype,"castVisibleElements",null),R=u([J("esri.widgets.FeatureTable.Grid.Grid")],R);const Xh=R;let Pe=class extends Wt{constructor(s){super(s),this.columns=null,this.sortable=!1}get path(){return this.header}set path(s){this.header=s}};u([p()],Pe.prototype,"columns",void 0),u([p()],Pe.prototype,"path",null),u([p({readOnly:!0})],Pe.prototype,"sortable",void 0),Pe=u([J("esri.widgets.FeatureTable.Grid.GroupColumn")],Pe);const Qh=Pe,xo="esri.widgets.FeatureTable.support.FeatureStore",Kh=Rt.getLogger(xo);function xi(s,e,t){Kh.error(new Ee(s,e,t))}let z=class extends tn{constructor(s){super(s),this._loaded=!1,this._loadError=!1,this._loading=!1,this._editOperationQueue=[],this._queryOperationQueue=[],this._objectIdCache=new G,this._hasStaleCache=!1,this.count=0,this.failures=new G,this.itemCache=new G,this.relatedRecordsEnabled=!1}destroy(){var s,e;this.layer=null,(s=this.itemCache)==null||s.destroy(),(e=this.failures)==null||e.destroy(),this._set("itemCache",null)}set attachmentsEnabled(s){this._reset(),this._set("attachmentsEnabled",s),this.notifyChange("state")}set filterGeometry(s){this._reset(),this._set("filterGeometry",s),this.notifyChange("state")}set layer(s){this._reset(),this._set("layer",s),this.notifyChange("state")}set objectIds(s){this._reset(),this._set("objectIds",s||null),this.notifyChange("state")}get orderByFields(){return this._get("orderByFields")||[]}set orderByFields(s){const e=this.orderByFields;Oo(s,e)||(this.itemCache.removeAll(),this._hasStaleCache=!0,this._set("orderByFields",s))}get querying(){return this._queryOperationQueue.length>0}set returnGeometry(s){this._reset(),this._set("returnGeometry",s),this.notifyChange("state")}get state(){const{layer:s,_loaded:e,_loadError:t,_loading:i}=this;return t?"error":!s||s.loadError?"disabled":i?"loading":s.loadStatus==="loaded"&&e?"loaded":"ready"}get syncing(){return this._editOperationQueue.length>0}set timeExtent(s){this._reset(),this._set("timeExtent",s),this.notifyChange("state")}get where(){return this._get("where")||null}set where(s){this._reset(),this._set("where",s),this.notifyChange("state")}async load(){this._reset();const{layer:s}=this;if(s){this._loading=!0,this.notifyChange("state");try{await s.when(),await this._syncLayerInfo(),this._loading=!1,this._loaded=!0,this.notifyChange("state")}catch(e){throw this._reset(),this._loadError=!0,this.notifyChange("state"),xi("store:load-error","An error occurred.",{error:e}),e}}}async refreshLayerInfo(){return this._syncLayerInfo()}async addItems(s){}async fetchItems(s){const{page:e,pageSize:t}=s,i=e*t,r=i+t,{layer:n,state:o}=this;if(!n||o!=="loaded")return[];this.notifyChange("querying");const a=await this._query({start:i,num:r,page:e,pageSize:t});return this.notifyChange("state"),a}async verifyFeaturesByObjectId(s){const{layer:e,state:t}=this;if(!e||t!=="loaded")return[];const{features:i}=await this._verifyFeaturesByObjectId(s);return s.map(r=>i.some(n=>(n==null?void 0:n.getObjectId())===r))}async query(s){const{layer:e,state:t}=this;if(!e||t!=="loaded")return[];this.notifyChange("querying");const i=await this._query(s);return this.notifyChange("state"),i}async removeItemAt(s){}async reset(){this._reset()}async updateItem(s){return this._update(s).then(()=>{})}async deleteRowsByObjectId(s){return this._delete({objectIds:s})}getLocalItemByKey(s){return this.getItemByObjectId(s)}getItemByObjectId(s){const{itemCache:e,layer:{objectIdField:t}}=this;return e.find(i=>{var r;return((r=i.feature)==null?void 0:r.attributes[t])===s})}getLocalItemAt(s){return this.itemCache.at(s)}at(s){return Promise.resolve(this.itemCache.at(s))}getObjectIdIndex(s){const{itemCache:e,layer:{objectIdField:t}}=this;return e.findIndex(i=>{var r;return((r=i.feature)==null?void 0:r.attributes[t])===s})}_reset(){this.itemCache.removeAll(),this.failures.removeAll(),this._editOperationQueue=[],this._queryOperationQueue=[],this._hasStaleCache=!1,this._loading=!1,this._loaded=!1,this._loadError=!1,this._set("count",0),this._objectIdCache.removeAll(),this.notifyChange("querying"),this.notifyChange("syncing"),this.notifyChange("state")}_getIdsFromFeatures(s){return s.map(e=>e.attributes[this.layer.objectIdField])}_toFeatureData(s,e){const{layer:{objectIdField:t}}=this;return s.map(i=>{const{attributes:r}=i,n=r[t];return{objectId:n,feature:i,attachments:e?e[n]:null,relatedRecords:null}})}async _update(s){const{layer:e}=this,{operations:t}=je(e);if(!t.supportsUpdate||!("applyEdits"in e))throw new Ee("store:update-error","Update is not supported.");const{index:i,name:r,value:n}=s,o=await this.at(i);if(!(o!=null&&o.feature))throw new Ee("store:update-error","Feature with provided 'objectId' not found.");const{feature:a}=o,l=Ro(a.attributes);l[r]=n;const d=new nn({attributes:l}),h=e.applyEdits({updateFeatures:[d]}).then(c=>{const{updateFeatureResults:_}=c,g=_.find(m=>!!m.error);if(g)throw g.error;return _.length&&(a.attributes=l),c});return this._queueEditOperation(()=>h)}async _delete(s){const{layer:e}=this,{operations:t}=je(e);if(!t.supportsDelete||!("applyEdits"in e))throw new Ee("store:delete-error","Delete is not supported.");const{objectIds:i}=s,r=i.map(n=>{var o;return(o=this.getItemByObjectId(n))==null?void 0:o.feature}).filter(rn);return this._queueEditOperation(()=>e.applyEdits({deleteFeatures:r}))}async _query(s){const{refresh:e}=s;return e===!0?(this.itemCache.removeAll(),this._syncLayerInfo().then(()=>this._queryFeatureData(s))):(this._hasStaleCache&&(await this._updateIds(),this._hasStaleCache=!1),this._queryFeatureData(s))}async _queryFeatureData(s){return this._queueQueryOperation(async()=>{const{features:e}=await this._queryFeatures(s),t=this._getIdsFromFeatures(e),i=await this._queryAttachments(t);return this._toFeatureData(e,i)||[]})}async _syncLayerInfo(){await this._updateCount(),await this._updateIds()}async _updateCount(){await this._queryCount().then(s=>this._set("count",s))}async _updateIds(){var s,e,t;(t=(e=(s=this.layer)==null?void 0:s.capabilities)==null?void 0:e.query)!=null&&t.supportsPagination||(this._objectIdCache.removeAll(),await this._queryForObjectIds().then(i=>this._objectIdCache.addMany(i)))}_queryCount(){var r,n;const{filterGeometry:s,layer:e}=this,t=(n=(r=e.capabilities)==null?void 0:r.query)==null?void 0:n.supportsCacheHint,i=e.createQuery();return i.geometry=s,i.returnGeometry=!1,i.where=this._getWhere(),i.timeExtent=this._getTimeExtent(),i.objectIds=this.objectIds,t&&(i.cacheHint=!0),e.queryFeatureCount(i)}_queryForObjectIds(){var a;const{filterGeometry:s,layer:e,orderByFields:t}=this,i=(a=e.capabilities)==null?void 0:a.query,r=i==null?void 0:i.supportsCacheHint,n=i==null?void 0:i.supportsOrderBy,o=e.createQuery();return o.geometry=s,o.outFields=[e.objectIdField],o.returnGeometry=!1,o.where=this._getWhere(),o.timeExtent=this._getTimeExtent(),o.objectIds=this.objectIds,n&&(o.orderByFields=t),r&&(o.cacheHint=!0),e.queryObjectIds(o)}async _queryFeatures(s){var d,h,c;const{layer:e}=this;if(!((d=je(e))!=null&&d.operations.supportsQuery))throw new Ee("store:query-error","Layer does not support query operation.");const{filterGeometry:t,orderByFields:i,returnGeometry:r}=this,n=(c=(h=this.layer)==null?void 0:h.capabilities)==null?void 0:c.query,{start:o,pageSize:a}=s,l=e.createQuery();return l.returnGeometry=r,n!=null&&n.supportsPagination?(l.start=o,l.num=a,l.where=this._getWhere(),l.timeExtent=this._getTimeExtent(),l.objectIds=this.objectIds):l.objectIds=this.objectIds||this._getObjectIdsForPage(o,a??0),n!=null&&n.supportsOrderBy&&(l.orderByFields=i),t&&(l.geometry=t),n!=null&&n.supportsCacheHint&&(l.cacheHint=!0),e.queryFeatures(l)}async _verifyFeaturesByObjectId(s){var o,a,l;const{layer:e}=this;if(!((o=je(e))!=null&&o.operations.supportsQuery))throw new Ee("store:query-error","Layer does not support query operation.");const{filterGeometry:t,orderByFields:i}=this,r=(l=(a=this.layer)==null?void 0:a.capabilities)==null?void 0:l.query,n=e.createQuery();return n.where=this._getWhere(),n.timeExtent=this._getTimeExtent(),n.returnGeometry=!1,n.objectIds=s,n.outFields=[e.objectIdField],r!=null&&r.supportsOrderBy&&(n.orderByFields=i),t&&(n.geometry=t),r!=null&&r.supportsCacheHint&&(n.cacheHint=!0),e.queryFeatures(n)}_getObjectIdsForPage(s,e){const t=this._objectIdCache.toArray();return t.length>=s+e?t.slice(s,s+e):t.slice(s)}_queryAttachments(s){var o;const{attachmentsEnabled:e,layer:t}=this,{capabilities:i}=t,r=i==null?void 0:i.data.supportsAttachment,n=(o=i==null?void 0:i.operations)==null?void 0:o.supportsQueryAttachments;return e&&r&&n&&"queryAttachments"in t?t.queryAttachments(new qo({objectIds:s,where:this._getWhere()})):Promise.resolve(null)}_syncLocalCache(s){s.forEach(e=>{if(e.feature){const t=e.feature.getObjectId();if(t!=null){const i=this.getObjectIdIndex(t);i===-1?this.itemCache.add(e):this.itemCache.splice(i,1,e)}}})}_queueQueryOperation(s){return this._queryOperationQueue.push(s),this.notifyChange("querying"),s().then(e=>this._queryOperationQueue.includes(s)?(this._syncLocalCache(e),e):[]).catch(e=>{xi("store:query-error","An error occurred.",{error:e});const t={error:e,retry:()=>{this.failures.remove(t),this._queueQueryOperation(s)},cancel:()=>this.failures.remove(t)};return this.failures.add(t),[]}).then(e=>(ii(this._queryOperationQueue,s),this.notifyChange("querying"),e))}_queueEditOperation(s){return this._editOperationQueue.push(s),this.notifyChange("syncing"),s().then(e=>(ii(this._editOperationQueue,s),this.notifyChange("syncing"),e)).catch(e=>{xi("store:edit-error","An error occurred.",{error:e});const t={error:e,retry:()=>{this.failures.remove(t),this._queueEditOperation(s)},cancel:()=>this.failures.remove(t)};throw this.failures.add(t),ii(this._editOperationQueue,s),this.notifyChange("syncing"),e})}_getWhere(){var s;return this.where||((s=this.layer)==null?void 0:s.definitionExpression)||"1=1"}_getTimeExtent(){const s=this.layer;return this.timeExtent||s&&"timeExtent"in s&&s.timeExtent||null}};u([p()],z.prototype,"attachmentsEnabled",null),u([p({readOnly:!0})],z.prototype,"count",void 0),u([p({readOnly:!0})],z.prototype,"failures",void 0),u([p()],z.prototype,"filterGeometry",null),u([p({readOnly:!0})],z.prototype,"itemCache",void 0),u([p({value:null})],z.prototype,"layer",null),u([p({value:null})],z.prototype,"objectIds",null),u([p()],z.prototype,"orderByFields",null),u([p({readOnly:!0})],z.prototype,"querying",null),u([p()],z.prototype,"relatedRecordsEnabled",void 0),u([p({value:!1})],z.prototype,"returnGeometry",null),u([p({readOnly:!0})],z.prototype,"state",null),u([p({readOnly:!0})],z.prototype,"syncing",null),u([p()],z.prototype,"timeExtent",null),u([p()],z.prototype,"where",null),z=u([J(xo)],z);const Eo=z;let A=class extends dn{constructor(e){super(e),this._debounceRefresh=Fo(()=>this._refresh()),this._highlights=new No,this.activeFilters=new G,this.autoRefreshEnabled=!0,this.cellClassNameGenerator=(t,i)=>t.path||null,this.columns=new G,this.dataProvider=async(t,i)=>{const{store:r}=this,{page:n,pageSize:o,sortOrders:a}=t,l=this._sortOrdersToLayerOrderByFields(a);i&&(r?(r.set({orderByFields:l}),r.state!=="loaded"&&r.state!=="loading"&&await r.load(),i&&i(await r.fetchItems({page:n,pageSize:o}))):i&&i([]))},this.editingEnabled=!1,this.grid=null,this.highlightEnabled=!0,this.itemIdPath="objectId",this.messagesCommon=null,this.messagesURIUtils=null,this.relatedRecordsEnabled=!1,this.returnGeometryEnabled=!1,this.store=null,this.tableTemplate=null,this.timeZone=null,this.view=null,this._onLayerRefresh=this._onLayerRefresh.bind(this),this._set("store",new Eo),this._set("grid",new Xh({itemIdPath:this.itemIdPath,viewModel:this}))}initialize(){const e=async()=>{this.messages=await si("esri/widgets/FeatureTable/t9n/FeatureTable"),this.messagesCommon=await si("esri/t9n/common"),this.messagesURIUtils=await si("esri/widgets/support/t9n/uriUtils")};e(),this.addHandles([zo(()=>{e(),this._generateColumns()}),ve(()=>this.highlightIds,"change",t=>this._onHighlightIdsChange(t),{onListenerAdd:()=>{this.highlightIds.forEach(t=>this._highlight(t))},onListenerRemove:()=>{this.highlightIds.forEach(t=>this._unhighlight(t))}}),N(()=>this.layerView,()=>{var t;this._highlights.removeAll(),this.layerView&&this.highlightEnabled&&((t=this.highlightIds)==null||t.forEach(i=>this._highlight(i)))}),N(()=>this.highlightEnabled,()=>{var t;this._highlights.removeAll(),this.highlightEnabled&&((t=this.highlightIds)==null||t.forEach(i=>this._highlight(i)))}),N(()=>this.relatedRecordsEnabled,t=>this.store.relatedRecordsEnabled=t),N(()=>this.returnGeometryEnabled,t=>this.store.returnGeometry=t),N(()=>{var t;return(t=this.layer)==null?void 0:t.loaded},t=>t&&this._onLayerLoad()),N(()=>this.store.state,t=>{var i;t==="loaded"&&((i=this.grid)==null||i.scrollToTop())}),N(()=>[this.messages,this.tableTemplate],()=>{var t;return((t=this.layer)==null?void 0:t.loaded)&&this._generateColumns()}),N(()=>{var t;return[this.timeZone,(t=this.view)==null?void 0:t.timeZone]},()=>{var t;this.columns.forEach(i=>{if("field"in i&&i.field){const{timeZone:r,timeZoneName:n}=this._getTimeZoneInfoForFieldColumn(i.field);i.set({timeZone:r,timeZoneName:n})}}),(t=this.grid)==null||t.onColumnChange()}),N(()=>this.editingEnabled,t=>{var i;this.columns.forEach(r=>{"editingEnabled"in r&&(r.editingEnabled=t)}),(i=this.grid)==null||i.onColumnChange()}),N(()=>{var t;return(t=this.layer)==null?void 0:t.definitionExpression},(t,i)=>(t||i)&&this.store.state==="loaded"&&this.reset()),N(()=>this.layer&&"timeExtent"in this.layer&&this.layer.timeExtent,(t,i)=>(t||i)&&!this.timeExtent&&this.store.state==="loaded"&&this.reset()),ve(()=>this.layer,"refresh",t=>this._onLayerRefresh(t))])}destroy(){var e,t;this._resetColumns(),this._highlights.removeAll(),this._highlights.destroy(),(e=this.grid)==null||e.destroy(),(t=this.columns)==null||t.destroy(),this.layer=null,this.view=null}get _defaultHiddenFields(){return Mo(this.layer)}get activeSortOrders(){var e;return(e=this.grid)!=null&&e.sortOrders?this.grid.sortOrders.map(({path:t,direction:i})=>({fieldName:t,direction:i})):[]}set attachmentsEnabled(e){this.attachmentsEnabled!==e&&(this._set("attachmentsEnabled",e),this._generateColumns(),this.store.attachmentsEnabled=e)}set filterGeometry(e){if(!this.filterGeometry&&!e)return;const t=this.activeFilters.find(i=>i.type==="geometry");t&&this.activeFilters.remove(t),this._set("filterGeometry",e),this.store.filterGeometry=e,e&&this.activeFilters.add({type:"geometry",geometry:e})}get hiddenFields(){return this._get("hiddenFields")??new G}set hiddenFields(e){Array.isArray(e)?this._set("hiddenFields",new G(e)):this._set("hiddenFields",e)}get highlightOnRowSelectEnabled(){return this.highlightEnabled}set highlightOnRowSelectEnabled(e){this.highlightEnabled=e}set layer(e){var t;this._set("layer",e),(t=this.grid)==null||t.clearSort(),this._resetColumns(),this.store.layer=e,e&&(e.loaded?this._onLayerLoad():e.load()),this.notifyChange("state")}get layerView(){var e;return((e=this.view)==null?void 0:e.allLayerViews.find(t=>t.layer===this.layer))||null}set messages(e){var t;(t=this.grid)==null||t.set("messages",e),this._set("messages",e)}get state(){const{store:e}=this;return e&&e.state!=="disabled"?e.state==="loading"?"loading":e.state==="loaded"?"loaded":"ready":"disabled"}set timeExtent(e){this._set("timeExtent",e),this.store.timeExtent=e}clearHighlights(){this._highlights.removeAll()}clearSelection(){var e;(e=this.grid)==null||e.clearSelection()}async deleteSelection(){const e=this.highlightIds.toArray();if(!(e!=null&&e.length))return;const{deleteFeatureResults:t}=await this.store.deleteRowsByObjectId(e),i=t.filter(r=>!r.error).map(r=>r.objectId);i.length&&(this.deselectRows(i),await this.refresh())}deselectRows(e){var i;const t=this._getStoreItemsFromSelectionParams(e);(i=this.grid)==null||i.deselectRows(t)}filterBySelection(){const e=this.highlightIds.toArray();e.length&&(this.clearSelectionFilter(),this.store.objectIds=e,this.activeFilters.add({type:"selection",objectIds:e}))}getObjectIdIndex(e){var t;return(t=this.store)==null?void 0:t.getObjectIdIndex(e)}getValue(e,t){var r;const i=this.store.getItemByObjectId(e);return(r=i==null?void 0:i.feature)==null?void 0:r.attributes[t]}get highlightIds(){return this._get("highlightIds")||new G}set highlightIds(e){Array.isArray(e)?this._set("highlightIds",new G(e)):this._set("highlightIds",e)}async refresh(){return ko(this._debounceRefresh())}reset(){var e;(e=this.grid)==null||e.reset()}selectRows(e){var i;const t=this._getStoreItemsFromSelectionParams(e);return(i=this.grid)==null?void 0:i.selectRows(t)}scrollToIndex(e){var t;(t=this.grid)==null||t.scrollToIndex(e)}clearSelectionFilter(){this.store.objectIds=null;const e=this.activeFilters.find(t=>t.type==="selection");e&&this.activeFilters.remove(e)}async zoomToSelection(){const{layer:e,view:t}=this,i=this.highlightIds.toArray();if(!e||!t||!i.length)return;const r=e.createQuery();r.objectIds=i,r.returnGeometry=!0;const n=await e.queryFeatures(r);try{await t.goTo(n.features)}catch(o){o.name!=="AbortError"&&console.error(o)}}async _refresh(){var t;await this.store.refreshLayerInfo();const e=this.highlightIds.toArray();e.length&&(await this.store.verifyFeaturesByObjectId(e)).forEach((i,r)=>{i||this.deselectRows(e[r])}),(t=this.grid)==null||t.refreshPageCache()}_onLayerLoad(){var t;const e=(t=this.layer.capabilities)==null?void 0:t.query.maxRecordCount;e&&e<this.pageSize&&this.grid&&(this.grid.pageSize=e),this._generateColumns()}_onLayerRefresh(e){this.autoRefreshEnabled&&e.dataChanged&&this.refresh()}_generateColumns(){var i;this._resetColumns();const e=[],t=(i=this.tableTemplate)!=null&&i.columnTemplates?this._generateColumnsFromTemplates(this.tableTemplate.columnTemplates):this._generateDefaultFieldColumns();e.push(...t),e.length&&this.attachmentsEnabled&&e.push(this._generateDefaultAttachmentColumn()),this.columns.addMany([...e])}_generateColumnsFromTemplates(e){const{editingEnabled:t,grid:i,layer:r,messages:n,messagesCommon:o,messagesURIUtils:a,store:l,tableTemplate:d}=this,h=(r==null?void 0:r.fields)??[],c=_=>{var m;const g="fieldName"in _&&((m=_.fieldName)==null?void 0:m.toLowerCase());return h.find(y=>{var w;return g===((w=y.name)==null?void 0:w.toLowerCase())})};return e.map(_=>({template:_,field:c(_)})).filter(({template:_,field:g})=>g!=null||_.type==="group"&&"columnTemplates"in _||_.type==="column").map(({template:_,field:g})=>{if("fieldName"in _){const m=_.visible===!1||_.visible!==!0&&this._isFieldHidden(g==null?void 0:g.name),{direction:y,formatFunction:w,initialSortPriority:b,menuConfig:E,textAlign:T}=_,q=(d==null?void 0:d.expressionInfos)||null,{timeZone:H,timeZoneName:se}=this._getTimeZoneInfoForFieldColumn(g);return new zs({direction:y,editingEnabled:t,expressionInfos:q,field:g,formatFunction:w,grid:i,hidden:m,initialSortPriority:b,layer:r,messages:n,messagesCommon:o,messagesURIUtils:a,menuConfig:E,store:l,template:_,textAlign:T,timeZone:H,timeZoneName:se})}if(_.type==="group"&&"columnTemplates"in _){const m=this._generateColumnsFromTemplates(_.columnTemplates),y=_.visible===!1||_.visible!==!0&&this._isFieldHidden(_.label),{label:w}=_;return new Qh({header:w,columns:m,hidden:y})}return new Wt({..._,timeZone:this.timeZone})})}_generateDefaultFieldColumns(){var l;const{editingEnabled:e,grid:t,layer:i,messages:r,messagesCommon:n,messagesURIUtils:o,store:a}=this;return(((l=this.layer)==null?void 0:l.fields)??[]).map(d=>{const{timeZone:h,timeZoneName:c}=this._getTimeZoneInfoForFieldColumn(d);return new zs({editingEnabled:e,field:d,grid:t,hidden:this._isFieldHidden(d.name),layer:i,store:a,messages:r,messagesCommon:n,messagesURIUtils:o,timeZone:h,timeZoneName:c})})}_getTimeZoneInfoForFieldColumn(e){const{timeZone:t,view:i}=this;return!e||(e==null?void 0:e.type)!=="date"&&(e==null?void 0:e.type)!=="timestamp-offset"?{timeZone:void 0,timeZoneName:void 0}:Do("preferredTimeZone"in this.layer?this.layer.preferredTimeZone:null,"datesInUnknownTimezone"in this.layer&&this.layer.datesInUnknownTimezone,t??(i==null?void 0:i.timeZone)??Lo,qt("short-time"),e.type)}_generateDefaultAttachmentColumn(){var e;return new Zo({header:(e=this.messages)==null?void 0:e.attachments})}_sortOrdersToLayerOrderByFields(e){return e!=null&&e.length?e.filter((t,i,r)=>r.map(n=>n.path).indexOf(t.path)===i).filter(({direction:t})=>!!t).map(({direction:t,path:i})=>i+" "+(t==null?void 0:t.toUpperCase())):[]}_isFieldHidden(e){const t=e==null?void 0:e.toLowerCase();return(this.hiddenFields??this._defaultHiddenFields).some(i=>i.toLowerCase()===t)}_highlight(e){this.layerView&&Bo(this.layerView)&&this._highlights.add(this.layerView.highlight(e),e)}_unhighlight(e){this._highlights.remove(e)}_getStoreItemsFromSelectionParams(e){const t=[];return(e=e instanceof Array?e:[e]).forEach(i=>{let r=i instanceof nn?i:null;const n=r?r.getObjectId():i;if(typeof n=="number"||typeof n=="string"){if(!r){const o=this.store.getItemByObjectId(n);o&&(r=o.feature)}t.push({objectId:n,feature:r})}}),t}_onHighlightIdsChange(e){const{highlightEnabled:t}=this,{added:i,removed:r}=e;t&&(i.forEach(n=>this._highlight(n)),r.forEach(n=>this._unhighlight(n)))}_resetColumns(){this.columns.items.forEach(e=>e.destroy()),this.columns.removeAll()}};u([p()],A.prototype,"_defaultHiddenFields",null),u([p({readOnly:!0})],A.prototype,"activeFilters",void 0),u([p({readOnly:!0})],A.prototype,"activeSortOrders",null),u([p()],A.prototype,"attachmentsEnabled",null),u([p()],A.prototype,"autoRefreshEnabled",void 0),u([p()],A.prototype,"cellClassNameGenerator",void 0),u([p({readOnly:!0})],A.prototype,"columns",void 0),u([p()],A.prototype,"dataProvider",void 0),u([p()],A.prototype,"editingEnabled",void 0),u([p()],A.prototype,"filterGeometry",null),u([p({readOnly:!0})],A.prototype,"grid",void 0),u([p()],A.prototype,"hiddenFields",null),u([p()],A.prototype,"highlightEnabled",void 0),u([p()],A.prototype,"highlightOnRowSelectEnabled",null),u([p({readOnly:!0})],A.prototype,"itemIdPath",void 0),u([p()],A.prototype,"layer",null),u([p()],A.prototype,"layerView",null),u([p()],A.prototype,"messages",null),u([p(),Re("esri/t9n/common")],A.prototype,"messagesCommon",void 0),u([p(),Re("esri/widgets/support/t9n/uriUtils")],A.prototype,"messagesURIUtils",void 0),u([p()],A.prototype,"relatedRecordsEnabled",void 0),u([p()],A.prototype,"returnGeometryEnabled",void 0),u([p({readOnly:!0})],A.prototype,"state",null),u([p({readOnly:!0,type:Eo})],A.prototype,"store",void 0),u([p()],A.prototype,"tableTemplate",void 0),u([p()],A.prototype,"timeExtent",null),u([p()],A.prototype,"timeZone",void 0),u([p()],A.prototype,"view",void 0),u([p()],A.prototype,"highlightIds",null),A=u([J("esri.widgets.FeatureTable.FeatureTableViewModel")],A);const ec=A,Kr={header:!0,menu:!0,menuItems:{clearSelection:!0,refreshData:!0,toggleColumns:!0,selectedRecordsShowAllToggle:!0,selectedRecordsShowSelectedToggle:!0,zoomToSelection:!0,deleteSelection:!0},selectionColumn:!0,columnMenus:!0},he="esri-feature-table",xe=`${he}__prompt`,V={base:he,header:`${he}__header`,title:`${he}__title`,content:`${he}__content`,loader:`${he}__loader`,loaderContainer:`${he}__loader-container`,menuContainer:`${he}__menu`,promptContainer:xe,promptHeader:`${xe}__header`,promptHeading:`${xe}__header__heading`,promptMessage:`${xe}__message`,promptDivider:`${xe}__divider`,promptActions:`${xe}__actions`},en=Rt.getLogger("esri.widgets.FeatureTable");let v=class extends on{constructor(s,e){super(s,e),this._prompt=null,this.menu=null,this.menuConfig=null,this.viewModel=new ec,this.visibleElements={...Kr},this._showDeletePrompt=this._showDeletePrompt.bind(this),this._onDeleteSelectionClick=this._onDeleteSelectionClick.bind(this)}initialize(){var t,i,r;this.addHandles([ve(()=>this.viewModel.columns,"change",()=>this._syncMenuConfig()),ve(()=>this.viewModel.activeFilters,"change",()=>this._syncMenuConfig()),ve(()=>this.highlightIds,"change",n=>{this._syncMenuConfig(),this._onSelectionChange(n)}),N(()=>[this.viewModel.store.querying,this.viewModel.store.syncing,this.editingEnabled],()=>this.scheduleRender()),N(()=>[this.menuConfig,this.editingEnabled],()=>this._syncMenuConfig()),N(()=>this.messages,()=>{var n;this.menu&&(this.menu.label=(n=this.messages)==null?void 0:n.options),this._syncMenuConfig()})]),this._set("menu",new an({label:(t=this.messages)==null?void 0:t.options,iconClass:W.handleHorizontal,...this.menuConfig}));const{attachmentsEnabled:s,relatedRecordsEnabled:e}=this;(r=(i=this.viewModel)==null?void 0:i.store)==null||r.set({attachmentsEnabled:s,relatedRecordsEnabled:e})}loadDependencies(){return $o({button:()=>ri(()=>import("./calcite-button-5457cec5.js"),["assets/calcite-button-5457cec5.js","assets/button-27a2f99e.js","assets/jsxFactory-92036771.js","assets/index-b516d057.js","assets/index-b252abd2.css","assets/uuid-709b6c67.js","assets/form-60623048.js","assets/interactive-39956fb6.js","assets/label2-0071fcd4.js","assets/loadable-7d42c3de.js","assets/locale-2cb18332.js","assets/key-c2c83cc7.js","assets/observers-9c654f26.js","assets/component-7281ffa6.js","assets/t9n-622f279b.js","assets/icon-c122f720.js","assets/loader-ea663d25.js","assets/guid-2347ca41.js"]),icon:()=>ri(()=>import("./calcite-icon-39deb8ae.js"),["assets/calcite-icon-39deb8ae.js","assets/icon-c122f720.js","assets/jsxFactory-92036771.js","assets/index-b516d057.js","assets/index-b252abd2.css","assets/uuid-709b6c67.js","assets/observers-9c654f26.js"]),scrim:()=>ri(()=>import("./calcite-scrim-5ea722f7.js"),["assets/calcite-scrim-5ea722f7.js","assets/scrim-41a5f26e.js","assets/jsxFactory-92036771.js","assets/index-b516d057.js","assets/index-b252abd2.css","assets/uuid-709b6c67.js","assets/locale-2cb18332.js","assets/key-c2c83cc7.js","assets/observers-9c654f26.js","assets/t9n-622f279b.js","assets/loader-ea663d25.js","assets/guid-2347ca41.js"])})}destroy(){var s;this._prompt=null,(s=this.menu)==null||s.destroy()}get activeFilters(){return this.viewModel.activeFilters}get activeSortOrders(){return this.viewModel.activeSortOrders}get attachmentsEnabled(){return this.viewModel.attachmentsEnabled}set attachmentsEnabled(s){this.viewModel.attachmentsEnabled=s}get autoRefreshEnabled(){return this.viewModel.autoRefreshEnabled}set autoRefreshEnabled(s){this.viewModel.autoRefreshEnabled=s}get columnReorderingEnabled(){return this.viewModel.columnReorderingEnabled}set columnReorderingEnabled(s){this.viewModel.columnReorderingEnabled=s}get columns(){return this.viewModel.columns}get editingEnabled(){return this.viewModel.editingEnabled}set editingEnabled(s){this.viewModel.editingEnabled=s}get filterGeometry(){return this.viewModel.filterGeometry}set filterGeometry(s){this.viewModel.filterGeometry=s}get grid(){return this.viewModel.grid}get hiddenFields(){return this.viewModel.hiddenFields}set hiddenFields(s){this.viewModel.hiddenFields=s}get highlightEnabled(){return this.viewModel.highlightEnabled}set highlightEnabled(s){this.viewModel.highlightEnabled=s}get highlightIds(){return this.viewModel.highlightIds}set highlightIds(s){this.viewModel.highlightIds=s}get highlightOnRowSelectEnabled(){return this.viewModel.highlightEnabled}set highlightOnRowSelectEnabled(s){this.viewModel.highlightEnabled=s}get label(){var s;return((s=this.messages)==null?void 0:s.widgetLabel)??""}set label(s){this._overrideIfSome("label",s)}get layer(){return this.viewModel.layer}set layer(s){this.viewModel.layer=s}get messages(){return this.viewModel.messages}set messages(s){this.viewModel.messages=s}get messagesCommon(){return this.viewModel.messagesCommon}set messagesCommon(s){this.viewModel.messagesCommon=s}get messagesURIUtils(){return this.viewModel.messagesURIUtils}set messagesURIUtils(s){this.viewModel.messagesURIUtils=s}get multiSortEnabled(){return this.viewModel.multiSortEnabled}set multiSortEnabled(s){this.viewModel.multiSortEnabled=s}get pageSize(){return this.viewModel.pageSize}set pageSize(s){this.viewModel.pageSize=s}get relatedRecordsEnabled(){return this.viewModel.relatedRecordsEnabled}set relatedRecordsEnabled(s){this.viewModel.relatedRecordsEnabled=s}get state(){return this.viewModel.state}get tableTemplate(){return this.viewModel.tableTemplate}set tableTemplate(s){this.viewModel.tableTemplate=s}get timeExtent(){return this.viewModel.timeExtent}set timeExtent(s){this.viewModel.timeExtent=s}get timeZone(){return this.viewModel.timeZone}set timeZone(s){this.viewModel.timeZone=s}get view(){return this.viewModel.view}set view(s){this.viewModel.view=s}castVisibleElements(s){var t;const e={...Kr,...s};return(t=this.grid)==null||t.set("visibleElements",{...this.grid.visibleElements,selectionColumn:e.selectionColumn,columnMenus:e.columnMenus}),e}clearHighlights(){return Is(en,"`FeatureTable.clearHighlights` is deprecated in favor of FeatureTable.highlightIds'",{replacement:"FeatureTable.highlightIds",version:"4.25",see:"https://developers.arcgis.com/javascript/latest/api-reference/esri-widgets-FeatureTable.html#highlightIds"}),this.viewModel.clearHighlights()}clearSelection(){return Is(en,"`FeatureTable.clearSelection` is deprecated in favor of FeatureTable.highlightIds'",{replacement:"FeatureTable.highlightIds",version:"4.25",see:"https://developers.arcgis.com/javascript/latest/api-reference/esri-widgets-FeatureTable.html#highlightIds"}),this.viewModel.clearSelection()}clearSelectionFilter(){return this.viewModel.clearSelectionFilter()}deleteSelection(s){return this.highlightIds.length?s?(this._showDeletePrompt(),this.scheduleRender(),Promise.resolve()):this.viewModel.deleteSelection():Promise.resolve()}deselectRows(s){return this.viewModel.deselectRows(s)}filterBySelection(){return this.viewModel.filterBySelection()}findColumn(s){return this.viewModel.findColumn(s)}hideColumn(s){var e;(e=this.grid)==null||e.hideColumn(s),this._syncMenuConfig()}refresh(){return this.viewModel.refresh()}get returnGeometryEnabled(){return this.viewModel.returnGeometryEnabled}set returnGeometryEnabled(s){this.viewModel.returnGeometryEnabled=s}showAllColumns(){return this.viewModel.showAllColumns()}showColumn(s){var e;(e=this.grid)==null||e.showColumn(s),this._syncMenuConfig()}sortColumn(s,e){return this.viewModel.sortColumn(s,e)}selectRows(s){return this.viewModel.selectRows(s)}scrollToIndex(s){return this.viewModel.scrollToIndex(s)}zoomToSelection(){this.viewModel.zoomToSelection()}render(){var t;const{_prompt:s}=this,e=s!=null?O("calcite-scrim",null,this._renderPrompt(s)):null;return O("div",{bind:this,class:this.classes(V.base,ln.widget)},this.visibleElements.header?this._renderHeader():null,O("div",{class:V.content},this.state!=="disabled"&&((t=this.grid)==null?void 0:t.render())),e)}_renderPrompt({title:s,message:e,context:t,actions:i}){const r=O("calcite-button",{appearance:"solid",key:"prompt-primary-button",kind:t==="danger"?"danger":"brand",onclick:i.primary.action,width:i.secondary?"half":"full"},i.primary.label),n=i.secondary?O("calcite-button",{appearance:"outline",key:"prompt-secondary-button",kind:t==="danger"?"danger":"brand",onclick:i.secondary.action,width:"half"},i.secondary.label):null;return O("div",{class:`${V.promptContainer}--${t}`},O("div",{class:V.promptHeader},O("calcite-icon",{icon:"exclamation-mark-triangle"}),O(Wo,{class:V.promptHeading,level:2},s)),O("div",{class:V.promptMessage},e),O("div",{class:V.promptDivider}),O("div",{class:V.promptActions},n,r))}_renderHeader(){return O("div",{class:V.header,key:"header"},this._renderLoader(),this._renderTitle(),this.visibleElements.menu?this._renderMenu():null)}_renderTitle(){return O("div",{class:V.title,key:"title"},this._getTitle())}_getTitle(){const{grid:s,highlightIds:e,layer:t,messages:i,viewModel:{size:r}}=this;return s&&t?Ps(i.header,{title:t.title,count:r,selected:e.length||0}):""}_renderLoader(){const{state:s,store:e}=this.viewModel,t=s==="loading"||e.syncing||e.querying;return O("div",{class:V.loaderContainer},t?O("div",{class:V.loader,key:"loader"}):null)}_renderMenu(){var s;return O("div",{class:V.menuContainer},(s=this.menu)==null?void 0:s.render())}_onSelectionChange(s){const{added:e,removed:t}=s,i=e.map(n=>this.viewModel.store.getLocalItemByKey(n)||{objectId:n,feature:null,attachments:null,relatedRecords:null}),r=t.map(n=>this.viewModel.store.getLocalItemByKey(n)||{objectId:n,feature:null,attachments:null,relatedRecords:null});this.emit("selection-change",{added:i,removed:r})}_syncMenuConfig(){var s;(s=this.menu)==null||s.set({...this.menuConfig,items:this._getMenuItems()})}_getMenuItems(){var i;const s=(i=this.menuConfig)==null?void 0:i.items,e=this._getDefaultMenuItems(),t=[];return e!=null&&e.length&&t.push(...e),s!=null&&s.length&&t.push(...s),t}_getDefaultMenuItems(){var o,a,l,d;const{highlightIds:s,messages:e,viewModel:t,visibleElements:i}=this,{menuItems:r}=i,n=[];if(r!=null&&r.refreshData&&n.push(new re({selectionEnabled:!1,label:e==null?void 0:e.refreshData,clickFunction:()=>this.refresh()})),s.length){const h=this._getSelectionFilter();if(r!=null&&r.clearSelection&&n.push(new re({selectionEnabled:!1,label:e==null?void 0:e.clearSelection,clickFunction:()=>{var c;return(c=this.highlightIds)==null?void 0:c.removeAll()}})),r!=null&&r.zoomToSelection&&this.view&&n.push(new re({selectionEnabled:!1,label:e==null?void 0:e.zoomToSelection,clickFunction:()=>this.viewModel.zoomToSelection()})),(r==null?void 0:r.selectedRecordsShowSelectedToggle)&&(!h||s.length!==h.objectIds.length)){const c=e.showSelected,_=new re({selectionEnabled:!1,label:c,clickFunction:()=>{this.filterBySelection(),_.set("label",c)}});n.push(_)}r!=null&&r.deleteSelection&&this.editingEnabled&&((l=(a=(o=this.layer)==null?void 0:o.capabilities)==null?void 0:a.operations)!=null&&l.supportsDelete)&&n.push(new re({selectionEnabled:!1,label:e.deleteSelection,clickFunction:this._showDeletePrompt}))}if(r!=null&&r.selectedRecordsShowAllToggle&&this._hasSelectionFilter()){const h=e.showAllRecords,c=new re({selectionEnabled:!1,label:h,clickFunction:()=>{this.clearSelectionFilter(),c.set("label",h)}});n.push(c)}return r!=null&&r.toggleColumns&&n.push(new re({iconClass:W.right,label:e==null?void 0:e.toggleColumns,clickFunction:this._toggleMenuItemSelectedIcon,items:(d=t==null?void 0:t.columns)==null?void 0:d.items.map(({header:h,hidden:c,path:_})=>new re({label:h||_,selected:!c,selectionEnabled:!0,iconClass:W.checkMark,clickFunction:()=>this._toggleColumnFromMenuItem(_)}))})),n.length?n:null}_toggleMenuItemSelectedIcon({item:s}){s==null||s.set("iconClass",s!=null&&s.selected?W.down:W.right)}_toggleColumnFromMenuItem(s){const{grid:e,viewModel:t}=this,i=t.findColumn(s);i!=null&&i.hidden?e==null||e.showColumn(s):e==null||e.hideColumn(s)}_showDeletePrompt(){const{messages:s,messagesCommon:e}=this,t=this.highlightIds.length||0,i=Ps(s.deleteSelectionCount,{count:t});this.menu&&(this.menu.open=!1),this._prompt={title:i,message:s.deleteRecordsRemoved,context:"danger",actions:{primary:{label:e.delete,action:this._onDeleteSelectionClick},secondary:{label:s.keepRecords,action:()=>this._prompt=null}}}}async _onDeleteSelectionClick(){await this.viewModel.deleteSelection(),this._prompt=null}_getSelectionFilter(){var s;return(s=this.viewModel.activeFilters)==null?void 0:s.find(e=>e.type==="selection")}_hasSelectionFilter(){return!!this._getSelectionFilter()}};u([p({readOnly:!0})],v.prototype,"activeFilters",null),u([p({readOnly:!0})],v.prototype,"activeSortOrders",null),u([p()],v.prototype,"attachmentsEnabled",null),u([p()],v.prototype,"autoRefreshEnabled",null),u([p()],v.prototype,"columnReorderingEnabled",null),u([p({readOnly:!0})],v.prototype,"columns",null),u([p()],v.prototype,"editingEnabled",null),u([p()],v.prototype,"filterGeometry",null),u([p({readOnly:!0})],v.prototype,"grid",null),u([p()],v.prototype,"hiddenFields",null),u([p()],v.prototype,"highlightEnabled",null),u([p()],v.prototype,"highlightIds",null),u([p()],v.prototype,"highlightOnRowSelectEnabled",null),u([p()],v.prototype,"label",null),u([p()],v.prototype,"layer",null),u([p(),Re("esri/widgets/FeatureTable/t9n/FeatureTable")],v.prototype,"messages",null),u([p(),Re("esri/t9n/common")],v.prototype,"messagesCommon",null),u([p(),Re("esri/widgets/support/t9n/uriUtils")],v.prototype,"messagesURIUtils",null),u([p({readOnly:!0})],v.prototype,"menu",void 0),u([p()],v.prototype,"menuConfig",void 0),u([p()],v.prototype,"multiSortEnabled",null),u([p()],v.prototype,"pageSize",null),u([p()],v.prototype,"relatedRecordsEnabled",null),u([p({readOnly:!0})],v.prototype,"state",null),u([p()],v.prototype,"tableTemplate",null),u([p()],v.prototype,"timeExtent",null),u([p()],v.prototype,"timeZone",null),u([p()],v.prototype,"view",null),u([p()],v.prototype,"viewModel",void 0),u([p()],v.prototype,"visibleElements",void 0),u([sn("visibleElements")],v.prototype,"castVisibleElements",null),u([p()],v.prototype,"returnGeometryEnabled",null),v=u([J("esri.widgets.FeatureTable")],v);const Pc=v;export{Pc as default};
