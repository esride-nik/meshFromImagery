import{b5 as p,kg as O,kh as C,a5 as l,a6 as r,a9 as S,_ as h}from"./index-b516d057.js";import{e as k,O as v,r as A,n as f}from"./jsxFactory-92036771.js";import{u as D}from"./ShadowCastVisualizeTechniqueConfiguration-4fcc4e25.js";const b={hour:"2-digit",minute:"2-digit",timeZone:"UTC"},y={hour:"numeric",timeZone:"UTC"};function P(e,o){let t;if(o==="tick"){const s=Math.round(C(e,"minutes","hours"));t=new Date(C(s,"hours","milliseconds"))}else t=new Date(6e4*e);let n=p(t,b);return e!==0&&n==="00:00"&&(n="24:00"),o==="tick"&&n.includes(" ")&&(n=p(t,y),n=n.replace(":00","")),n}function B(e,o,t,n){if(o==null||t==null)return null;const s=D.getTimes(e,o,t),m=s.sunrise,u=s.sunset,a=O(e,n,"hours"),c=O(m,n,"hours"),E=O(u,n,"hours");if(a.getUTCDate()!==c.getUTCDate()||a.getUTCDate()!==E.getUTCDate()){const d=a.getTime()-c.getTime()>0?1:-1;m.setUTCDate(m.getUTCDate()+d),u.setUTCDate(u.getUTCDate()+d)}return{sunrise:m,sunset:u}}function I(e){return[{utcOffset:-12,short:"UTC-12",long:e.timezoneDateline},{utcOffset:-11,short:"UTC-11",long:e.timezoneSamoa},{utcOffset:-10,short:e.timezoneHAST,long:e.timezoneHawaii},{utcOffset:-9,short:e.timezoneAKST,long:e.timezoneAlaska},{utcOffset:-8,short:e.timezonePST,long:e.timezoneBaja},{utcOffset:-7,short:e.timezoneMST,long:e.timezoneMountain},{utcOffset:-7,short:e.timezoneMST,long:e.timezoneLaPaz},{utcOffset:-7,short:e.timezoneMST,long:e.timezoneArizona},{utcOffset:-6,short:e.timezoneCST,long:e.timezoneSaskatchewan},{utcOffset:-6,short:e.timezoneCST,long:e.timezoneCentralAmerica},{utcOffset:-6,short:e.timezoneCST,long:e.timezoneCentralTime},{utcOffset:-6,short:e.timezoneCST,long:e.timezoneMexico},{utcOffset:-5,short:e.timezoneEST,long:e.timezoneEasternUS},{utcOffset:-5,short:e.timezoneEST,long:e.timezoneLima},{utcOffset:-5,short:e.timezoneEST,long:e.timezoneIndiana},{utcOffset:-4,short:null,long:e.timezoneAtlantic},{utcOffset:-4,short:null,long:e.timezoneCuiaba},{utcOffset:-4,short:null,long:e.timezoneSantiago},{utcOffset:-4,short:null,long:e.timezoneManaus},{utcOffset:-4,short:null,long:e.timezoneAsuncion},{utcOffset:-3,short:null,long:e.timezoneBrasilia},{utcOffset:-3,short:null,long:e.timezoneGreenland},{utcOffset:-3,short:null,long:e.timezoneMontevideo},{utcOffset:-3,short:null,long:e.timezoneCayenne},{utcOffset:-3,short:null,long:e.timezoneBuenosAires},{utcOffset:-2,short:null,long:e.timezoneMidAtlantic},{utcOffset:-1,short:null,long:e.timezoneAzores},{utcOffset:-1,short:null,long:e.timezoneCaboVerde},{utcOffset:0,short:null,long:e.timezoneDublin},{utcOffset:0,short:null,long:e.timezoneReykjavik},{utcOffset:0,short:null,long:e.timezoneCasablanca},{utcOffset:1,short:e.timezoneCET,long:e.timezoneBelgrade},{utcOffset:1,short:e.timezoneCET,long:e.timezoneSarajevo},{utcOffset:1,short:e.timezoneCET,long:e.timezoneBrussels},{utcOffset:1,short:e.timezoneCET,long:e.timezoneWCAfrica},{utcOffset:1,short:e.timezoneCET,long:e.timezoneAmsterdam},{utcOffset:1,short:e.timezoneCET,long:e.timezoneWindhoek},{utcOffset:2,short:e.timezoneEET,long:e.timezoneMinsk},{utcOffset:2,short:e.timezoneEET,long:e.timezoneCairo},{utcOffset:2,short:e.timezoneEET,long:e.timezoneHelsinki},{utcOffset:2,short:e.timezoneEET,long:e.timezoneAthens},{utcOffset:2,short:e.timezoneEET,long:e.timezoneJerusalem},{utcOffset:2,short:e.timezoneEET,long:e.timezoneAmman},{utcOffset:2,short:e.timezoneEET,long:e.timezoneBeirut},{utcOffset:2,short:e.timezoneEET,long:e.timezoneHarare},{utcOffset:2,short:e.timezoneEET,long:e.timezoneDamascus},{utcOffset:2,short:e.timezoneEET,long:e.timezoneIstanbul},{utcOffset:3,short:e.timezoneMSK,long:e.timezoneKuwait},{utcOffset:3,short:e.timezoneMSK,long:e.timezoneBaghdad},{utcOffset:3,short:e.timezoneMSK,long:e.timezoneNairobi},{utcOffset:3,short:e.timezoneMSK,long:e.timezoneKaliningrad},{utcOffset:4,short:e.timezoneGST,long:e.timezoneMoscow},{utcOffset:4,short:e.timezoneGST,long:e.timezoneMuscat},{utcOffset:4,short:e.timezoneGST,long:e.timezoneBaku},{utcOffset:4,short:e.timezoneGST,long:e.timezoneYerevan},{utcOffset:4,short:e.timezoneGST,long:e.timezoneTbilisi},{utcOffset:4,short:e.timezoneGST,long:e.timezonePortLouis},{utcOffset:5,short:null,long:e.timezoneTashkent},{utcOffset:5,short:null,long:e.timezoneIslamabad},{utcOffset:6,short:null,long:e.timezoneEkaterinburg},{utcOffset:6,short:null,long:e.timezoneAstana},{utcOffset:6,short:null,long:e.timezoneDhaka},{utcOffset:7,short:e.timezoneICT,long:e.timezoneNovosibirsk},{utcOffset:7,short:e.timezoneICT,long:e.timezoneBangkok},{utcOffset:8,short:e.timezoneCCT,long:e.timezoneKrasnoyarsk},{utcOffset:8,short:e.timezoneCCT,long:e.timezoneBeijing},{utcOffset:8,short:e.timezoneCCT,long:e.timezoneSingapore},{utcOffset:8,short:e.timezoneCCT,long:e.timezoneTaipei},{utcOffset:8,short:e.timezoneCCT,long:e.timezonePerth},{utcOffset:8,short:e.timezoneCCT,long:e.timezoneUlaanbaatar},{utcOffset:9,short:e.timezoneJST,long:e.timezoneIrkutsk},{utcOffset:9,short:e.timezoneJST,long:e.timezoneSeoul},{utcOffset:9,short:e.timezoneJST,long:e.timezoneOsaka},{utcOffset:10,short:e.timezoneAEST,long:e.timezoneYakutsk},{utcOffset:10,short:e.timezoneAEST,long:e.timezoneCanberra},{utcOffset:10,short:e.timezoneAEST,long:e.timezoneBrisbane},{utcOffset:10,short:e.timezoneAEST,long:e.timezoneHobart},{utcOffset:10,short:e.timezoneAEST,long:e.timezoneGuam},{utcOffset:11,short:null,long:e.timezoneVladivostok},{utcOffset:11,short:null,long:e.timezoneSolomon},{utcOffset:12,short:e.timezoneNZST,long:e.timezoneMagadan},{utcOffset:12,short:e.timezoneNZST,long:e.timezoneFiji},{utcOffset:12,short:e.timezoneNZST,long:e.timezoneAuckland},{utcOffset:12,short:e.timezoneNZST,long:e.timezoneNukualofa}].map(({utcOffset:o,short:t,long:n})=>{const s=o>0?`UTC+${o}`:o<0?`UTC${o}`:"GMT";return t?{utcOffset:o,short:t,shortWithUTC:`${s} (${t})`,long:n}:{utcOffset:o,short:s,shortWithUTC:s,long:n}})}const g="esri-timezone-picker",z={base:g,trigger:`${g}__trigger`,itemTitle:`${g}__item-title`,itemDescription:`${g}__item_description`};let i=class extends v{constructor(e,o){super(e,o),this.value=null,this.onChange=null,this.open=!1,this.onOpen=null,this.onClose=null,this._selectedId=null,this._onOpen=()=>{var t;this.open=!0,(t=this.onOpen)==null||t.call(this)},this._onClose=()=>{var t;this.open=!1,(t=this.onClose)==null||t.call(this)},this._killEvent=t=>(t.stopPropagation(),!0),this._onChange=t=>{var u,a,c;const n=t.target,s=(u=n.selectedItems)==null?void 0:u[0].getAttribute("data-id"),m=(a=_(this._gmtOffsets,s))==null?void 0:a.utcOffset;m&&(this._selectedId=s,(c=this.onChange)==null||c.call(this,m))}}loadDependencies(){return A({button:()=>h(()=>import("./calcite-button-5457cec5.js"),["assets/calcite-button-5457cec5.js","assets/button-27a2f99e.js","assets/jsxFactory-92036771.js","assets/index-b516d057.js","assets/index-b252abd2.css","assets/uuid-709b6c67.js","assets/form-60623048.js","assets/interactive-39956fb6.js","assets/label2-0071fcd4.js","assets/loadable-7d42c3de.js","assets/locale-2cb18332.js","assets/key-c2c83cc7.js","assets/observers-9c654f26.js","assets/component-7281ffa6.js","assets/t9n-622f279b.js","assets/icon-c122f720.js","assets/loader-ea663d25.js","assets/guid-2347ca41.js"]),dropdown:()=>h(()=>import("./calcite-dropdown-772cccf6.js"),["assets/calcite-dropdown-772cccf6.js","assets/jsxFactory-92036771.js","assets/index-b516d057.js","assets/index-b252abd2.css","assets/uuid-709b6c67.js","assets/floating-ui-a6c9d5df.js","assets/debounce-7cc294e2.js","assets/guid-2347ca41.js","assets/interactive-39956fb6.js","assets/key-c2c83cc7.js","assets/loadable-7d42c3de.js","assets/observers-9c654f26.js","assets/openCloseComponent-3fbda1cf.js"]),"dropdown-group":()=>h(()=>import("./calcite-dropdown-group-67362aeb.js"),["assets/calcite-dropdown-group-67362aeb.js","assets/jsxFactory-92036771.js","assets/index-b516d057.js","assets/index-b252abd2.css","assets/uuid-709b6c67.js","assets/observers-9c654f26.js","assets/resources2-13ab706c.js"]),"dropdown-item":()=>h(()=>import("./calcite-dropdown-item-38ec91b4.js"),["assets/calcite-dropdown-item-38ec91b4.js","assets/jsxFactory-92036771.js","assets/index-b516d057.js","assets/index-b252abd2.css","assets/uuid-709b6c67.js","assets/resources2-13ab706c.js","assets/loadable-7d42c3de.js","assets/component-7281ffa6.js","assets/icon-c122f720.js","assets/observers-9c654f26.js"])})}render(){const e=this._messages;if(!e)return f("div",{class:z.base,key:"empty"});const o=this._selectedItem,t=T(o);return f("div",{class:z.base,key:"container",onpointerdown:this._killEvent},f("calcite-dropdown",{open:this.open,overlayPositioning:"fixed",placement:"bottom-end",scale:"s",onCalciteDropdownClose:this._onClose,onCalciteDropdownOpen:this._onOpen,onCalciteDropdownSelect:this._onChange},f("calcite-button",{appearance:"transparent",class:z.trigger,key:"trigger",kind:"neutral",scale:"s",slot:"trigger",tabIndex:0,title:e.chooseTimezone},(o==null?void 0:o.short)??""),f("calcite-dropdown-group",{selectionMode:"single"},this._gmtOffsets.map(n=>{const s=T(n);return f("calcite-dropdown-item",{"data-id":s,key:s,selected:t===s},f("div",{class:z.itemTitle,key:"title"},n.shortWithUTC),f("div",{class:z.itemDescription,key:"description"},n.long))}))))}get _gmtOffsets(){const e=this._messages;return e?I(e):[]}get _selectedItem(){const e=this._gmtOffsets,o=this.value,t=_(e,this._selectedId);return(t==null?void 0:t.utcOffset)===o?t:M(e,o)}};function _(e,o){return e.find(t=>T(t)===o)}function M(e,o){return e.find(t=>t.utcOffset===o)}function T(e){return e?`${e.utcOffset}-${e.long}`:void 0}l([r()],i.prototype,"value",void 0),l([r()],i.prototype,"onChange",void 0),l([r()],i.prototype,"open",void 0),l([r()],i.prototype,"onOpen",void 0),l([r()],i.prototype,"onClose",void 0),l([r(),k("esri/widgets/support/t9n/timezone")],i.prototype,"_messages",void 0),l([r()],i.prototype,"_gmtOffsets",null),l([r()],i.prototype,"_selectedItem",null),l([r()],i.prototype,"_selectedId",void 0),i=l([S("esri.widgets.support.TimezonePicker")],i);export{i as d,P as f,B as l};
